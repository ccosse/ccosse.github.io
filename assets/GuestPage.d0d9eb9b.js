import{c as P,b as q,o as K,n as z}from"./QBtn.0fefc67b.js";import{e as h,c as u,h as f,i as k,g as N,x as R,J as V,r as c,k as Y,o as A,Y as D,M as J,N as T,_ as O,O as j,$ as U,S as _,R as F,a0 as W,Q as X,V as Z}from"./index.16332cc5.js";import{u as H}from"./re-store.783b3434.js";var ee=P({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:i}){const{proxy:{$q:o}}=N(),a=k(R,h);if(a===h)return console.error("QPage needs to be a deep child of QLayout"),h;if(k(V,h)===h)return console.error("QPage needs to be child of QPageContainer"),h;const n=u(()=>{const r=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const g=a.isContainer.value===!0?a.containerHeight.value:o.screen.height;return e.styleFn(r,g)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-r+"px":o.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":o.screen.height-r+"px"}}),s=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>f("main",{class:s.value,style:n.value},q(i.default))}});const te={ratio:[String,Number]};function ie(e,i){return u(()=>{const o=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const ne=16/9;var oe=P({name:"QImg",props:{...te,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ne},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:o}){const a=c(e.initialRatio),m=ie(e,a);let n=null,s=!1;const r=[c(null),c(b())],g=c(0),y=c(!1),S=c(!1),l=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),v=u(()=>({width:e.width,height:e.height})),p=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),x=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));Y(()=>d(),Q);function d(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function b(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function Q(t){n!==null&&(clearTimeout(n),n=null),S.value=!1,t===null?(y.value=!1,r[g.value^1].value=b()):y.value=!0,r[g.value].value=t}function E({target:t}){s!==!0&&(n!==null&&(clearTimeout(n),n=null),a.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,w(t,1))}function w(t,$){s===!0||$===1e3||(t.complete===!0?L(t):n=setTimeout(()=>{n=null,w(t,$+1)},50))}function L(t){s!==!0&&(g.value=g.value^1,r[g.value].value=null,y.value=!1,S.value=!1,o("load",t.currentSrc||t.src))}function G(t){n!==null&&(clearTimeout(n),n=null),y.value=!1,S.value=!0,r[g.value].value=null,r[g.value^1].value=b(),o("error",t)}function I(t){const $=r[t].value,C={key:"img_"+t,class:p.value,style:x.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...$};return g.value===t?(C.class+=" q-img__image--waiting",Object.assign(C,{onLoad:E,onError:G})):C.class+=" q-img__image--loaded",f("div",{class:"q-img__container absolute-full",key:"img"+t},f("img",C))}function M(){return y.value!==!0?f("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},q(i[S.value===!0?"error":"default"])):f("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[f(K,{color:e.spinnerColor,size:e.spinnerSize})])}return Q(d()),A(()=>{s=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const t=[];return m.value!==null&&t.push(f("div",{key:"filler",style:m.value})),S.value!==!0&&(r[0].value!==null&&t.push(I(0)),r[1].value!==null&&t.push(I(1))),t.push(f(D,{name:"q-transition--fade"},M)),f("div",{class:l.value,style:v.value,role:"img","aria-label":e.alt},t)}}});const re={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ae(){const{props:e,proxy:{$q:i}}=N(),o=k(R,h);if(o===h)return console.error("QPageSticky needs to be child of QLayout"),h;const a=u(()=>{const l=e.position;return{top:l.indexOf("top")>-1,right:l.indexOf("right")>-1,bottom:l.indexOf("bottom")>-1,left:l.indexOf("left")>-1,vertical:l==="top"||l==="bottom",horizontal:l==="left"||l==="right"}}),m=u(()=>o.header.offset),n=u(()=>o.right.offset),s=u(()=>o.footer.offset),r=u(()=>o.left.offset),g=u(()=>{let l=0,v=0;const p=a.value,x=i.lang.rtl===!0?-1:1;p.top===!0&&m.value!==0?v=`${m.value}px`:p.bottom===!0&&s.value!==0&&(v=`${-s.value}px`),p.left===!0&&r.value!==0?l=`${x*r.value}px`:p.right===!0&&n.value!==0&&(l=`${-x*n.value}px`);const d={transform:`translate(${l}, ${v})`};return e.offset&&(d.margin=`${e.offset[1]}px ${e.offset[0]}px`),p.vertical===!0?(r.value!==0&&(d[i.lang.rtl===!0?"right":"left"]=`${r.value}px`),n.value!==0&&(d[i.lang.rtl===!0?"left":"right"]=`${n.value}px`)):p.horizontal===!0&&(m.value!==0&&(d.top=`${m.value}px`),s.value!==0&&(d.bottom=`${s.value}px`)),d}),y=u(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function S(l){const v=q(l.default);return f("div",{class:y.value,style:g.value},e.expand===!0?v:[f("div",v)])}return{$layout:o,getStickyContent:S}}var B=P({name:"QPageSticky",props:re,setup(e,{slots:i}){const{getStickyContent:o}=ae();return()=>o(i)}});const le=J({name:"StepperComponent4",props:{initialImgSrc:{type:String,required:!0},initialImgFit:{type:String},initialCount:{type:Number,default:22}},setup(e){const i=H(T());return{props:e,reStore:i,bcr:c({width:300,height:200}),imgSrc:c(e.initialImgSrc),imgFit:c(e.initialImgFit),count:c(e.initialCount)}},mounted(){console.log("stepper ",this.props)},methods:{nextImg(){console.log("stepper nextImg"),this.reStore.nextImg(),this.imgSrc=this.reStore.imgs[this.reStore.imgIdx].url},cycleFit(){console.log("stpper.cycleFit"),this.reStore.cycleFit(),this.imgFit=this.reStore.imgFit,console.log("stepper",this.imgFit)}}});function se(e,i,o,a,m,n){return j(),U(W,null,[_(oe,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},null,8,["src","fit"]),_(B,{position:"top-right",offset:[120,0],title:"Toggle slideshow of page images"},{default:F(()=>[_(z,{style:{margin:"11px 0px"},onClick:i[0]||(i[0]=s=>this.cycleFit()),icon:"fit_screen"})]),_:1}),_(B,{position:"top-right",offset:[60,0],title:"Next image"},{default:F(()=>[_(z,{style:{margin:"11px 0px"},onClick:i[1]||(i[1]=s=>this.nextImg()),icon:"start"})]),_:1})],64)}var ue=O(le,[["render",se]]);const ce={components:{StepperComponent:ue},props:{initialCount:Number},setup(e){const i=H(T());return{step:c(1),reStore:i,imgSrc:c(i.imgs[0].url),imgFit:c(i.imgFit),count:c(e.initialCount),props:e}},mounted(){console.log("GuestPage PROPS",this.props)}};function ge(e,i,o,a,m,n){const s=Z("StepperComponent");return j(),X(ee,{id:"QPage",class:"row justify-center"},{default:F(()=>[_(s,{"initial-img-src":this.imgSrc,"initial-img-fit":this.imgFit,"initial-count":this.count},null,8,["initial-img-src","initial-img-fit","initial-count"])]),_:1})}var he=O(ce,[["render",ge]]);export{he as default};
