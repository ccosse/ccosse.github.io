import{Q as x}from"./QPage.ee8f256f.js";import{u as g,s as S,a as c}from"./re-store.744aca32.js";import{Q as v}from"./QImg.73988ab8.js";import{g as C,h as B,i as b,j as y,d as u,r as a,D as E,_ as m,o as h,au as T,a as r,w as n,e as l,ag as d,Q as p,av as $,c as F,f as Q}from"./index.2230bdf1.js";import{Q as k}from"./QPageSticky.54edffa6.js";import"./firebase.0eb8f378.js";import"./index.2cf0d985.js";var w=C({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const i=B(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>e[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:i.value},y(t.default))}});const D=u({name:"EditorComponent",setup(){return{reStore:g(),imgCap:a(""),imgSrc:a(""),imgFit:a(""),pageText:a("")}},mounted(){console.log("EditorComponent.mounted"),E(this.reStore.courses,async(t,i)=>{this.reStore.courses.ck,this.reStore.courses.aid,this.reStore.courses.pgIdx;const o=this.reStore.courses.imgIdx;try{this.imgFit=this.reStore.page.imgFit,this.pageText=this.reStore.page.pageText,this.imgSrc=this.reStore.page.imgs[o].url,this.imgCap=this.reStore.page.imgs[o].cap}catch{}},{immediate:!0,deep:!0}),this.reStore.courses.ck,this.reStore.courses.aid,this.reStore.courses.pgIdx;const e=this.reStore.courses.imgIdx;try{this.imgFit=this.reStore.page.imgFit,this.pageText=this.reStore.page.pageText,this.imgSrc=this.reStore.page.imgs[e].url,this.imgCap=this.reStore.page.imgs[e].cap}catch{}},methods:{toggleText(){S("#slideTextDiv").classed("hidden")?c("#slideTextDiv").classed("hidden",!1):c("#slideTextDiv").classed("hidden",!0)},cycleFitMode(){const e=["scale-down","cover"];let t=e.indexOf(this.imgFit);t+=1,t>e.length-1&&(t=0),this.reStore.page.imgFit=e[t],this.reStore.courses.trigger+=1}}}),I={id:"slideCaptionDiv",class:"absolute-top text-subtitle1 text-center q-my-xl",contentEditable:"true"},q={id:"slideTextDiv",class:"text-panel text-center absolute-center",contentEditable:"true"};function j(e,t,i,o,s,f){return h(),T($,null,[r(v,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},{default:n(()=>[l("div",I,d(this.imgCap),1)]),_:1},8,["src","fit"]),l("div",q,d(this.pageText),1),r(k,{position:"bottom-right"},{default:n(()=>[r(w,null,{default:n(()=>[r(p,{fab:"","label-position":"right",color:"primary",icon:"article",onClick:this.toggleText,padding:"sm"},null,8,["onClick"]),r(p,{fab:"","label-position":"right",color:"primary",icon:"fit_screen",onClick:this.cycleFitMode,padding:"sm"},null,8,["onClick"])]),_:1})]),_:1})],64)}var P=m(D,[["render",j]]);const O=u({name:"EditorPage",components:{EditorComponent:P},setup(e){const t=g();return{props:e,reStore:t}}});function V(e,t,i,o,s,f){const _=Q("EditorComponent");return h(),F(x,{id:"QPage",class:"row justify-center"},{default:n(()=>[r(_)]),_:1})}var J=m(O,[["render",V]]);export{J as default};
