import{Q as G}from"./QPage.f6fab0af.js";import{u as B}from"./re-store.707f4b08.js";import{j as u,i as Q,r as s,F as H,n as M,k as g,ad as A,l as N,ae as D,m as C,B as K,q as U,P as V,d as z,s as W,_ as T,o as R,af as X,a as y,w as k,Q as I,ag as Y,c as J,h as Z}from"./index.83c72abb.js";import"./firebase.8ff914f0.js";const tt={ratio:[String,Number]};function et(t,i){return u(()=>{const o=Number(t.ratio||(i!==void 0?i.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const it=16/9;var nt=Q({name:"QImg",props:{...tt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:it},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:i,emit:o}){const S=s(t.initialRatio),f=et(t,S);let n=null,r=!1;const a=[s(null),s(b())],c=s(0),h=s(!1),p=s(!1),l=u(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),d=u(()=>({width:t.width,height:t.height})),v=u(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition`),_=u(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));H(()=>m(),F);function m(){return t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null}function b(){return t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null}function F(e){n!==null&&(clearTimeout(n),n=null),p.value=!1,e===null?(h.value=!1,a[c.value^1].value=b()):h.value=!0,a[c.value].value=e}function j({target:e}){r!==!0&&(n!==null&&(clearTimeout(n),n=null),S.value=e.naturalHeight===0?.5:e.naturalWidth/e.naturalHeight,q(e,1))}function q(e,x){r===!0||x===1e3||(e.complete===!0?O(e):n=setTimeout(()=>{n=null,q(e,x+1)},50))}function O(e){r!==!0&&(c.value=c.value^1,a[c.value].value=null,h.value=!1,p.value=!1,o("load",e.currentSrc||e.src))}function E(e){n!==null&&(clearTimeout(n),n=null),h.value=!1,p.value=!0,a[c.value].value=null,a[c.value^1].value=b(),o("error",e)}function w(e){const x=a[e].value,$={key:"img_"+e,class:v.value,style:_.value,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...x};return c.value===e?($.class+=" q-img__image--waiting",Object.assign($,{onLoad:j,onError:E})):$.class+=" q-img__image--loaded",g("div",{class:"q-img__container absolute-full",key:"img"+e},g("img",$))}function L(){return h.value!==!0?g("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},N(i[p.value===!0?"error":"default"])):g("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():t.noSpinner===!0?void 0:[g(D,{color:t.spinnerColor,size:t.spinnerSize})])}return F(m()),M(()=>{r=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const e=[];return f.value!==null&&e.push(g("div",{key:"filler",style:f.value})),p.value!==!0&&(a[0].value!==null&&e.push(w(0)),a[1].value!==null&&e.push(w(1))),e.push(g(A,{name:"q-transition--fade"},L)),g("div",{class:l.value,style:d.value,role:"img","aria-label":t.alt},e)}}});const ot={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function lt(){const{props:t,proxy:{$q:i}}=K(),o=U(V,C);if(o===C)return console.error("QPageSticky needs to be child of QLayout"),C;const S=u(()=>{const l=t.position;return{top:l.indexOf("top")>-1,right:l.indexOf("right")>-1,bottom:l.indexOf("bottom")>-1,left:l.indexOf("left")>-1,vertical:l==="top"||l==="bottom",horizontal:l==="left"||l==="right"}}),f=u(()=>o.header.offset),n=u(()=>o.right.offset),r=u(()=>o.footer.offset),a=u(()=>o.left.offset),c=u(()=>{let l=0,d=0;const v=S.value,_=i.lang.rtl===!0?-1:1;v.top===!0&&f.value!==0?d=`${f.value}px`:v.bottom===!0&&r.value!==0&&(d=`${-r.value}px`),v.left===!0&&a.value!==0?l=`${_*a.value}px`:v.right===!0&&n.value!==0&&(l=`${-_*n.value}px`);const m={transform:`translate(${l}, ${d})`};return t.offset&&(m.margin=`${t.offset[1]}px ${t.offset[0]}px`),v.vertical===!0?(a.value!==0&&(m[i.lang.rtl===!0?"right":"left"]=`${a.value}px`),n.value!==0&&(m[i.lang.rtl===!0?"left":"right"]=`${n.value}px`)):v.horizontal===!0&&(f.value!==0&&(m.top=`${f.value}px`),r.value!==0&&(m.bottom=`${r.value}px`)),m}),h=u(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function p(l){const d=N(l.default);return g("div",{class:h.value,style:c.value},t.expand===!0?d:[g("div",d)])}return{$layout:o,getStickyContent:p}}var P=Q({name:"QPageSticky",props:ot,setup(t,{slots:i}){const{getStickyContent:o}=lt();return()=>o(i)}});const rt=z({name:"StepperComponent4",props:{initialImgSrc:{type:String,required:!0},initialImgFit:{type:String},initialCount:{type:Number,default:22}},setup(t){const i=B(W());return{props:t,reStore:i,bcr:s({width:300,height:200}),imgSrc:s(t.initialImgSrc),imgFit:s(t.initialImgFit),count:s(t.initialCount)}},mounted(){console.log("stepper ",this.props)},methods:{nextImg(){console.log("stepper nextImg"),this.reStore.nextImg(),this.imgSrc=this.reStore.imgs[this.reStore.imgIdx].url},cycleFit(){console.log("stpper.cycleFit"),this.reStore.cycleFit(),this.imgFit=this.reStore.imgFit,console.log("stepper",this.imgFit)}}});function at(t,i,o,S,f,n){return R(),X(Y,null,[y(nt,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},null,8,["src","fit"]),y(P,{position:"top-right",offset:[120,0],title:"Toggle slideshow of page images"},{default:k(()=>[y(I,{style:{margin:"11px 0px"},onClick:i[0]||(i[0]=r=>this.cycleFit()),icon:"fit_screen"})]),_:1}),y(P,{position:"top-right",offset:[60,0],title:"Next image"},{default:k(()=>[y(I,{style:{margin:"11px 0px"},onClick:i[1]||(i[1]=r=>this.nextImg()),icon:"start"})]),_:1})],64)}var st=T(rt,[["render",at]]);const ut=z({name:"GuestPage",components:{StepperComponent:st},props:{initialCount:Number},setup(t){const i=B();return{props:t,reStore:i,imgSrc:s(i.imgs[0].url),imgFit:s(i.imgFit),count:s(t.initialCount)}}});function ct(t,i,o,S,f,n){const r=Z("StepperComponent");return R(),J(G,{id:"QPage",class:"row justify-center"},{default:k(()=>[y(r,{"initial-img-src":this.imgSrc,"initial-img-fit":this.imgFit,"initial-count":this.count},null,8,["initial-img-src","initial-img-fit","initial-count"])]),_:1})}var vt=T(ut,[["render",ct]]);export{vt as default};
