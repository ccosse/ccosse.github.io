import{Q as y}from"./QPage.9c246829.js";import{u as k}from"./re-store.f5ffde0d.js";import{Q as w}from"./QBanner.3bbdf978.js";import{Q as h}from"./QImg.0e00d62b.js";import{Q as g}from"./QCard.07deebd8.js";import{Q as _}from"./QTooltip.fcc777c8.js";import{e as v,r as b,u as E,_ as x,o as a,f as d,w as t,k as r,g as o,ar as p,aq as f,j as l,at as $,aH as B,i as A,Q as V,aG as S,l as q}from"./index.68e41f27.js";import{Q as P}from"./QCardSection.c8861a2f.js";import"./firebase.79bf92f9.js";import"./transform.aea72fbe.js";import"./index.2cf0d985.js";import"./use-dark.c931a06d.js";import"./scroll.aa1add39.js";const N=v({name:"AssignmentEditor",setup(){return{reStore:k(),assignment:b(null)}},mounted(){console.log("AE mounted"),E(this.reStore.courses,async(e,s)=>{if(console.log("AE watcher ",e,s),!this.assignment||this.assignment.id!==e.aid){const m=this.reStore.courses.ck,u=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[m].assignments[u]))}});try{if(!this.assignment||this.assignment.id!==newObj.aid){const e=this.reStore.courses.ck,s=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[e].assignments[s]))}}catch(e){console.log(e)}},methods:{pgCB(e){console.log("AE pgCB ",e),this.reStore.courses.selectedRHSTab="pagerTab"},dummy(){console.log("dummy")}}}),j={class:"q-pa-md"},T={class:"text-weight-bolder text-center text-h4 q-pa-md"},J={class:"flex flex-row justify-center"},O={key:0,class:"flex flex-row justify-center"},U=r("span",{class:"justify-between"},"p 00",-1),D=r("span",{class:"on-right"},"Cover Page",-1),H=r("span",{class:"float-right"},"1 img",-1),R={class:"absolute-top text-center"},z={class:"text-h6"},F={style:{"font-size":"22pt",width:"100%"},class:"text-center absolute-bottom"};function G(e,s,m,u,C,Q){return a(),d(y,{class:"q-gutter-md bg-primary",style:{width:"100%"}},{default:t(()=>[r("div",j,[o(w,{class:"bg-positive text-white"},{default:t(()=>[r("div",T,p(this.reStore.courses[this.reStore.courses.ck].title)+"."+p(this.reStore.courses[this.reStore.courses.ck].assignments[this.reStore.courses.aid].title),1)]),_:1})]),o(g,{flat:"",class:"q-pa-sm"},{default:t(()=>[r("div",J,[this.reStore.courses.ck&&this.reStore.courses.aid?(a(),d(P,{key:0},{default:t(()=>[this.assignment?(a(),f("div",O,[o(g,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":s[0]||(s[0]=i=>this.assignment.pages=i)},{default:t(()=>[U,l(),D,l(),H,o(h,{fit:"cover",height:"230px",width:"100%",src:this.assignment.coverUrl},null,8,["src"])]),_:1},8,["modelValue"]),(a(!0),f($,null,B(this.assignment.pages,(i,n)=>(a(),d(g,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":s[1]||(s[1]=c=>this.assignment.pages=c),key:n},{default:t(()=>[o(h,{fit:"cover",height:"230px",width:"100%",src:i.imgs[i.imgIdx].url,onClick:c=>this.pgCB(n)},{default:t(()=>[r("div",R,[r("div",z,p(i.pageTitle.slice(0,10)),1)]),r("div",F,[r("div",null,[o(A,{color:"red",class:"ptr",name:"delete",onClick:c=>this.deletePageCB(n)},{default:t(()=>[o(_,null,{default:t(()=>[l("Delete Page")]),_:1})]),_:2},1032,["onClick"]),o(V,{icon:"edit",onClick:c=>this.editPageCB(n)},{default:t(()=>[o(_,null,{default:t(()=>[l("Edit Page")]),_:1})]),_:2},1032,["onClick"])])])]),_:2},1032,["src","onClick"])]),_:2},1032,["modelValue"]))),128))])):S("",!0)]),_:1})):S("",!0)])]),_:1})]),_:1})}var L=x(N,[["render",G]]);const I=v({name:"AssignmentEditorPage",components:{AssignmentEditor:L},setup(e){const s=k();return{props:e,reStore:s}}});function K(e,s,m,u,C,Q){const i=q("AssignmentEditor");return a(),d(y,{id:"QPage",class:"row justify-center"},{default:t(()=>[o(i)]),_:1})}var ce=x(I,[["render",K]]);export{ce as default};
