import{Q as QCardSection}from"./QCardSection.862a8d6a.js";import{g as computed,e as createComponent,v as ref,n as watch,h,a4 as Transition,i as hSlot,k as getCurrentInstance,ah as isObject,y as nextTick,Q as QBtn,B as hMergeSlot,d as defineComponent,_ as _export_sfc,o as openBlock,E as createElementBlock,a as createVNode,w as withCtx,U as withDirectives,G as createTextVNode,F as createBaseVNode,T as withKeys,ai as toDisplayString,I as Fragment,R as renderList,V as createCommentVNode,c as createBlock,S as QIcon}from"./index.75ce3f9e.js";import{u as useDarkProps,a as useDark}from"./use-dark.f6f8b257.js";import{u as useCache}from"./QMenu.417ec07b.js";import{u as useFormProps,b as useFormAttrs,c as useFormInject}from"./use-form.a034d4ea.js";import{t as toJalaali,p as pad,a as toGregorian,f as formatDate,g as getDateDiff,j as jalaaliMonthLength,_ as __splitDate,d as date,u as useStore}from"./store.eabfb0c8.js";import{a as QCardActions,Q as QDialog,C as ClosePopup}from"./ClosePopup.11a1f1ad.js";import{Q as QCard}from"./QCard.3be6014c.js";import{Q as QKnob}from"./QKnob.b39ef241.js";import{Q as QSelect}from"./QSelect.a05b6f0f.js";import{Q as QInput}from"./QInput.c864b00d.js";import{Q as QBar}from"./QBar.5424d63d.js";import{Q as QExpansionItem}from"./QExpansionItem.11d30c92.js";import{Q as QTooltip}from"./QTooltip.7a24e53e.js";import{Q as QSpace}from"./QSpace.8bf19bf0.js";import{Q as QList}from"./QList.a73a0ee7.js";import"./transform.9aa67f3e.js";import{s as selectAll}from"./selectAll.be636dd1.js";var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const calendars=["gregorian","persian"],useDatetimeProps={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>calendars.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},useDatetimeEmits=["update:modelValue"];function getDayHash(e){return e.year+"/"+pad(e.month)+"/"+pad(e.day)}function useDatetime(e,t){const r=computed(()=>e.disable!==!0&&e.readonly!==!0),o=computed(()=>r.value===!0?0:-1),s=computed(()=>{const f=[];return e.color!==void 0&&f.push(`bg-${e.color}`),e.textColor!==void 0&&f.push(`text-${e.textColor}`),f.join(" ")});function c(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function n(f){const g=new Date,y=f===!0?null:0;if(e.calendar==="persian"){const l=toJalaali(g);return{year:l.jy,month:l.jm,day:l.jd}}return{year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate(),hour:y,minute:y,second:y,millisecond:y}}return{editable:r,tabindex:o,headerClass:s,getLocale:c,getCurrentDate:n}}const yearsInterval=20,views=["Calendar","Years","Months"],viewIsValid=e=>views.includes(e),yearMonthValidator=e=>/^-?[\d]+\/[0-1]\d$/.test(e),lineStr=" \u2014 ";function getMonthHash(e){return e.year+"/"+pad(e.month)}var QDate=createComponent({name:"QDate",props:{...useDatetimeProps,...useFormProps,...useDarkProps,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:yearMonthValidator},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:yearMonthValidator},navigationMaxYearMonth:{type:String,validator:yearMonthValidator},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:viewIsValid}},emits:[...useDatetimeEmits,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:r}){const{proxy:o}=getCurrentInstance(),{$q:s}=o,c=useDark(e,s),{getCache:n}=useCache(),{tabindex:f,headerClass:g,getLocale:y,getCurrentDate:l}=useDatetime(e,s);let i;const m=useFormAttrs(e),b=useFormInject(m),V=ref(null),k=ref(pe()),C=ref(y()),J=computed(()=>pe()),Ve=computed(()=>y()),B=computed(()=>l()),P=ref(ye(k.value,C.value)),T=ref(e.defaultView),ce=s.lang.rtl===!0?"right":"left",j=ref(ce.value),Z=ref(ce.value),ee=P.value.year,z=ref(ee-ee%yearsInterval-(ee<0?yearsInterval:0)),E=ref(null),Ce=computed(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(c.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),A=computed(()=>e.color||"primary"),L=computed(()=>e.textColor||"white"),Y=computed(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),te=computed(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),q=computed(()=>te.value.filter(a=>typeof a=="string").map(a=>ne(a,k.value,C.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),R=computed(()=>{const a=u=>ne(u,k.value,C.value);return te.value.filter(u=>isObject(u)===!0&&u.from!==void 0&&u.to!==void 0).map(u=>({from:a(u.from),to:a(u.to)})).filter(u=>u.from.dateHash!==null&&u.to.dateHash!==null&&u.from.dateHash<u.to.dateHash)}),W=computed(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const u=toGregorian(a.year,a.month,a.day);return new Date(u.gy,u.gm-1,u.gd)}),re=computed(()=>e.calendar==="persian"?getDayHash:(a,u,d)=>formatDate(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),u===void 0?k.value:u,d===void 0?C.value:d,a.year,a.timezoneOffset)),H=computed(()=>q.value.length+R.value.reduce((a,u)=>a+1+getDateDiff(W.value(u.to),W.value(u.from)),0)),de=computed(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(E.value!==null){const d=E.value.init,p=W.value(d);return C.value.daysShort[p.getDay()]+", "+C.value.monthsShort[d.month-1]+" "+d.day+lineStr+"?"}if(H.value===0)return lineStr;if(H.value>1)return`${H.value} ${C.value.pluralDay}`;const a=q.value[0],u=W.value(a);return isNaN(u.valueOf())===!0?lineStr:C.value.headerTitle!==void 0?C.value.headerTitle(u,a):C.value.daysShort[u.getDay()]+", "+C.value.monthsShort[a.month-1]+" "+a.day}),Se=computed(()=>q.value.concat(R.value.map(u=>u.from)).sort((u,d)=>u.year-d.year||u.month-d.month)[0]),ke=computed(()=>q.value.concat(R.value.map(u=>u.to)).sort((u,d)=>d.year-u.year||d.month-u.month)[0]),he=computed(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(H.value===0)return lineStr;if(H.value>1){const a=Se.value,u=ke.value,d=C.value.monthsShort;return d[a.month-1]+(a.year!==u.year?" "+a.year+lineStr+d[u.month-1]+" ":a.month!==u.month?lineStr+d[u.month-1]:"")+" "+u.year}return q.value[0].year}),K=computed(()=>{const a=[s.iconSet.datetime.arrowLeft,s.iconSet.datetime.arrowRight];return s.lang.rtl===!0?a.reverse():a}),me=computed(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),Ee=computed(()=>{const a=C.value.daysShort,u=me.value;return u>0?a.slice(u,7).concat(a.slice(0,u)):a}),Q=computed(()=>{const a=P.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():jalaaliMonthLength(a.year,a.month)}),Ne=computed(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),N=computed(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),D=computed(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),ae=computed(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return N.value!==null&&N.value.year>=P.value.year&&(a.year.prev=!1,N.value.year===P.value.year&&N.value.month>=P.value.month&&(a.month.prev=!1)),D.value!==null&&D.value.year<=P.value.year&&(a.year.next=!1,D.value.year===P.value.year&&D.value.month<=P.value.month&&(a.month.next=!1)),a}),O=computed(()=>{const a={};return q.value.forEach(u=>{const d=getMonthHash(u);a[d]===void 0&&(a[d]=[]),a[d].push(u.day)}),a}),fe=computed(()=>{const a={};return R.value.forEach(u=>{const d=getMonthHash(u.from),p=getMonthHash(u.to);if(a[d]===void 0&&(a[d]=[]),a[d].push({from:u.from.day,to:d===p?u.to.day:void 0,range:u}),d<p){let v;const{year:_,month:w}=u.from,x=w<12?{year:_,month:w+1}:{year:_+1,month:1};for(;(v=getMonthHash(x))<=p;)a[v]===void 0&&(a[v]=[]),a[v].push({from:void 0,to:v===p?u.to.day:void 0,range:u}),x.month++,x.month>12&&(x.year++,x.month=1)}}),a}),U=computed(()=>{if(E.value===null)return;const{init:a,initHash:u,final:d,finalHash:p}=E.value,[v,_]=u<=p?[a,d]:[d,a],w=getMonthHash(v),x=getMonthHash(_);if(w!==I.value&&x!==I.value)return;const S={};return w===I.value?(S.from=v.day,S.includeFrom=!0):S.from=1,x===I.value?(S.to=_.day,S.includeTo=!0):S.to=Q.value,S}),I=computed(()=>getMonthHash(P.value)),De=computed(()=>{const a={};if(e.options===void 0){for(let d=1;d<=Q.value;d++)a[d]=!0;return a}const u=typeof e.options=="function"?e.options:d=>e.options.includes(d);for(let d=1;d<=Q.value;d++){const p=I.value+"/"+pad(d);a[d]=u(p)}return a}),Te=computed(()=>{const a={};if(e.events===void 0)for(let u=1;u<=Q.value;u++)a[u]=!1;else{const u=typeof e.events=="function"?e.events:d=>e.events.includes(d);for(let d=1;d<=Q.value;d++){const p=I.value+"/"+pad(d);a[d]=u(p)===!0&&Ne.value(p)}}return a}),Ie=computed(()=>{let a,u;const{year:d,month:p}=P.value;if(e.calendar!=="persian")a=new Date(d,p-1,1),u=new Date(d,p-1,0).getDate();else{const v=toGregorian(d,p,1);a=new Date(v.gy,v.gm-1,v.gd);let _=p-1,w=d;_===0&&(_=12,w--),u=jalaaliMonthLength(w,_)}return{days:a.getDay()-me.value-1,endDay:u}}),ge=computed(()=>{const a=[],{days:u,endDay:d}=Ie.value,p=u<0?u+7:u;if(p<6)for(let w=d-p;w<=d;w++)a.push({i:w,fill:!0});const v=a.length;for(let w=1;w<=Q.value;w++){const x={i:w,event:Te.value[w],classes:[]};De.value[w]===!0&&(x.in=!0,x.flat=!0),a.push(x)}if(O.value[I.value]!==void 0&&O.value[I.value].forEach(w=>{const x=v+w-1;Object.assign(a[x],{selected:!0,unelevated:!0,flat:!1,color:A.value,textColor:L.value})}),fe.value[I.value]!==void 0&&fe.value[I.value].forEach(w=>{if(w.from!==void 0){const x=v+w.from-1,S=v+(w.to||Q.value)-1;for(let F=x;F<=S;F++)Object.assign(a[F],{range:w.range,unelevated:!0,color:A.value,textColor:L.value});Object.assign(a[x],{rangeFrom:!0,flat:!1}),w.to!==void 0&&Object.assign(a[S],{rangeTo:!0,flat:!1})}else if(w.to!==void 0){const x=v+w.to-1;for(let S=v;S<=x;S++)Object.assign(a[S],{range:w.range,unelevated:!0,color:A.value,textColor:L.value});Object.assign(a[x],{flat:!1,rangeTo:!0})}else{const x=v+Q.value-1;for(let S=v;S<=x;S++)Object.assign(a[S],{range:w.range,unelevated:!0,color:A.value,textColor:L.value})}}),U.value!==void 0){const w=v+U.value.from-1,x=v+U.value.to-1;for(let S=w;S<=x;S++)a[S].color=A.value,a[S].editRange=!0;U.value.includeFrom===!0&&(a[w].editRangeFrom=!0),U.value.includeTo===!0&&(a[x].editRangeTo=!0)}P.value.year===B.value.year&&P.value.month===B.value.month&&(a[v+B.value.day-1].today=!0);const _=a.length%7;if(_>0){const w=7-_;for(let x=1;x<=w;x++)a.push({i:x,fill:!0})}return a.forEach(w=>{let x="q-date__calendar-item ";w.fill===!0?x+="q-date__calendar-item--fill":(x+=`q-date__calendar-item--${w.in===!0?"in":"out"}`,w.range!==void 0&&(x+=` q-date__range${w.rangeTo===!0?"-to":w.rangeFrom===!0?"-from":""}`),w.editRange===!0&&(x+=` q-date__edit-range${w.editRangeFrom===!0?"-from":""}${w.editRangeTo===!0?"-to":""}`),(w.range!==void 0||w.editRange===!0)&&(x+=` text-${w.color}`)),w.classes=x}),a}),qe=computed(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});watch(()=>e.modelValue,a=>{if(i===a)i=0;else{const u=ye(k.value,C.value);M(u.year,u.month,u)}}),watch(T,()=>{V.value!==null&&o.$el.contains(document.activeElement)===!0&&V.value.focus()}),watch(()=>P.value.year+"|"+P.value.month,()=>{r("navigation",{year:P.value.year,month:P.value.month})}),watch(J,a=>{_e(a,C.value,"mask"),k.value=a}),watch(Ve,a=>{_e(k.value,a,"locale"),C.value=a});function ve(){const a=B.value,u=O.value[getMonthHash(a)];(u===void 0||u.includes(a.day)===!1)&&le(a),oe(a.year,a.month)}function Be(a){viewIsValid(a)===!0&&(T.value=a)}function Qe(a,u){["month","year"].includes(a)&&(a==="month"?be:se)(u===!0?-1:1)}function oe(a,u){T.value="Calendar",M(a,u)}function Ae(a,u){if(e.range===!1||!a){E.value=null;return}const d=Object.assign({...P.value},a),p=u!==void 0?Object.assign({...P.value},u):d;E.value={init:d,initHash:getDayHash(d),final:p,finalHash:getDayHash(p)},oe(d.year,d.month)}function pe(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ne(a,u,d){return __splitDate(a,u,d,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ye(a,u){const d=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(d.length===0)return we();const p=d[d.length-1],v=ne(p.from!==void 0?p.from:p,a,u);return v.dateHash===null?we():v}function we(){let a,u;if(e.defaultYearMonth!==void 0){const d=e.defaultYearMonth.split("/");a=parseInt(d[0],10),u=parseInt(d[1],10)}else{const d=B.value!==void 0?B.value:l();a=d.year,u=d.month}return{year:a,month:u,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+pad(u)+"/01"}}function be(a){let u=P.value.year,d=Number(P.value.month)+a;d===13?(d=1,u++):d===0&&(d=12,u--),M(u,d),Y.value===!0&&X("month")}function se(a){const u=Number(P.value.year)+a;M(u,P.value.month),Y.value===!0&&X("year")}function $e(a){M(a,P.value.month),T.value=e.defaultView==="Years"?"Months":"Calendar",Y.value===!0&&X("year")}function Le(a){M(P.value.year,a),T.value="Calendar",Y.value===!0&&X("month")}function Re(a,u){const d=O.value[u];(d!==void 0&&d.includes(a.day)===!0?ie:le)(a)}function $(a){return{year:a.year,month:a.month,day:a.day}}function M(a,u,d){if(N.value!==null&&a<=N.value.year&&(a=N.value.year,u<N.value.month&&(u=N.value.month)),D.value!==null&&a>=D.value.year&&(a=D.value.year,u>D.value.month&&(u=D.value.month)),d!==void 0){const{hour:v,minute:_,second:w,millisecond:x,timezoneOffset:S,timeHash:F}=d;Object.assign(P.value,{hour:v,minute:_,second:w,millisecond:x,timezoneOffset:S,timeHash:F})}const p=a+"/"+pad(u)+"/01";p!==P.value.dateHash&&(j.value=P.value.dateHash<p==(s.lang.rtl!==!0)?"left":"right",a!==P.value.year&&(Z.value=j.value),nextTick(()=>{z.value=a-a%yearsInterval-(a<0?yearsInterval:0),Object.assign(P.value,{year:a,month:u,day:1,dateHash:p})}))}function Pe(a,u,d){const p=a!==null&&a.length===1&&e.multiple===!1?a[0]:a;i=p;const{reason:v,details:_}=xe(u,d);r("update:modelValue",p,v,_)}function X(a){const u=q.value[0]!==void 0&&q.value[0].dateHash!==null?{...q.value[0]}:{...P.value};nextTick(()=>{u.year=P.value.year,u.month=P.value.month;const d=e.calendar!=="persian"?new Date(u.year,u.month,0).getDate():jalaaliMonthLength(u.year,u.month);u.day=Math.min(Math.max(1,u.day),d);const p=G(u);i=p;const{details:v}=xe("",u);r("update:modelValue",p,a,v)})}function xe(a,u){return u.from!==void 0?{reason:`${a}-range`,details:{...$(u.target),from:$(u.from),to:$(u.to)}}:{reason:`${a}-day`,details:$(u)}}function G(a,u,d){return a.from!==void 0?{from:re.value(a.from,u,d),to:re.value(a.to,u,d)}:re.value(a,u,d)}function le(a){let u;if(e.multiple===!0)if(a.from!==void 0){const d=getDayHash(a.from),p=getDayHash(a.to),v=q.value.filter(w=>w.dateHash<d||w.dateHash>p),_=R.value.filter(({from:w,to:x})=>x.dateHash<d||w.dateHash>p);u=v.concat(_).concat(a).map(w=>G(w))}else{const d=te.value.slice();d.push(G(a)),u=d}else u=G(a);Pe(u,"add",a)}function ie(a){if(e.noUnset===!0)return;let u=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const d=G(a);a.from!==void 0?u=e.modelValue.filter(p=>p.from!==void 0?p.from!==d.from&&p.to!==d.to:!0):u=e.modelValue.filter(p=>p!==d),u.length===0&&(u=null)}Pe(u,"remove",a)}function _e(a,u,d){const p=q.value.concat(R.value).map(v=>G(v,a,u)).filter(v=>v.from!==void 0?v.from.dateHash!==null&&v.to.dateHash!==null:v.dateHash!==null);r("update:modelValue",(e.multiple===!0?p:p[0])||null,d)}function Me(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+g.value},[h("div",{class:"relative-position"},[h(Transition,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+he.value,class:"q-date__header-subtitle q-date__header-link "+(T.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...n("vY",{onClick(){T.value="Years"},onKeyup(a){a.keyCode===13&&(T.value="Years")}})},[he.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Transition,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+de.value,class:"q-date__header-title-label q-date__header-link "+(T.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...n("vC",{onClick(){T.value="Calendar"},onKeyup(a){a.keyCode===13&&(T.value="Calendar")}})},[de.value]))]),e.todayBtn===!0?h(QBtn,{class:"q-date__header-today self-start",icon:s.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:f.value,onClick:ve}):null])])}function ue({label:a,type:u,key:d,dir:p,goTo:v,boundaries:_,cls:w}){return[h("div",{class:"row items-center q-date__arrow"},[h(QBtn,{round:!0,dense:!0,size:"sm",flat:!0,icon:K.value[0],tabindex:f.value,disable:_.prev===!1,...n("go-#"+u,{onClick(){v(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+w},[h(Transition,{name:"q-transition--jump-"+p},()=>h("div",{key:d},[h(QBtn,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:f.value,...n("view#"+u,{onClick:()=>{T.value=u}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(QBtn,{round:!0,dense:!0,size:"sm",flat:!0,icon:K.value[1],tabindex:f.value,disable:_.next===!1,...n("go+#"+u,{onClick(){v(1)}})})])]}const Ge={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},ue({label:C.value.months[P.value.month-1],type:"Months",key:P.value.month,dir:j.value,goTo:be,boundaries:ae.value.month,cls:" col"}).concat(ue({label:P.value.year,type:"Years",key:P.value.year,dir:Z.value,goTo:se,boundaries:ae.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ee.value.map(a=>h("div",{class:"q-date__calendar-item"},[h("div",a)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Transition,{name:"q-transition--slide-"+j.value},()=>h("div",{key:I.value,class:"q-date__calendar-days fit"},ge.value.map(a=>h("div",{class:a.classes},[a.in===!0?h(QBtn,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:f.value,...n("day#"+a.i,{onClick:()=>{He(a.i)},onMouseover:()=>{Ue(a.i)}})},a.event!==!1?()=>h("div",{class:"q-date__event bg-"+a.event}):null):h("div",""+a.i)]))))])])],Months(){const a=P.value.year===B.value.year,u=p=>N.value!==null&&P.value.year===N.value.year&&N.value.month>p||D.value!==null&&P.value.year===D.value.year&&D.value.month<p,d=C.value.monthsShort.map((p,v)=>{const _=P.value.month===v+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(QBtn,{class:a===!0&&B.value.month===v+1?"q-date__today":null,flat:_!==!0,label:p,unelevated:_,color:_===!0?A.value:null,textColor:_===!0?L.value:null,tabindex:f.value,disable:u(v+1),...n("month#"+v,{onClick:()=>{Le(v+1)}})})])});return e.yearsInMonthView===!0&&d.unshift(h("div",{class:"row no-wrap full-width"},[ue({label:P.value.year,type:"Years",key:P.value.year,dir:Z.value,goTo:se,boundaries:ae.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},d)},Years(){const a=z.value,u=a+yearsInterval,d=[],p=v=>N.value!==null&&N.value.year>v||D.value!==null&&D.value.year<v;for(let v=a;v<=u;v++){const _=P.value.year===v;d.push(h("div",{class:"q-date__years-item flex flex-center"},[h(QBtn,{key:"yr"+v,class:B.value.year===v?"q-date__today":null,flat:!_,label:v,dense:!0,unelevated:_,color:_===!0?A.value:null,textColor:_===!0?L.value:null,tabindex:f.value,disable:p(v),...n("yr#"+v,{onClick:()=>{$e(v)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(QBtn,{round:!0,dense:!0,flat:!0,icon:K.value[0],tabindex:f.value,disable:p(a),...n("y-",{onClick:()=>{z.value-=yearsInterval}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},d),h("div",{class:"col-auto"},[h(QBtn,{round:!0,dense:!0,flat:!0,icon:K.value[1],tabindex:f.value,disable:p(u),...n("y+",{onClick:()=>{z.value+=yearsInterval}})})])])}};function He(a){const u={...P.value,day:a};if(e.range===!1){Re(u,I.value);return}if(E.value===null){const d=ge.value.find(v=>v.fill!==!0&&v.i===a);if(e.noUnset!==!0&&d.range!==void 0){ie({target:u,from:d.range.from,to:d.range.to});return}if(d.selected===!0){ie(u);return}const p=getDayHash(u);E.value={init:u,initHash:p,final:u,finalHash:p},r("rangeStart",$(u))}else{const d=E.value.initHash,p=getDayHash(u),v=d<=p?{from:E.value.init,to:u}:{from:u,to:E.value.init};E.value=null,le(d===p?u:{target:u,...v}),r("rangeEnd",{from:$(v.from),to:$(v.to)})}}function Ue(a){if(E.value!==null){const u={...P.value,day:a};Object.assign(E.value,{final:u,finalHash:getDayHash(u)})}}return Object.assign(o,{setToday:ve,setView:Be,offsetCalendar:Qe,setCalendarTo:oe,setEditingRange:Ae}),()=>{const a=[h("div",{class:"q-date__content col relative-position"},[h(Transition,{name:"q-transition--fade"},Ge[T.value])])],u=hSlot(t.default);return u!==void 0&&a.push(h("div",{class:"q-date__actions"},u)),e.name!==void 0&&e.disable!==!0&&b(a,"push"),h("div",{class:Ce.value,...qe.value},[Me(),h("div",{ref:V,class:"q-date__main col column",tabindex:-1},a)])}}});const alignValues=["top","middle","bottom"];var QBadge=createComponent({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>alignValues.includes(e)}},setup(e,{slots:t}){const r=computed(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=computed(()=>{const s=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(s!==void 0?` text-${s}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>h("div",{class:o.value,style:r.value,role:"status","aria-label":e.label},hMergeSlot(t.default,e.label!==void 0?[e.label]:[]))}}),dist={exports:{}},request={},browser={exports:{}};(function(e,t){var r=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof o!="undefined")return o;throw new Error("unable to locate global object")},o=r();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response})(browser,browser.exports);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.citationError=errors.pdfError=errors.fcError=errors.eventsError=errors.mediaError=errors.relatedError=errors.introError=errors.preloadError=errors.infoboxError=errors.coordinatesError=errors.geoSearchError=errors.linksError=errors.categoriesError=errors.contentError=errors.htmlError=errors.imageError=errors.summaryError=errors.pageError=errors.autocompletionsError=errors.searchError=errors.wikiError=void 0;class wikiError extends Error{constructor(t,r){super(t),this.name="wikiError",this.code=r}}errors.wikiError=wikiError;class searchError extends wikiError{constructor(t){super(t),this.name="searchError"}}errors.searchError=searchError;class autocompletionsError extends wikiError{constructor(t){super(t),this.name="autocompletionsError"}}errors.autocompletionsError=autocompletionsError;class pageError extends wikiError{constructor(t){super(t),this.name="pageError"}}errors.pageError=pageError;class summaryError extends wikiError{constructor(t){super(t),this.name="summaryError"}}errors.summaryError=summaryError;class imageError extends wikiError{constructor(t){super(t),this.name="imageError"}}errors.imageError=imageError;class htmlError extends wikiError{constructor(t){super(t),this.name="htmlError"}}errors.htmlError=htmlError;class contentError extends wikiError{constructor(t){super(t),this.name="contentError"}}errors.contentError=contentError;class categoriesError extends wikiError{constructor(t){super(t),this.name="categoriesError"}}errors.categoriesError=categoriesError;class linksError extends wikiError{constructor(t){super(t),this.name="linksError"}}errors.linksError=linksError;class geoSearchError extends wikiError{constructor(t){super(t),this.name="geoSearchError"}}errors.geoSearchError=geoSearchError;class coordinatesError extends wikiError{constructor(t){super(t),this.name="coordinatesError"}}errors.coordinatesError=coordinatesError;class infoboxError extends wikiError{constructor(t){super(t),this.name="infoboxError"}}errors.infoboxError=infoboxError;class preloadError extends wikiError{constructor(t){super(t),this.name="preloadError"}}errors.preloadError=preloadError;class introError extends wikiError{constructor(t){super(t),this.name="introError"}}errors.introError=introError;class relatedError extends wikiError{constructor(t){super(t),this.name="relatedError"}}errors.relatedError=relatedError;class mediaError extends wikiError{constructor(t){super(t),this.name="mediaError"}}errors.mediaError=mediaError;class eventsError extends wikiError{constructor(t){super(t),this.name="eventsError"}}errors.eventsError=eventsError;class fcError extends wikiError{constructor(t){super(t),this.name="featuredContentError"}}errors.fcError=fcError;class pdfError extends wikiError{constructor(t){super(t),this.name="pdfError"}}errors.pdfError=pdfError;class citationError extends wikiError{constructor(t){super(t),this.name="citationError"}}errors.citationError=citationError;Object.defineProperty(request,"__esModule",{value:!0});request.setAPIUrl=request.returnRestUrl=request.makeRestRequest=void 0;const node_fetch_1=browser.exports,errors_1$1=errors;let API_URL="https://en.wikipedia.org/w/api.php?",REST_API_URL="https://en.wikipedia.org/api/rest_v1/";const USER_AGENT="wikipedia (https://github.com/dopecodez/Wikipedia/)";async function makeRequest(e,t=!0){try{const r={...e};r.format="json",t&&(r.redirects=""),e.action||(r.action="query"),r.origin="*";const o={headers:{"Api-User-Agent":USER_AGENT}};let s="";return Object.keys(r).forEach(f=>{s+=`${f}=${r[f]}&`}),await(await(0,node_fetch_1.default)(encodeURI(API_URL+s),o)).json()}catch(r){throw new errors_1$1.wikiError(r)}}async function makeRestRequest(e,t=!0){try{t||(e+="?redirect=false");const r={headers:{"Api-User-Agent":USER_AGENT}};let s=await(await(0,node_fetch_1.default)(encodeURI(REST_API_URL+e),r)).text();try{s=JSON.parse(s)}finally{return s}}catch(r){throw new errors_1$1.wikiError(r)}}request.makeRestRequest=makeRestRequest;function returnRestUrl(e){return encodeURI(REST_API_URL+e)}request.returnRestUrl=returnRestUrl;function setAPIUrl(e){return API_URL="https://"+e.toLowerCase()+".wikipedia.org/w/api.php?",REST_API_URL="https://"+e.toLowerCase()+".wikipedia.org/api/rest_v1/",API_URL}request.setAPIUrl=setAPIUrl;request.default=makeRequest;var page={},utils={},messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.MSGS=void 0;messages.MSGS={PAGE_NOT_SUGGEST:"No page with given title suggested : ",PAGE_NOT_EXIST:"No page with given title exists : ",INFOBOX_NOT_EXIST:"Info cannot be parsed for given page"};Object.defineProperty(utils,"__esModule",{value:!0});utils.getCurrentDay=utils.getCurrentMonth=utils.getCurrentYear=utils.setPageId=utils.setPageIdOrTitleParam=utils.setTitleForPage=utils.isString=void 0;const _1=dist.exports,errors_1=errors,messages_1=messages;function isString(e){return isNaN(e)}utils.isString=isString;async function setTitleForPage(e){{const t=await _1.default.search(e,{limit:1,suggestion:!0});if(!t.suggestion&&t.results.length==0)throw new errors_1.pageError(`${messages_1.MSGS.PAGE_NOT_SUGGEST}${e}`);return e=t.suggestion||e,e}}utils.setTitleForPage=setTitleForPage;function setPageIdOrTitleParam(e,t){return isString(t)?e.titles=t:e.pageids=t,e}utils.setPageIdOrTitleParam=setPageIdOrTitleParam;function setPageId(e,t){let r;return e.pageIds?r=e.pageIds:r=Object.keys(t.query.pages)[0],r}utils.setPageId=setPageId;function getCurrentYear(){return new Date().getFullYear()}utils.getCurrentYear=getCurrentYear;function getCurrentMonth(){return new Date().getMonth()+1}utils.getCurrentMonth=getCurrentMonth;function getCurrentDay(){return new Date().getDate()}utils.getCurrentDay=getCurrentDay;function preserveCamelCase(e){let t=!1,r=!1,o=!1;for(let s=0;s<e.length;s++){const c=e[s];t&&/[a-zA-Z]/.test(c)&&c.toUpperCase()===c?(e=e.substr(0,s)+"-"+e.substr(s),t=!1,o=r,r=!0,s++):r&&o&&/[a-zA-Z]/.test(c)&&c.toLowerCase()===c?(e=e.substr(0,s-1)+"-"+e.substr(s-1),o=r,r=!1,t=!0):(t=c.toLowerCase()===c,o=r,r=c.toUpperCase()===c)}return e}var camelcase=function(e){return arguments.length>1?e=Array.from(arguments).map(r=>r.trim()).filter(r=>r.length).join("-"):e=e.trim(),e.length===0?"":e.length===1?e.toLowerCase():/^[a-z0-9]+$/.test(e)?e:(e!==e.toLowerCase()&&(e=preserveCamelCase(e)),e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(r,o)=>o.toUpperCase()))};function _interopDefault(e){return e&&typeof e=="object"&&"default"in e?e.default:e}function trimWrappers(e){return e.replace(/\[\[/g,"").replace(/\]\]/g,"").replace(/\{\{/g,"").replace(/\}\}/g,"").trim()}function trimOr(e){var t=e.indexOf("|");return t!==-1?e.substring(0,t):e}function getValue(e,t){if(!e)return null;var r=e.trim().replace(/File:/,"").replace(/\{\{\d+\}\}/g,"").replace(extraPropertyPattern,"").replace(endingPattern,"");if(r==="y"||r==="yes")return!0;if(t=="birthPlace")return e.trim();var o=r.match(linksPattern);return o?o[0].split(linkSeparatorPattern).filter(function(s){return s}):trimOr(trimWrappers(r))}function dataType(e){var t=e.globalPattern,r=e.parsePattern,o=e.parse,s=e.variable,c=e.name;return function(n){var f=n.match(t);if(!f){var g;return g={},defineProperty(g,c,[]),defineProperty(g,"sourceAfter",n),g}var y=f.map(function(i){return o(i.match(r))}),l=f.reduce(function(i,m,b){return y[b]===DO_NOT_REPLACE?i:i.replace(m,"$"+s+"_"+b)},n);return{data:defineProperty({},c,y),sourceAfter:l}}}function byDataHandler(e,t){var r=e.source,o=e.context,s=t(r),c=s.data,n=s.sourceAfter;return{context:Object.assign({},o,c),source:n}}function extractData(e){return dataTypes$1.map(function(t){return t.handler}).reduce(byDataHandler,{context:{},source:e})}function findPropertyList(e){var t=e.match(keyValueGlobalPattern);return t?t.map(function(r){var o=keyValuePattern.exec(r);if(!o)return null;var s=slicedToArray(o,3),c=s[1],n=s[2],f=camelCase(c.trim());return{key:f,value:getValue(n,f)}}).filter(function(r){return r}):[]}function fillVariable(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.simplifyDataValues;if(typeof e!="string")return console.log("Warning: Something went wrong. Could not fill variables in: ("+(e===void 0?"undefined":_typeof(e))+") "+JSON.stringify(e)),{};var s=dataTypes$1.find(function(l){return e.match(l.pattern)});if(s){var c=s.pattern.exec(e),n=slicedToArray(c,2),f=n[0],g=n[1],y=t[s.name][parseInt(g,10)];return o||typeof y!="string"?y:e.replace(f,y)}return e}function fillVariables(e,t,r){if(e===void 0||e instanceof Date||typeof e=="number")return e;if(Array.isArray(e))return e.map(function(s){return fillVariables(s,t,r)});if((e===void 0?"undefined":_typeof(e))==="object")return Object.keys(e).reduce(function(s,c){return Object.assign(s,defineProperty({},c,fillVariables(e[c],t,r)))},{});var o=fillVariable(e,t,r);return o===e?e:fillVariables(o,t,r)}function handleSmallData(e,t,r){var o=r.simplifyDataValues;if(typeof e=="string"&&e.match(smallDataType.pattern)){var s=e.replace(smallDataType.pattern,"").replace(/,/,"").trim(),c=smallDataType.pattern.exec(e),n=slicedToArray(c,2),f=n[1],g=t[smallDataType.name][parseInt(f,10)],y={primary:getVariableValue(s,t,{simplifyDataValues:o}),secondary:getVariableValue(g,t,{simplifyDataValues:o})};return o?y.primary:y}return null}function getVariableValue(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.simplifyDataValues,s=handleSmallData(e,t,{simplifyDataValues:o});return s||fillVariables(e,t,{simplifyDataValues:o})}function reduceVariable(e,t,r,o){if(t===null)return null;if(typeof t=="boolean")return t;if(Array.isArray(t))return t.map(function(f){return getVariableValue(f,r,o)});if(e.match(/areaTotal/)||e.match(/population/)){var s=numberParse(t);if(s===!1&&(s=parseFloat(t,10)),!isNaN(s))return s}if(e.match(/date/i)){var c=+new Date(t);if(!isNaN(c))return new Date(t)}var n=getVariableValue(t,r,o);return Array.isArray(n)?n.map(function(f){return getVariableValue(f,r,o)}):n}function byVariableReduction(e,t){return function(r,o){var s=o.key,c=o.value,n=reduceVariable(s,c,e,t);return n===""||n===null?r:Object.assign({},r,defineProperty({},s,n))}}function extractProperties(e){var t=e.source,r=e.context,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.simplifyDataValues,c=s===void 0||s;return findPropertyList(t).reduce(byVariableReduction(r,{simplifyDataValues:c}),{})}function transformProperties(e){return Object.keys(e).reduce(function(t,r){var o=e[r],s=r.match(blankNamePattern);if(s){var c=s[1]||"",n=e["blank"+c+"NameSec2"],f=e["blank"+c+"InfoSec2"];return typeof n!="string"?t:Object.assign(t,defineProperty({},camelCase(n),f))}return r.match(blankInfoPattern)?t:Object.assign(t,defineProperty({},r,o))},{})}function findOuterIndex(e){for(var t=[],r=0;r<e.length-1;r++){var o=e.substr(r,2);if(o!=="{{"){if(o==="}}"){if(t.pop(),t.length===0)return r+2;r++}}else t.push(r),r++}}function parse(e){var t=e.match(infoBoxStartPattern);if(!t)return{data:e,sourceLeft:null};var r=t.index,o=e.substring(r),s=findOuterIndex(o);if(!s)return{data:e,sourceLeft:null};var c=o.substring(0,s),n=e.substring(s);return{data:c,sourceLeft:n.match(infoBoxStartPattern)?n:null}}function extractInfoboxes(e){for(var t=parse(e),r=[t.data];t.sourceLeft;)t=parse(t.sourceLeft),r.push(t.data);return r}function cleanSource(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.removeSmall,o=r!==void 0&&r,s=t.removeReferences;return(s===void 0||s)&&(e=e.replace(/<ref(\s\w+=[^>]+)?>.*<\/ref>/g,"").replace(/<ref(\s\w+=[^>]+)?\s?\/>/g,"")),o&&(e=e.replace(/<small>.*<\/small>/g,"")),e.replace(/'''?/g,"").replace(/\|display=inline/g,"").replace(/<br\s?\/?>/g,",").replace(/&minus;/g,"-").replace(/<sup>/g,"^").replace(/\{\{sfn\|([^\}\}]+)\}\}/g,"").replace(/\{\{efn\|([^\}\}]+)\}\}/g,"").replace(/âˆ’/g,"-").replace(/<\/sup>/g,"").replace(/\{\{\s*nowrap\s*\|([^\n\}]+)\}\}/gi,"$1").replace(/<!--([\s\S]*?)-->/g,"").replace(/&nbsp;/g," ").replace("|''See list''","")}function transformRowSpan(e){return e.map(transformCells).reduce(function(t,r,o){for(var s=o===0?0:1,c=0;c<r.length;c++)t[c+s]||(t[c+s]={}),r[c]&&(t[c+s][r[c]]=1);return t},[]).map(function(t){return Object.keys(t).join(",")}).join(" || ")}function clean(e){return e.substring(2,e.length-2).replace(linkPattern$1,function(t,r){return r.split("|")[0]}).replace(/'''?/g,"")}function parseRow(e){var t=e[0].match(/BS(\d)/),r=e[0].substring(2),o=1,s=[],c=1;for(t&&(o=t[1],r=e[0].substring(3));c<=o;c++)s.push(e[c]);return{type:r,margin:e[c++],text1:e[c++],text2:e[c++],comment:e[c++],icons:s}}function getMatches(e,t){for(var r=void 0,o=[];(r=t.exec(e))!==null;)o.push({value:r[1]&&r[1].trim(),start:r.index,end:r.index+r[0].length});return o}function parseTableData(e){var t=e.match(rowPattern$1);return t?t.map(function(r){var o=r.match(rowPatternSingle);return slicedToArray(o,2)[1].trim().split("|").slice(1)}):[]}function getTables(e){var t=getMatches(e,tableStartPattern$1),r=getMatches(e,tableEndPattern$1);return t.map(function(o,s){var c=r[s];if(!c)throw new Error("[Table Parsing] Failed to pair table");return{rows:parseTableData(e.substring(o.end,c.start).trim().replace(/'''/g,"")),start:o.start,end:c.end}})}function last(e){return e.length?e[e.length-1]:void 0}function parseInfobox(e,t){var r=extractInfoboxes(e).map(function(s){return transformProperties(extractProperties(extractData(cleanSource(s,t)),t))});if(!r.length)return{};var o={general:r.shift()};return r.forEach(function(s){var c=s.type;c?o[camelCase(c)]=s:Object.assign(o,{general:Object.assign({},o.general,s)})}),o.tables=parseTables(e),o.bsTables=parseBsTables(e),o.lists=parseLists(e),o}var camelCase=_interopDefault(camelcase),_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},defineProperty=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},slicedToArray=function(){function e(t,r){var o=[],s=!0,c=!1,n=void 0;try{for(var f,g=t[Symbol.iterator]();!(s=(f=g.next()).done)&&(o.push(f.value),!r||o.length!==r);s=!0);}catch(y){c=!0,n=y}finally{try{!s&&g.return&&g.return()}finally{if(c)throw n}}return o}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},smallGlobalPattern=/\{\{small\|([^\}\}]+)\}\}/g,smallPattern=/small\|([^\}\}]+)\}\}/,small={globalPattern:smallGlobalPattern,parsePattern:smallPattern,parse:function(e){return slicedToArray(e,2)[1]},variable:"SMALL",name:"smalls"},flagGlobalPattern=/\{\{flag\|([^\}\}]+)\}\}/g,flagPattern=/flag\|([^\}\}]+)\}\}/,flag={globalPattern:flagGlobalPattern,parsePattern:flagPattern,parse:function(e){return slicedToArray(e,2)[1]},variable:"FLAG",name:"flags"},coordsGlobalPattern=/\{\{coord\|([^\}\}]+)\}\}/g,coordsPattern=/coord\|([^\}\}]+)\}\}/,coords={globalPattern:coordsGlobalPattern,parsePattern:coordsPattern,parse:function(e){return slicedToArray(e,2)[1]},variable:"COORD",name:"coords"},globalPattern=/\[\[([^\]\|]+)\|?([^\]]+)?\]\]/g,pattern=/\[\[([^\]\|]+)\|?([^\]]+)?\]\]/,instances={globalPattern,parsePattern:pattern,parse:function(e){var t=slicedToArray(e,3),r=t[1],o=t[2];return r||o},variable:"INSTANCE",name:"instances"},extraPropertyPattern=/\n?\s?\|\s?\w+$/,endingPattern=/\n\}\}$/,linksPattern=/((\$\w+_\d+)\s*,?\s*){2,}/g,linkSeparatorPattern=/[,\s?]/g,listItemPrefixPattern=/^\|\s?/,unbulletedListGlobalPattern=/\{\{(?:unbulleted list|ubl|ubt|ublist|unbullet)\s?\|([^\}\}]+)\}\}/gi,unbulletedListItemPattern=/\|\s*([^|}]+)/g,unbulletedLists={globalPattern:unbulletedListGlobalPattern,parsePattern:unbulletedListItemPattern,parse:function(e){return e?e.map(function(t){return t.replace(listItemPrefixPattern,"").trim()}).filter(function(t){return t&&t.length}):[]},variable:"UNBULLETED_LIST",name:"unbulletedLists"},listItemPrefixPattern$1=/^\*\s*/,plainListGlobalPattern=/\n(\*\s*[^*|]+)+/g,plainListItemPattern=/\*\s*([^*|]+)/g,unmarkedLists={globalPattern:plainListGlobalPattern,parsePattern:plainListItemPattern,parse:function(e){return e?e.map(function(t){return t.replace(listItemPrefixPattern$1,"").trim()}).filter(function(t){return t&&t.length}):[]},variable:"UNMARKED_LIST",name:"unmarkedLists"},listItemPrefixPattern$2=/^\*\s?/,plainListGlobalPattern$1=/\{\{f?p?P?l?a?i?n?t?\s?list\s?\|([^\}\}]+)\}\}/g,plainListItemPattern$1=/\*\s*([^*}]+)/g,plainLists={globalPattern:plainListGlobalPattern$1,parsePattern:plainListItemPattern$1,parse:function(e){return e?e.map(function(t){return t.replace(listItemPrefixPattern$2,"").trim()}).filter(function(t){return t&&t.length}):[]},variable:"PLAIN_LIST",name:"plainLists"},marriageGlobalPattern=/\{\{Marriage\|([^\}\}]+)\}\}/gi,marriagePattern=/Marriage\|([^|]+)\|(.*)\}\}/i,marriages={globalPattern:marriageGlobalPattern,parsePattern:marriagePattern,parse:function(e){var t=slicedToArray(e,3);return{who:t[1],married:t[2]}},variable:"MARRIAGE",name:"marriages"},nbayGlobalPattern=/\{\{nbay\|([^\}\}]+)\}\}/gi,nbayPattern=/nbay\|([^|]+)\|(.*)\}\}/i,nbay={globalPattern:nbayGlobalPattern,parsePattern:nbayPattern,parse:function(e){var t=slicedToArray(e,3),r=t[1];return t[2],r},variable:"nbay",name:"nbay"},otherGlobalPattern=/\{\{([^|\n]+)\|([^|\n]+)\|?([^\}\n]+)?\}\}/g,otherPattern=/\{\{([^|\n]+)\|([^|\n]+)\|?([^\}\n]+)?\}\}/,other={globalPattern:otherGlobalPattern,parsePattern:otherPattern,parse:function(e){var t=slicedToArray(e,4),r=t[1];return t[2],t[3],r},variable:"OTHER",name:"others"},hlistGlobalPattern=/\{\{hlist\|([^\}\}]+)\}\}/gi,hlistPattern=/hlist\|(.*)\n?\}\}/i,hlist={globalPattern:hlistGlobalPattern,parsePattern:hlistPattern,parse:function(e){return slicedToArray(e,2)[1].split("|")},variable:"HLIST",name:"hlists"},birthDateGlobalPattern=/\{\{birth\sdate([^\}\}]+)\}\}/gi,birthDatePattern=/(\d+)\|(\d+)\|(\d+)/,millisInYear=31536e6,birthDates={globalPattern:birthDateGlobalPattern,parsePattern:birthDatePattern,parse:function(e){var t=slicedToArray(e,4),r=t[1],o=t[2],s=t[3],c=new Date(r,o-1,s);return{date:c,age:Math.floor((Date.now()-+c)/millisInYear)}},variable:"BIRTH_DATE",name:"birthDates"},DO_NOT_REPLACE=Symbol("DO NOT REPLACE"),labeledDateGlobalPattern=/\{\{([^\n\}\}]+)\}\}/g,labeledDatePattern=/(.*)/,labeledDates={globalPattern:labeledDateGlobalPattern,parsePattern:labeledDatePattern,parse:function(e){var t=e[0].indexOf("|");if(t>-1){var r=e[0].substring(t+1).slice(0,-2),o=new Date(r+" GMT");if(!isNaN(o.getTime()))return{date:o};if(o=new Date(r.split("|").join("-")+" GMT"),!isNaN(o.getTime()))return{date:o}}return DO_NOT_REPLACE},variable:"LABELED_DATE",name:"labeledDates"},deathDateGlobalPattern=/\{\{death\sdate\sand\sage([^\}\}]+)\}\}/gi,deathDatePattern=/(\d+)\|(\d+)\|(\d+)\|(\d+)\|?(\d+)?\|?(\d+)?/,millisInYear$1=31536e6,deathDates={globalPattern:deathDateGlobalPattern,parsePattern:deathDatePattern,parse:function(e){var t=slicedToArray(e,7),r=t[1],o=t[2],s=t[3],c=t[4],n=t[5],f=n===void 0?0:n,g=t[6],y=g===void 0?0:g,l=new Date(r,o-1,s),i=new Date(c,f-1,y);return{date:l,age:Math.floor((Number(l)-Number(i))/millisInYear$1)}},variable:"DEATH_DATE",name:"deathDates"},URLGlobalPattern=/\{\{URL\|([^\}\}]+)\}\}/g,URLPattern=/URL\|([^\}\}]+)\}\}/,url={globalPattern:URLGlobalPattern,parsePattern:URLPattern,parse:function(e){return slicedToArray(e,2)[1]},variable:"URL",name:"urls"},websiteGlobalPattern=/\[(https?):\/\/((?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)\s+([\w\s]+)\]/g,websitePattern=/\[(https?):\/\/((?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)\s+([\w\s]+)\]/,website={globalPattern:websiteGlobalPattern,parsePattern:websitePattern,parse:function(e){var t=slicedToArray(e,5),r=t[1],o=t[2],s=t[3];return{protocol:r,hostname:o,path:s,title:t[4],url:r+"://"+o+s}},variable:"WEBSITE",name:"websites"},globalPattern$1=/\{\{Extra[^}}]+\}\}/gi,parsePattern=/\|\s?(\w+)\s+=\s+(.+)/g,propPattern=/\|\s?(\w+)\s+=\s+(.+)/,extra={globalPattern:globalPattern$1,parsePattern,parse:function(e){return e.reduce(function(t,r){var o=r.match(propPattern),s=slicedToArray(o,3),c=s[1],n=s[2];return t[c]=n,t},{})},variable:"EXTRA",name:"extra"},convertGlobalPattern=/\{\{convert\|([\d\.]+)\|(\w+)/g,convertPattern=/\{\{convert\|([\d\.]+)\|(\w+)/,convert={globalPattern:convertGlobalPattern,parsePattern:convertPattern,parse:function(e){var t=slicedToArray(e,3);return t[1]+" "+t[2]},variable:"CONVERT",name:"converts"},filmDatesPattern=/\{\{film\sdate([^\}\}]+)\}\}/gi,filmDatePatternGlobal=/(\d+)\|?(\d+)\|?(\d+)\|?([^\|\}]*)\|?(ref\d+=([^\|\}]*))?/g,filmDatePattern=/(\d+)\|?(\d+)\|?(\d+)\|?([^\|\}]*)\|?(ref\d+=([^\|\}]*))?/,filmDates={globalPattern:filmDatesPattern,parsePattern:filmDatePatternGlobal,parse:function(e){return e.map(function(t){var r=t.match(filmDatePattern),o=slicedToArray(r,7),s=(o[0],o[1]),c=o[2],n=o[3],f=o[4],g=(o[5],o[6]);return{date:new Date(s,c&&c-1,n),location:f,ref:g}})},variable:"FILM_DATES",name:"filmDates"},otherGlobalPattern$1=/<ref(\s\w+=[^>]+)?>(.*)<\/ref>/g,otherPattern$1=/<ref(\s\w+=[^>]+)?>(.*)<\/ref>/,attributeGlobalPattern=/(\w+)=(["\w]+)/g,attributePattern=/(\w+)=(["\w]+)/,ref1={globalPattern:otherGlobalPattern$1,parsePattern:otherPattern$1,parse:function(e){var t=slicedToArray(e,3),r=(t[0],t[1]),o=t[2];return{attributes:((r||"").match(attributeGlobalPattern)||[]).reduce(function(s,c){if(c){var n=c.match(attributePattern),f=slicedToArray(n,3),g=(f[0],f[1]),y=f[2];s[g]=y.replace(/"/g,"")}return s},{}),contents:o}},variable:"REF",name:"refs"},otherGlobalPattern$2=/<ref(\s\w+=[^>]+)?\/>/g,otherPattern$2=/<ref(\s\w+=[^>]+)?\/>/,attributeGlobalPattern$1=/(\w+)=(["\w]+)/g,attributePattern$1=/(\w+)=(["\w]+)/,ref2={globalPattern:otherGlobalPattern$2,parsePattern:otherPattern$2,parse:function(e){return{attributes:e[1].match(attributeGlobalPattern$1).reduce(function(t,r){var o=r.match(attributePattern$1),s=slicedToArray(o,3),c=(s[0],s[1]),n=s[2];return t[c]=n.replace(/"/g,""),t},{})}},variable:"REF",name:"refs"},globalPattern$2=/\{\{formatnum:\d+\}\}/gi,parsePattern$1=/\{\{formatnum:(\d+)\}\}/,formatNum={globalPattern:globalPattern$2,parsePattern:parsePattern$1,parse:function(e){var t=slicedToArray(e,2),r=t[1];return parseFloat(r)},variable:"FORMAT_NUM",name:"formatNum"},dataTypes=[instances,ref1,ref2,small,formatNum,flag,coords,marriages,birthDates,labeledDates,deathDates,unbulletedLists,website,hlist,url,convert,nbay,filmDates,other,extra,plainLists,unmarkedLists],dataTypes$1=dataTypes.map(function(e){return{handler:dataType(e),name:e.name,pattern:new RegExp("\\$"+e.variable+"_(\\d+)")}}),keyValueGlobalPattern=/\|\s*([-'\u0400-\u04FF\w\s]+)\s*=\s*([^|]+)?/g,keyValuePattern=/\|\s*([-'\u0400-\u04FF\w\s]+)\s*=\s*([^|]+)?/,numberParse=function(e){return typeof e=="string"&&(e=e.trim().replace(/ /g,""),e.match(/,/)&&e.match(/\./)?e.indexOf(",")<e.indexOf(".")?parseEnglish(e):parseSpanish(e):e.match(/,/)&&!e.match(/\./)?e.match(/,/g).length>1||e.match(/,[0-9]{3}($|^[0-9])/)?parseEnglish(e):parseSpanish(e):!e.match(/,/)&&e.match(/\./)?e.match(/\./g).length>1||e.match(/\.[0-9]{3}($|^[0-9])/)?parseSpanish(e):parseEnglish(e):(+e).toString()===e&&+e)},parseEnglish=function(e){return+e.replace(/,/g,"")},parseSpanish=function(e){return+e.replace(/\./g,"").replace(/,/g,".")},smallDataType=dataTypes$1.find(function(e){return e.name==="smalls"}),blankNamePattern=/blank(\d+)?NameSec2/,blankInfoPattern=/blank(\d+)?InfoSec2/,infoBoxStartPattern=/{{\w*box/,tableStartPattern=/{\|(.*)\n?/,tableEndPattern=/\n\|}/,headersPattern=/!\s?(.*)/g,rowPattern=/\|-/,cellSeparatorPattern=/(?:\n\|)|(?:\|\|)/,linkPattern=/\[\[([^\]]+)\]\]/g,linkNamePattern=/^.*\|/,inlineHeaderPattern="!!",actionPattern=/{{anchor\|(.*)}}/g,rowSpanCountPattern=/rowspan="(\d+)"/,stripLinks=function(e){return e.replace(linkPattern,function(t,r){return r.replace(linkNamePattern,"").trim()||r})},removeActions=function(e){return e.replace(actionPattern,"")},transformCell=function(e){return stripLinks(removeActions(e||"")).replace(rowSpanCountPattern,"").replace(linkNamePattern,"").trim()},transformCells=function(e){return e.split(cellSeparatorPattern).map(transformCell)},findIndex=function(e,t){var r=e.match(t);return r?r.index:-1},findTableStart=function(e){var t=e.match(tableStartPattern);return t?t.index+t[0].length:-1},findTableEnd=function(e){return findIndex(e,tableEndPattern)},getHeaders=function(e){for(var t=[],r=void 0;r=headersPattern.exec(e);)t.push.apply(t,toConsumableArray(r[1].split(inlineHeaderPattern).map(transformCell)));return t},getRows=function(e){var t=e.split(rowPattern).map(function(b){return b.replace(/^.*\n+?\|/,"").trim()}).filter(function(b){return b}),r=[],o=0,s=0,c=[],n=!0,f=!1,g=void 0;try{for(var y,l=t[Symbol.iterator]();!(n=(y=l.next()).done);n=!0){var i=y.value,m=i.match(rowSpanCountPattern);m&&(o=0,s=parseInt(m[1]),c=[]),o<s?(c.push(i),++o===s&&r.push(transformRowSpan(c))):r.push(i)}}catch(b){f=!0,g=b}finally{try{!n&&l.return&&l.return()}finally{if(f)throw g}}return r},getNextTable=function(e,t,r){var o=e,s=findTableStart(o);if(s===-1)return null;o=o.substring(s);var c=findTableEnd(o);if(c===-1)return null;o=o.substring(0,c);var n=getRows(o);if(!n.length)return null;var f=getHeaders(n[0]);return f.length?{data:n.slice(1).map(transformCells).map(function(g){return f.reduce(function(y,l,i){return y[camelCase(fillVariable(l,t,r))]=fillVariables(g[i],t,r),y},{})}),end:s+c}:null},parseTables=function(e,t){for(var r=cleanSource(e,t),o=extractData(r),s=[],c=o.source,n=null;n=getNextTable(c,o.context,t);){if(!n)return s;s.push(n.data),c=c.substring(n.end)}return s},linkPattern$1=/\[\[([^\]]+)\]\]/g,kmPattern=/{{BSkm\|([\dx]+,[\dx]+)\|([\dx]+,[\dx]+)}}/g,parseBsTables=function(e){var t=e.replace(kmPattern,"$1/$2").match(/{{BS([^}}]+)}}/g);return t?t.map(function(r){return clean(r).split("|")}).map(parseRow).filter(function(r){return r.type[0]!=="-"}):null},headingPattern=/[^=]==\s?([\w\s]+)\s?==/g,subheadingPattern=/===([\w\s]+)===/g,tableStartPattern$1=/{{list.+start.*}}/gi,tableEndPattern$1=/{{list.+end.*}}/gi,rowPattern$1=/{{(.*)}}/g,rowPatternSingle=/{{(.*)}}/,parseLists=function(e){var t=getMatches(e,headingPattern),r=getMatches(e,subheadingPattern),o=getTables(e);return o.forEach(function(s){var c=t.filter(function(f){return f.end<s.start}).map(function(f){return f.value});s.heading=last(c);var n=r.filter(function(f){return f.end<s.start}).map(function(f){return f.value});s.subheading=last(n),delete s.start,delete s.end}),o},bundle_min=parseInfobox;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.citation=exports.pdf=exports.mobileHtml=exports.media=exports.related=exports.summary=exports.rawInfo=exports.tables=exports.infobox=exports.langLinks=exports.coordinates=exports.references=exports.links=exports.categories=exports.content=exports.html=exports.intro=exports.images=exports.Page=void 0;const errors_1=errors,request_1=request,utils_1=utils,messages_1=messages,infoboxParser=bundle_min;class Page{constructor(e){this.intro=async t=>{try{if(!this._intro){const r=await(0,exports.intro)(this.pageid.toString(),t==null?void 0:t.redirect);this._intro=r}return this._intro}catch(r){throw new errors_1.introError(r)}},this.images=async t=>{try{if(!this._images){const r=await(0,exports.images)(this.pageid.toString(),t);this._images=r}return this._images}catch(r){throw new errors_1.imageError(r)}},this.summary=async t=>{try{if(!this._summary){const r=await(0,exports.summary)(this.title,t==null?void 0:t.redirect);this._summary=r}return this._summary}catch(r){throw new errors_1.summaryError(r)}},this.html=async t=>{try{if(!this._html){const r=await(0,exports.html)(this.pageid.toString(),t==null?void 0:t.redirect);this._html=r}return this._html}catch(r){throw new errors_1.htmlError(r)}},this.content=async t=>{try{if(!this._content){const r=await(0,exports.content)(this.pageid.toString(),t==null?void 0:t.redirect);this.parentid=r.ids.parentId,this.revid=r.ids.revId,this._content=r.result}return this._content}catch(r){throw new errors_1.contentError(r)}},this.categories=async t=>{try{if(!this._categories){const r=await(0,exports.categories)(this.pageid.toString(),t);this._categories=r}return this._categories}catch(r){throw new errors_1.categoriesError(r)}},this.links=async t=>{try{if(!this._links){const r=await(0,exports.links)(this.pageid.toString(),t);this._links=r}return this._links}catch(r){throw new errors_1.linksError(r)}},this.references=async t=>{try{if(!this._references){const r=await(0,exports.references)(this.pageid.toString(),t);this._references=r}return this._references}catch(r){throw new errors_1.linksError(r)}},this.coordinates=async t=>{try{if(!this._coordinates){const r=await(0,exports.coordinates)(this.pageid.toString(),t==null?void 0:t.redirect);this._coordinates=r}return this._coordinates}catch(r){throw new errors_1.coordinatesError(r)}},this.langLinks=async t=>{try{if(!this._langLinks){const r=await(0,exports.langLinks)(this.pageid.toString(),t);this._langLinks=r}return this._langLinks}catch(r){throw new errors_1.linksError(r)}},this.infobox=async t=>{try{if(!this._infobox){const r=await(0,exports.infobox)(this.pageid.toString(),t==null?void 0:t.redirect);this._infobox=r}return this._infobox}catch(r){throw new errors_1.infoboxError(r)}},this.tables=async t=>{try{if(!this._tables){const r=await(0,exports.tables)(this.pageid.toString(),t==null?void 0:t.redirect);this._tables=r}return this._tables}catch(r){throw new errors_1.infoboxError(r)}},this.related=async t=>{try{if(!this._related){const r=await(0,exports.related)(this.title,t==null?void 0:t.redirect);this._related=r}return this._related}catch(r){throw new errors_1.relatedError(r)}},this.media=async t=>{try{if(!this._media){const r=await(0,exports.media)(this.title,t==null?void 0:t.redirect);this._media=r}return this._media}catch(r){throw new errors_1.mediaError(r)}},this.mobileHtml=async t=>{try{if(!this._mobileHtml){const r=await(0,exports.mobileHtml)(this.title,t==null?void 0:t.redirect);this._mobileHtml=r}return this._mobileHtml}catch(r){throw new errors_1.htmlError(r)}},this.pdf=async t=>{try{return await(0,exports.pdf)(this.title,t)}catch(r){throw new errors_1.pdfError(r)}},this.pageid=e.pageid,this.ns=e.ns,this.title=e.title,this.contentmodel=e.contentmodel,this.pagelanguage=e.pagelanguage,this.pagelanguagedir=e.pagelanguagedir,this.touched=e.touched,this.lastrevid=e.lastrevid,this.length=e.length,this.fullurl=e.fullurl,this.editurl=e.editurl,this.canonicalurl=e.canonicalurl}async runMethod(functionName){try{const result=await eval(`this.${functionName}()`);return result}catch(e){throw new errors_1.preloadError(e)}}}exports.Page=Page;const images=async(e,t)=>{try{let r={generator:"images",gimlimit:(t==null?void 0:t.limit)||5,prop:"imageinfo",iiprop:"url"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t==null?void 0:t.redirect),s=[],c=Object.keys(o.query.pages);for(const n of c){const f=o.query.pages[n];f.url=f.imageinfo[0].url,s.push(f)}return s}catch(r){throw new errors_1.imageError(r)}};exports.images=images;const intro=async(e,t=!0)=>{var r;try{let o={prop:"extracts",explaintext:"",exintro:""};o=(0,utils_1.setPageIdOrTitleParam)(o,e);const s=await(0,request_1.default)(o,t),c=(0,utils_1.setPageId)(o,s);return(r=s==null?void 0:s.query)===null||r===void 0?void 0:r.pages[c].extract}catch(o){throw new errors_1.introError(o)}};exports.intro=intro;const html=async(e,t=!0)=>{try{let r={prop:"revisions",rvprop:"content",rvlimit:1,rvparse:""};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t),s=(0,utils_1.setPageId)(r,o);return o.query.pages[s].revisions[0]["*"]}catch(r){throw new errors_1.htmlError(r)}};exports.html=html;const content=async(e,t=!0)=>{try{let r={prop:"extracts|revisions",explaintext:"",rvprop:"ids"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t),s=(0,utils_1.setPageId)(r,o),c=o.query.pages[s].extract,n={revisionId:o.query.pages[s].revisions[0].revid,parentId:o.query.pages[s].revisions[0].parentid};return{result:c,ids:n}}catch(r){throw new errors_1.contentError(r)}};exports.content=content;const categories=async(e,t)=>{try{let r={prop:"categories",pllimit:t==null?void 0:t.limit};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t==null?void 0:t.redirect),s=(0,utils_1.setPageId)(r,o);return o.query.pages[s].categories.map(c=>c.title)}catch(r){throw new errors_1.categoriesError(r)}};exports.categories=categories;const links=async(e,t)=>{try{let r={prop:"links",plnamespace:0,pllimit:(t==null?void 0:t.limit)||"max"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t==null?void 0:t.redirect),s=(0,utils_1.setPageId)(r,o);return o.query.pages[s].links.map(n=>n.title)}catch(r){throw new errors_1.linksError(r)}};exports.links=links;const references=async(e,t)=>{try{let r={prop:"extlinks",ellimit:(t==null?void 0:t.limit)||"max"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t==null?void 0:t.redirect),s=(0,utils_1.setPageId)(r,o);return o.query.pages[s].extlinks.map(n=>n["*"])}catch(r){throw new errors_1.linksError(r)}};exports.references=references;const coordinates=async(e,t=!0)=>{try{let r={prop:"coordinates"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t),s=(0,utils_1.setPageId)(r,o),c=o.query.pages[s].coordinates;return c?c[0]:null}catch(r){throw new errors_1.coordinatesError(r)}};exports.coordinates=coordinates;const langLinks=async(e,t)=>{try{let r={prop:"langlinks",lllimit:(t==null?void 0:t.limit)||"max",llprop:"url"};r=(0,utils_1.setPageIdOrTitleParam)(r,e);const o=await(0,request_1.default)(r,t==null?void 0:t.redirect),s=(0,utils_1.setPageId)(r,o);return o.query.pages[s].langlinks.map(n=>({lang:n.lang,title:n["*"],url:n.url}))}catch(r){throw new errors_1.linksError(r)}};exports.langLinks=langLinks;const infobox=async(e,t=!0)=>{try{const r={prop:"revisions",rvprop:"content",rvsection:0},o=await(0,exports.rawInfo)(e,r,t);return infoboxParser(o).general}catch(r){throw new errors_1.infoboxError(r)}};exports.infobox=infobox;const tables=async(e,t=!0)=>{try{const r={prop:"revisions",rvprop:"content"},o=await(0,exports.rawInfo)(e,r,t);return infoboxParser(o).tables}catch(r){throw new errors_1.infoboxError(r)}};exports.tables=tables;const rawInfo=async(e,t,r=!0)=>{var o;try{t=(0,utils_1.setPageIdOrTitleParam)(t,e);const s=await(0,request_1.default)(t,r);if(!(!((o=s.query)===null||o===void 0)&&o.pages))throw new errors_1.wikiError(messages_1.MSGS.INFOBOX_NOT_EXIST);const c=(0,utils_1.setPageId)(t,s),n=s.query.pages[c].revisions[0];return n?n["*"]:""}catch(s){throw new errors_1.infoboxError(s)}};exports.rawInfo=rawInfo;const summary=async(e,t=!0)=>{try{const r="page/summary/"+e.replace(" ","_");return await(0,request_1.makeRestRequest)(r,t)}catch(r){throw new errors_1.summaryError(r)}};exports.summary=summary;const related=async(e,t=!0)=>{try{const r="page/related/"+e.replace(" ","_");return await(0,request_1.makeRestRequest)(r,t)}catch(r){throw new errors_1.relatedError(r)}};exports.related=related;const media=async(e,t=!0)=>{try{const r="page/media-list/"+e.replace(" ","_");return await(0,request_1.makeRestRequest)(r,t)}catch(r){throw new errors_1.mediaError(r)}};exports.media=media;const mobileHtml=async(e,t=!0)=>{try{const r=`page/mobile-html/${e}`;return await(0,request_1.makeRestRequest)(r,t)}catch(r){throw new errors_1.htmlError(r)}};exports.mobileHtml=mobileHtml;const pdf=async(e,t)=>{try{let r=`page/pdf/${e}`;return t!=null&&t.format&&(r+=`/${t.format}`),t!=null&&t.type&&(r+=`/${t.type}`),(0,request_1.returnRestUrl)(r)}catch(r){throw new errors_1.pdfError(r)}};exports.pdf=pdf;const citation=async(e,t,r)=>{try{let o="data/citation";return o+=t?`/${t}`:"/mediawiki",o+=`/${e}`,r&&(o+=`/${r}`),await(0,request_1.makeRestRequest)(o)}catch(o){throw new errors_1.citationError(o)}};exports.citation=citation,exports.default=Page})(page);var resultTypes={};Object.defineProperty(resultTypes,"__esModule",{value:!0});var optionTypes={};Object.defineProperty(optionTypes,"__esModule",{value:!0});(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(l,i,m,b){b===void 0&&(b=m);var V=Object.getOwnPropertyDescriptor(i,m);(!V||("get"in V?!i.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return i[m]}}),Object.defineProperty(l,b,V)}:function(l,i,m,b){b===void 0&&(b=m),l[b]=i[m]}),o=commonjsGlobal&&commonjsGlobal.__exportStar||function(l,i){for(var m in l)m!=="default"&&!Object.prototype.hasOwnProperty.call(i,m)&&r(i,l,m)};Object.defineProperty(t,"__esModule",{value:!0});const s=request,c=page,n=errors,f=messages,g=utils,y=async(l,i)=>y.page(l,i);y.search=async(l,i)=>{try{const m={list:"search",srprop:"",srlimit:(i==null?void 0:i.limit)||10,srsearch:l};i!=null&&i.suggestion&&(m.srinfo="suggestion");const b=await(0,s.default)(m);return{results:b.query.search,suggestion:b.query.searchinfo?b.query.searchinfo.suggestion:null}}catch(m){throw new n.searchError(m)}},y.page=async(l,i)=>{try{i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l));let m={prop:"info|pageprops",inprop:"url",ppprop:"disambiguation"};m=(0,g.setPageIdOrTitleParam)(m,l);const b=await(0,s.default)(m);let V=b.query.pages;const k=(0,g.setPageId)(m,b);if(V=V[k],V.missing=="")throw new n.pageError(`${f.MSGS.PAGE_NOT_EXIST}${l}`);const C=new c.default(V);if(i!=null&&i.preload){i!=null&&i.fields||(i.fields=["summary","images"]);for(const J of i.fields)await C.runMethod(J)}return C}catch(m){throw new n.pageError(m)}},y.intro=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.intro)(l,i==null?void 0:i.redirect)}catch(m){throw new n.introError(m)}},y.images=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.images)(l,i)}catch(m){throw new n.imageError(m)}},y.summary=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.summary)(l,i==null?void 0:i.redirect)}catch(m){throw new n.summaryError(m)}},y.html=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.html)(l,i==null?void 0:i.redirect)}catch(m){throw new n.htmlError(m)}},y.content=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),(await(0,c.content)(l,i==null?void 0:i.redirect)).result}catch(m){throw new n.contentError(m)}},y.categories=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.categories)(l,i)}catch(m){throw new n.categoriesError(m)}},y.related=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.related)(l,i==null?void 0:i.redirect)}catch(m){throw new n.relatedError(m)}},y.media=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.media)(l,i==null?void 0:i.redirect)}catch(m){throw new n.mediaError(m)}},y.links=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.links)(l,i)}catch(m){throw new n.linksError(m)}},y.references=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.references)(l,i)}catch(m){throw new n.linksError(m)}},y.coordinates=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.coordinates)(l,i==null?void 0:i.redirect)}catch(m){throw new n.coordinatesError(m)}},y.langLinks=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.langLinks)(l,i)}catch(m){throw new n.linksError(m)}},y.infobox=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.infobox)(l,i==null?void 0:i.redirect)}catch(m){throw new n.infoboxError(m)}},y.tables=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.tables)(l,i==null?void 0:i.redirect)}catch(m){throw new n.infoboxError(m)}},y.languages=async()=>{try{const l={meta:"siteinfo",siprop:"languages"},i=await(0,s.default)(l),m=[];for(const b of i.query.languages)m.push({[b.code]:b["*"]});return m}catch(l){throw new n.wikiError(l)}},y.setLang=l=>(0,s.setAPIUrl)(l),y.geoSearch=async(l,i,m)=>{try{const b={list:"geosearch",gsradius:(m==null?void 0:m.radius)||1e3,gscoord:`${l}|${i}`,gslimit:(m==null?void 0:m.limit)||10,gsprop:"type"};return(await(0,s.default)(b)).query.geosearch}catch(b){throw new n.geoSearchError(b)}},y.suggest=async l=>{var i,m,b,V;try{const k={list:"search",srinfo:"suggestion",srprop:"",srsearch:l},C=await(0,s.default)(k);return!((m=(i=C.query)===null||i===void 0?void 0:i.searchinfo)===null||m===void 0)&&m.suggestion?(V=(b=C.query)===null||b===void 0?void 0:b.searchinfo)===null||V===void 0?void 0:V.suggestion:null}catch(k){throw new n.searchError(k)}},y.onThisDay=async(l={})=>{try{const i=l.type||"all",m=(l.month||(0,g.getCurrentMonth)()).toString().padStart(2,"0"),b=(l.day||(0,g.getCurrentDay)()).toString().padStart(2,"0"),V=`feed/onthisday/${i}/${m}/${b}`;return await(0,s.makeRestRequest)(V,!0)}catch(i){throw new n.eventsError(i)}},y.featuredContent=async(l={})=>{try{const i=(l.year||(0,g.getCurrentYear)()).toString(),m=(l.month||(0,g.getCurrentMonth)()).toString().padStart(2,"0"),b=(l.day||(0,g.getCurrentDay)()).toString().padStart(2,"0"),V=`feed/featured/${i}/${m}/${b}`;return await(0,s.makeRestRequest)(V,!0)}catch(i){throw new n.fcError(i)}},y.random=async l=>{try{l||(l="summary");const i=`page/random/${l}`;return await(0,s.makeRestRequest)(i)}catch(i){throw new n.wikiError(i)}},y.mobileHtml=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.mobileHtml)(l,i==null?void 0:i.redirect)}catch(m){throw new n.htmlError(m)}},y.pdf=async(l,i)=>{try{return i!=null&&i.autoSuggest&&(l=await(0,g.setTitleForPage)(l)),await(0,c.pdf)(l,i)}catch(m){throw new n.pdfError(m)}},y.citation=async(l,i,m)=>{try{return await(0,c.citation)(l,i,m)}catch(b){throw new n.citationError(b)}},y.autocompletions=async(l,i)=>{try{const m={list:"search",limit:(i==null?void 0:i.limit)||10,search:l,action:"opensearch",redirect:"return"},[,b]=await(0,s.default)(m,!1);return b}catch(m){throw new n.autocompletionsError(m)}},t.default=y,e.exports=y,e.exports.default=y,o(errors,t),o(resultTypes,t),o(optionTypes,t),o(page,t)})(dist,dist.exports);var WPComponent_vue_vue_type_style_index_0_lang="";const _sfc_main=defineComponent({name:"WPComponent",props:[],setup(){const e=Date.now(),t=date.formatDate(e,"MM/DD");return{store:useStore(),guideWords:ref(""),promptGW:ref(!1),promptSearch:ref(!1),promptLanguage:ref(!1),flagName:ref("fi fi-gb"),searchSize:ref(50),searchResults:ref([]),imageResultsSize:ref(10),promptSearchSize:ref(!1),promptImageResultsSize:ref(!1),otditems:ref([]),promptOTDDate:ref(!1),otddate:ref(Date.now()),otdlabel:ref(t),otdtype:ref("selected"),history:ref([]),historySize:ref(20),promptHistorySize:ref(!1),numPages:ref(7),promptNumPages:ref(!1)}},mounted(){this.flagName=this.store.langVoices[this.store.userSnapshot.preferences.langVoiceKey].flagName;const e=this.store.userSnapshot.preferences.langVoiceKey,t=this.store.langVoices[e].flagName;selectAll("#sfi").classed(t,!0),this.init()},methods:{async init(){const e=this.store.userSnapshot.preferences.langVoiceKey;await dist.exports.setLang(this.store.langVoices[e].langName);const t=await dist.exports.onThisDay({type:this.otdtype});this.otditems=t[this.otdtype]},generateCourse(){const t=this.store.newCourse().ck;console.log("created course ",t);for(let r=0;r<5;r++){const o=this.generateAssignment();console.log("aid = ",o)}},generateAssignment(){const e=this.store.newAssignment();this.store.aid=e,console.log("created assignment ",e),this.store.currentAssignment.title=this.guideWords.split(",")[0];const t=this.generatePages(this.numPages);console.log("generatePages returned ",t);try{this.store.currentAssignment.coverUrl=this.store.currentAssignment.pages[0].imgs[0].url}catch(r){console.log(r)}return e},async generatePages(e){e||(e=1);for(let t=0;t<e;t++)this.store.newPage(),await this.getPage(this.guideWords,null,this.store.userSnapshot.preferences.langVoiceKey)},async getPage(e,t,r){selectAll(".assignment").classed("hidden",!1),selectAll(".coverslide").classed("hidden",!0);const o=this.store.langVoices;console.log("getPage ",r,o[r]);const s=this.store.currentPage;try{for(;s.imgs.length>0;)s.imgs.pop()}catch(l){console.log(l)}const c=await dist.exports.setLang(o[r].langName);console.log("res (promise)",c);let n,f,g;if(e.length>0){const l=e.split(",");for(const V in parseInt(Math.random()*Math.random()))console.log("dummy ",V);const i=parseInt(Math.random()*l.length);console.log("searchTerm: ",l[i]);const m=await dist.exports.search(l[i],{suggestion:!1,limit:50}),b=parseInt(Math.random()*m.results.length);g=m.results[b].pageid,f=await dist.exports.page(g),n=await f.summary()}else t!==null?(f=await dist.exports.page(t),g=t,n=await f.summary()):(n=await dist.exports.random(),g=n.pageid,f=await dist.exports.page(g));await f.media().then(l=>{for(const i in l.items)i.type==="image"&&i.showInGallery===!0&&s.imgs.push({url:i.srcset[0].src,cap:i.caption.text})});try{s.currentLangLinks=await f.langLinks()}catch{console.log("Failed to get langLinks")}await f.coordinates().then(l=>{console.log("resolved coords ",l),l!==null?s.mapCoords=`${l.lat}, ${l.lon}`:s.mapCoords="-999, -999"});try{await f.images({limit:100}).then(l=>{for(const i in l)if(!!i){if(s.imgs.length>this.imgResultsSize)break;l[0].title.indexOf(".svg")>1?console.log("SVG ",l[0].title):l[0].title.indexOf("airytale")>0?console.log("Fairytale warning ",l[0].title):l[0].title.indexOf("kguitar")>1?console.log("kguitar ",l[0].title):l[0].title.indexOf("Blank.png")>-1?console.log("Blank.png ",l[0].title):l[0].title.indexOf(".oga")>1?console.log("OGA ",l[0].title):l[0].title.indexOf(".webm")>1?console.log("WEBM ",l[0].title):l[0].title.indexOf(".ogg")>1?console.log("OGG ",l[0].title):l[0].title.indexOf(".tif")>1?console.log("TIF ",l[0].title):l[0].title.indexOf(".mid")>1?console.log("MID ",l[0].title):l[0].title.indexOf(".ogv")>1?console.log("OGV ",l[0].title):l[0].title.indexOf("Icon")>1?console.log("ICON ",l[0].title):l[0].title.indexOf("icon")>1?console.log("icon ",l[0].title):l[0].title.indexOf("podagraria1")>0?console.log("podagraria1 ",l[0].title):l[0].title.indexOf("Bluetank")>1||l[0].title.indexOf("rab Nebula.jpg")>0?console.log("BLUETANK ",l[0].title):l[0].title.indexOf("viacionavion")>1||l[0].title.indexOf("input-microphone")>1?console.log("viacionavion",l[0].title):l[0].title.indexOf("clouds in fair weather")>0?console.log("clouds in fair weather",l[0].title):(console.log("Attempting to add "),s.imgs.push({url:l[0].url,cap:l[0].title}),console.log("Added ",l[0].title)),l.push(l.shift())}})}catch(l){console.log("error retrieving fp.images ",f,l)}s.imgs.length===0&&s.imgs.push({url:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/readingedge_cover.png",cap:"No images available"}),s.langVoiceKey=r,s.isCustom=!1,s.pageid=g,s.pageTitle=n.title,s.guideWords=e,s.pctReplace=15,s.pageText=n.extract,s.canonicalUrl=f.canonicalurl;const y={pageid:g,title:n.title,langVoiceKey:r};for(this.history.unshift(y);this.history.length>this.historySize;)this.history.pop();for(const[l,i]of Object.entries(this.store.langVoices)){const m=i.flagName;console.log("turning off",l,m),selectAll(".pfi").classed(m,!1)}return console.log("turning ON",r,this.store.langVoices[r].flagName),selectAll(".pfi").classed(this.store.langVoices[r].flagName,!0),1},langChangeCB(e){console.log(e);const t=this.flagName;selectAll("#sfi").classed(t,!1),console.log(this.store.langVoices),this.flagName=this.store.langVoices[e].flagName,console.log("langChangeCB",e,this.flagName),selectAll("#sfi").classed(this.flagName,!0),this.init()},async loadOTDPageId(e,t){const r=await this.createAsNeededForPageLoad();console.log("check returned ",r),console.log("WPComponent.loadSearchPageId: ",e,t),await this.getPage("",e,t).then(o=>(console.log("getPage returned rval ",o),this.store.imgIdx=0,this.store.router.replace("/assignments"),e))},async loadSearchPageId(e,t){console.log("store loadSearchPageId: ",e,t),await this.getPage("",e,t).then(r=>(console.log("getPage returned rval ",r),this.store.imgIdx=0,e))},async loadOTD(e){console.log("load",this.otditems[e].text),console.log("load",this.otditems[e]);const t=this.store.userSnapshot.preferences.langVoiceKey;console.log("OTD load ",t);const r=await this.createAsNeededForPageLoad();console.log("check returned ",r);const o=await this.loadOTDPageId(this.otditems[e].pages[0].pageid,t);console.log("loadOTDPageId returned ",o),this.store.imgIdx=0,this.store.router.replace("/assignments")},async loadSearch(e){console.log(e),console.log(this.searchResults[e]);const t=this.store.userSnapshot.preferences.langVoiceKey;console.log("calling loadSearchPageId ",this.searchResults[e].pageid,t);const r=await this.createAsNeededForPageLoad();console.log("check returned ",r);const o=await this.loadSearchPageId(this.searchResults[e].pageid,t);console.log("loadSearch rval ",o),this.store.imgIdx=0,this.store.router.replace("/assignments")},async createAsNeededForPageLoad(){let e=0;if(this.store.imgIdx=0,console.log("createAsNeededForpgLoad",e),this.store.ck===null){console.log("creating new course");const t=await this.store.newCourse();this.store.ck=t,e+=4}if(this.store.ck!==null&&(this.store.aid===null||this.store.aid===-1)){console.log("creating new assignment");const t=this.store.newAssignment();this.store.aid=t,e+=2}return this.store.aid!==null&&this.store.aid!==-1&&(this.store.pgIdx===null||this.store.pgIdx===-1)&&(console.log("appending new page to current assignment"),this.store.newPage(),e+=1),e},async doSearch(){this.clearSearchResults();const e=this.store.langVoices[this.store.userSnapshot.preferences.langVoiceKey];console.log("doSearch ",e,this.searchTerms),dist.exports.setLang(e.langName);const t=await dist.exports.search(this.guideWords,{suggestion:!1,limit:this.searchSize});console.log("res.results.length: ",t.results.length),this.searchResults=t.results},clearSearchResults(){for(;this.searchResults.length;)this.searchResults.pop()},async updateOTDDate(){const e=await dist.exports.onThisDay({type:"selected",month:this.otddate.split("/")[1],day:this.otddate.split("/")[2]});this.otditems=e.selected,this.otdtype="selected",this.otdlabel=date.formatDate(this.otddate,"MM/DD")},async otdOptionsCB(e){const t=await dist.exports.onThisDay({type:this.otdtype});this.otditems=t[this.otdtype]},loadImage(e){try{this.store.currentPage.imgs[this.store.imgIdx]=e}catch(t){console.log(t),this.store.notify("Please create or open a page to load the image into")}},updateHistoryBuffer(){for(;this.history.length>this.historySize;)this.history.pop()}}}),_hoisted_1=createBaseVNode("div",{class:"text-h6"},"Select Date",-1),_hoisted_2=createBaseVNode("div",{class:"text-h6"},"Limit Search Results Size",-1),_hoisted_3=createBaseVNode("div",{class:"text-h6"},"Number of pages generated",-1),_hoisted_4=createBaseVNode("div",{class:"text-h6"},"Limit Image Results Size",-1),_hoisted_5=createBaseVNode("div",{class:"text-h6"},"History Size",-1),_hoisted_6=createBaseVNode("div",{class:"text-h6"},"Set Language For WP",-1),_hoisted_7=createBaseVNode("span",{class:"on-right",id:"sfi"},null,-1),_hoisted_8={width:"100%",class:"z-max"},_hoisted_9=createBaseVNode("div",{class:"text-h6"},"Guide Words",-1),_hoisted_10=createBaseVNode("div",{class:"text-h6"},"Search Terms",-1),_hoisted_11={key:0},_hoisted_12={class:"row cardheader ptr justify-between"},_hoisted_13=["onClick"],_hoisted_14=createBaseVNode("br",null,null,-1),_hoisted_15={class:"q-pa-md",style:{"max-width":"350px"}},_hoisted_16={key:0},_hoisted_17={class:"row cardheader ptr justify-between"},_hoisted_18=["onClick"],_hoisted_19={class:"hidden"},_hoisted_20={class:"q-pa-md",style:{"max-width":"350px"}},_hoisted_21={class:"row cardheader ptr justify-between"},_hoisted_22=["onClick"],_hoisted_23={class:"hidden"},_hoisted_24={class:"q-pa-md",style:{"max-width":"350px"}},_hoisted_25={class:"row cardheader ptr justify-between"},_hoisted_26=["onClick"],_hoisted_27={class:"hidden"};function _sfc_render(e,t,r,o,s,c){return openBlock(),createElementBlock(Fragment,null,[createVNode(QDialog,{modelValue:e.promptOTDDate,"onUpdate:modelValue":t[2]||(t[2]=n=>e.promptOTDDate=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,{align:"center"},{default:withCtx(()=>[_hoisted_1]),_:1}),createVNode(QDate,{modelValue:e.otddate,"onUpdate:modelValue":t[0]||(t[0]=n=>e.otddate=n),minimal:""},null,8,["modelValue"]),createVNode(QCardActions,{align:"center",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{flat:"",label:"Cancel"},null,512),[[ClosePopup]]),withDirectives(createVNode(QBtn,{flat:"",label:"Update OTD date",onClick:t[1]||(t[1]=n=>this.updateOTDDate())},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptSearchSize,"onUpdate:modelValue":t[4]||(t[4]=n=>e.promptSearchSize=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,{align:"center"},{default:withCtx(()=>[_hoisted_2]),_:1}),createVNode(QCardSection,{class:"q-pt-none",align:"center"},{default:withCtx(()=>[createVNode(QKnob,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.searchSize,"onUpdate:modelValue":t[3]||(t[3]=n=>e.searchSize=n)},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"center",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{flat:"",label:"Done"},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptNumPages,"onUpdate:modelValue":t[6]||(t[6]=n=>e.promptNumPages=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,{align:"center"},{default:withCtx(()=>[_hoisted_3]),_:1}),createVNode(QCardSection,{class:"q-pt-none",align:"center"},{default:withCtx(()=>[createVNode(QKnob,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.numPages,"onUpdate:modelValue":t[5]||(t[5]=n=>e.numPages=n)},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"center",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{flat:"",label:"Done"},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptImageResultsSize,"onUpdate:modelValue":t[8]||(t[8]=n=>e.promptImageResultsSize=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,{align:"center"},{default:withCtx(()=>[_hoisted_4]),_:1}),createVNode(QCardSection,{class:"q-pt-none",align:"center"},{default:withCtx(()=>[createVNode(QKnob,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.imageResultsSize,"onUpdate:modelValue":t[7]||(t[7]=n=>e.imageResultsSize=n)},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"center",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{flat:"",label:"Done"},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptHistorySize,"onUpdate:modelValue":t[11]||(t[11]=n=>e.promptHistorySize=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,{align:"center"},{default:withCtx(()=>[_hoisted_5]),_:1}),createVNode(QCardSection,{class:"q-pt-none",align:"center"},{default:withCtx(()=>[createVNode(QKnob,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.historySize,"onUpdate:modelValue":t[9]||(t[9]=n=>e.historySize=n)},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"center",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{flat:"",label:"Done",onClick:t[10]||(t[10]=n=>this.updateHistoryBuffer())},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptLanguage,"onUpdate:modelValue":t[13]||(t[13]=n=>e.promptLanguage=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,null,{default:withCtx(()=>[_hoisted_6,createTextVNode(),_hoisted_7]),_:1}),createVNode(QCardSection,{class:"q-pt-none"},{default:withCtx(()=>[createBaseVNode("table",_hoisted_8,[createBaseVNode("tr",null,[createBaseVNode("td",null,[createVNode(QSelect,{class:"z-max",outlined:"",modelValue:this.store.userSnapshot.preferences.langVoiceKey,"onUpdate:modelValue":[t[12]||(t[12]=n=>this.store.userSnapshot.preferences.langVoiceKey=n),this.langChangeCB],options:this.store.userSnapshot.preferences.langVoices},null,8,["modelValue","options","onUpdate:modelValue"])])])])]),_:1}),createVNode(QCardActions,{align:"right",class:"text-white"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{outline:"",flat:"",label:"Done"},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptGW,"onUpdate:modelValue":t[18]||(t[18]=n=>e.promptGW=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,null,{default:withCtx(()=>[_hoisted_9]),_:1}),createVNode(QCardSection,{class:"q-pt-none"},{default:withCtx(()=>[createVNode(QInput,{dense:"",modelValue:this.guideWords,"onUpdate:modelValue":t[14]||(t[14]=n=>this.guideWords=n),autofocus:"",onKeyup:t[15]||(t[15]=withKeys(n=>{this.doSearch(),e.promptGW=!1},["enter"]))},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"right"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{outline:"",label:"Close",onClick:t[16]||(t[16]=n=>this.promptGW=!1)},null,512),[[ClosePopup]]),withDirectives(createVNode(QBtn,{outline:"",label:"Generate",onClick:t[17]||(t[17]=n=>this.generateAssignment())},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:e.promptSearch,"onUpdate:modelValue":t[23]||(t[23]=n=>e.promptSearch=n),persistent:""},{default:withCtx(()=>[createVNode(QCard,{style:{"min-width":"350px"}},{default:withCtx(()=>[createVNode(QCardSection,null,{default:withCtx(()=>[_hoisted_10]),_:1}),createVNode(QCardSection,{class:"q-pt-none"},{default:withCtx(()=>[createVNode(QInput,{dense:"",modelValue:this.guideWords,"onUpdate:modelValue":t[19]||(t[19]=n=>this.guideWords=n),autofocus:"",onKeyup:t[20]||(t[20]=withKeys(n=>{this.doSearch(),e.promptSearch=!1},["enter"]))},null,8,["modelValue"])]),_:1}),createVNode(QCardActions,{align:"right"},{default:withCtx(()=>[withDirectives(createVNode(QBtn,{outline:"",label:"Close",onClick:t[21]||(t[21]=n=>this.promptSearch=!1)},null,512),[[ClosePopup]]),withDirectives(createVNode(QBtn,{outline:"",label:"Search",onClick:t[22]||(t[22]=n=>this.doSearch())},null,512),[[ClosePopup]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(QCard,{flat:"",bordered:"","no-padding":"",class:"q-ma-md cursor-pointer flex flex-center card-component"},{default:withCtx(()=>[createVNode(QList,{dense:"",bordered:"",class:"full-width"},{default:withCtx(()=>[createVNode(QBar,null,{default:withCtx(()=>[createTextVNode("Wikipedia Content")]),_:1}),createVNode(QExpansionItem,{label:"Generate Courses",class:"hidden"},{default:withCtx(()=>[createVNode(QBar,null,{default:withCtx(()=>[createVNode(QBtn,{onClick:t[24]||(t[24]=n=>this.generateCourse())},{default:withCtx(()=>[createTextVNode("Generate Course")]),_:1}),createVNode(QBtn,{onClick:t[25]||(t[25]=n=>e.promptGW=!0)},{default:withCtx(()=>[createTextVNode("Guide Words")]),_:1})]),_:1})]),_:1}),createVNode(QExpansionItem,{label:"Generate Assignment"},{default:withCtx(()=>[createVNode(QBar,{class:"q-py-lg"},{default:withCtx(()=>[createVNode(QBtn,{dark:"",standout:"",onClick:t[26]||(t[26]=n=>e.promptSearchSize=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.searchSize)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change results limit ("+toDisplayString(this.searchSize)+")",1)]),_:1})]),_:1}),createVNode(QBtn,{dark:"",standout:"",onClick:t[27]||(t[27]=n=>e.promptImageResultsSize=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.imageResultsSize)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change number of images returned ("+toDisplayString(this.imageResultsSize)+")",1)]),_:1})]),_:1}),createVNode(QBtn,{onClick:t[28]||(t[28]=n=>this.promptNumPages=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.numPages)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change number of pages generated")]),_:1})]),_:1}),createBaseVNode("span",{class:"on-right cursor-pointer",id:"sfi",onClick:t[29]||(t[29]=n=>e.promptLanguage=!0)}),createVNode(QSpace),createVNode(QBtn,{class:"on-right",onClick:t[30]||(t[30]=n=>e.promptGW=!0),icon:"play_arrow"})]),_:1})]),_:1}),createVNode(QExpansionItem,{label:"Generate Pages",class:"hidden"},{default:withCtx(()=>[createVNode(QBar,null,{default:withCtx(()=>[createVNode(QBtn,{onClick:t[31]||(t[31]=n=>this.generatePages())},{default:withCtx(()=>[createTextVNode("Generate Page")]),_:1}),createVNode(QBtn,{onClick:t[32]||(t[32]=n=>e.promptGW=!0)},{default:withCtx(()=>[createTextVNode("Guide Words")]),_:1})]),_:1})]),_:1}),createVNode(QExpansionItem,{label:"Search"},{default:withCtx(()=>[createVNode(QBar,{class:"q-py-lg"},{default:withCtx(()=>[createVNode(QBtn,{dark:"",standout:"",onClick:t[33]||(t[33]=n=>e.promptSearchSize=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.searchSize)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change results limit ("+toDisplayString(this.searchSize)+")",1)]),_:1})]),_:1}),createVNode(QBtn,{dark:"",standout:"",onClick:t[34]||(t[34]=n=>e.promptImageResultsSize=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.imageResultsSize)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change number of images returned ("+toDisplayString(this.imageResultsSize)+")",1)]),_:1})]),_:1}),createBaseVNode("span",{class:"on-right cursor-pointer",id:"sfi",onClick:t[35]||(t[35]=n=>e.promptLanguage=!0)}),createVNode(QSpace),createVNode(QBtn,{class:"on-right",onClick:t[36]||(t[36]=n=>e.promptSearch=!0),icon:"search"}),createVNode(QBtn,{onClick:t[37]||(t[37]=n=>this.clearSearchResults()),icon:"clear"})]),_:1}),this.searchResults.length?(openBlock(),createElementBlock("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(this.searchResults,(n,f)=>(openBlock(),createBlock(QCard,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.searchResults,"onUpdate:modelValue":t[38]||(t[38]=g=>this.searchResults=g),key:f},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12,[createBaseVNode("span",{class:"history-title col-grow",onClick:g=>this.loadSearch(f)},toDisplayString(f)+". "+toDisplayString(n.title.slice(0,25)),9,_hoisted_13)])]),_:2},1032,["modelValue"]))),128))])):createCommentVNode("",!0)]),_:1}),createVNode(QExpansionItem,{label:"On This Day"},{default:withCtx(()=>[createVNode(QBar,{class:"q-py-lg"},{default:withCtx(()=>[createVNode(QBtn,{dark:"",standout:"",icon:"calendar_today",onClick:t[39]||(t[39]=n=>e.promptOTDDate=!0)}),createBaseVNode("span",{class:"on-right cursor-pointer",id:"sfi",onClick:t[40]||(t[40]=n=>e.promptLanguage=!0)}),createVNode(QSpace),createVNode(QSelect,{dark:"",dense:"",modelValue:this.otdtype,"onUpdate:modelValue":t[41]||(t[41]=n=>this.otdtype=n),options:["events","holidays","births","deaths","selected"],"emit-value":"",onPopupHide:t[42]||(t[42]=n=>this.otdOptionsCB()),class:"on-right"},null,8,["modelValue"])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.otditems,(n,f)=>(openBlock(),createBlock(QCard,{class:"q-pa-sm q-ma-sm",flat:"",bordered:"",modelValue:e.otditems,"onUpdate:modelValue":t[43]||(t[43]=g=>e.otditems=g),key:f},{default:withCtx(()=>[createVNode(QBadge,{class:"on-left",style:{cursor:"pointer"},onClick:g=>this.loadOTD(f)},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("OTD result "+toDisplayString(f),1)]),_:2},1024),createVNode(QIcon,{size:"xs",name:"link"})]),_:2},1032,["onClick"]),createTextVNode(" "+toDisplayString(n.year)+" "+toDisplayString(n.text),1),_hoisted_14,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.pages,(g,y)=>(openBlock(),createElementBlock("span",{key:y},[createVNode(QBadge,{class:"on-left",style:{cursor:"pointer"},onClick:l=>this.loadOTDPageId(g.pageid,this.store.userSnapshot.preferences.langVoiceKey)},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(g.title),1)]),_:2},1024),createVNode(QIcon,{size:"xs",name:"link"})]),_:2},1032,["onClick"])]))),128))]),_:2},1032,["modelValue"]))),128))]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_15,[createVNode(QList,{bordered:"",class:"rounded-borders",icon:"gear"},{default:withCtx(()=>[createVNode(QExpansionItem,{label:"Saved Bookmarks"},{default:withCtx(()=>[this.store.userSnapshot.bookmarks?(openBlock(),createElementBlock("div",_hoisted_16,[(openBlock(!0),createElementBlock(Fragment,null,renderList(this.store.userSnapshot.bookmarks,(n,f)=>(openBlock(),createBlock(QCard,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.store.userSnapshot.bookmarks,"onUpdate:modelValue":t[44]||(t[44]=g=>this.store.userSnapshot.bookmarks=g),key:f},{default:withCtx(()=>[createBaseVNode("div",_hoisted_17,[createBaseVNode("span",{class:"history-title col-grow q-py-xs q-px-sm",onClick:g=>this.loadOTDPageId(n.pageid,n.langVoiceKey)},toDisplayString(f.slice(0,20)),9,_hoisted_18),createBaseVNode("span",_hoisted_19,toDisplayString(n),1),createVNode(QIcon,{class:"q-pb-xs q-pt-sm q-px-sm",size:e.xl,color:e.primary,name:"clear",onClick:g=>this.store.removeBookmark(f)},null,8,["size","color","onClick"])])]),_:2},1032,["modelValue"]))),128))])):createCommentVNode("",!0)]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_20,[createVNode(QList,{bordered:"",class:"rounded-borders",icon:"gear"},{default:withCtx(()=>[createVNode(QExpansionItem,{label:"Saved Images"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(this.store.userSnapshot.images,(n,f)=>(openBlock(),createBlock(QCard,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.store.userSnapshot.images,"onUpdate:modelValue":t[45]||(t[45]=g=>this.store.userSnapshot.images=g),key:f},{default:withCtx(()=>[createBaseVNode("div",_hoisted_21,[createBaseVNode("span",{class:"history-title col-grow q-py-xs q-px-sm",onClick:g=>this.loadImage(n)},toDisplayString(n.cap.slice(0,20)),9,_hoisted_22),createBaseVNode("span",_hoisted_23,toDisplayString(f),1),createVNode(QIcon,{class:"q-pb-xs q-pt-sm q-px-sm",size:e.xl,color:e.primary,name:"clear",onClick:g=>this.store.removeImage(f)},null,8,["size","color","onClick"])])]),_:2},1032,["modelValue"]))),128))]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_24,[createVNode(QList,{bordered:"",class:"rounded-borders",icon:"gear"},{default:withCtx(()=>[createVNode(QExpansionItem,{label:"Saved History"},{default:withCtx(()=>[createVNode(QBar,{class:"q-py-lg"},{default:withCtx(()=>[createVNode(QBtn,{dark:"",standout:"",onClick:t[46]||(t[46]=n=>e.promptHistorySize=!0)},{default:withCtx(()=>[createTextVNode(toDisplayString(this.historySize)+" ",1),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode("Change history size ("+toDisplayString(this.historySize)+")",1)]),_:1})]),_:1}),createVNode(QBtn,{icon:"clear",onClick:t[47]||(t[47]=n=>this.history=[])})]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(this.history,(n,f)=>(openBlock(),createBlock(QCard,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.history,"onUpdate:modelValue":t[48]||(t[48]=g=>this.history=g),key:f},{default:withCtx(()=>[createBaseVNode("div",_hoisted_25,[createBaseVNode("span",{class:"history-title col-grow q-py-xs q-px-sm",onClick:g=>this.loadOTDPageId(n.pageid,n.langVoiceKey)},toDisplayString(n.title),9,_hoisted_26),createBaseVNode("span",_hoisted_27,toDisplayString(f),1)])]),_:2},1032,["modelValue"]))),128))]),_:1})]),_:1})])],64)}var WPComponent=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{WPComponent as W};
