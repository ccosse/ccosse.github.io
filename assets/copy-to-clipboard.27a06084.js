import{e as ne}from"./rtl.c124629b.js";import{an as oe,W as M,y as ae,az as le,U as j,aA as H,aw as U,Y as W,V as K,r as I,a as m,w as B,g as L,d,X as ie,aP as re,t as R,C as Z,aQ as ue,c as z,a3 as se,aI as ce,Q as F,$ as ve,aG as de,x as ee,o as te,ax as X,ar as fe,aR as me,h as pe}from"./index.d9c59b20.js";import{u as ge,a as he}from"./use-dark.d0779efb.js";import{g as Y,s as G}from"./TouchPan.e6378bac.js";import{c as ye}from"./selection.bcdfbe80.js";import{u as be}from"./use-cache.75c565be.js";import{f as xe,r as Ce}from"./ClosePopup.81a7f2a1.js";function Pe(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,i)=>{const r=parseFloat(a);r&&(n[i]=r)}),n}var Se=oe({name:"touch-swipe",beforeMount(e,{value:n,arg:a,modifiers:i}){if(i.mouse!==!0&&M.has.touch!==!0)return;const r=i.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Pe(a),direction:Y(i),noop:ae,mouseStart(l){G(l,t)&&le(l)&&(j(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(l,!0))},touchStart(l){if(G(l,t)){const u=l.target;j(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),t.start(l)}},start(l,u){M.is.firefox===!0&&H(e,!0);const p=U(l);t.event={x:p.left,y:p.top,time:Date.now(),mouse:u===!0,dir:!1}},move(l){if(t.event===void 0)return;if(t.event.dir!==!1){W(l);return}const u=Date.now()-t.event.time;if(u===0)return;const p=U(l),y=p.left-t.event.x,s=Math.abs(y),f=p.top-t.event.y,v=Math.abs(f);if(t.event.mouse!==!0){if(s<t.sensitivity[1]&&v<t.sensitivity[1]){t.end(l);return}}else if(s<t.sensitivity[2]&&v<t.sensitivity[2])return;const g=s/u,x=v/u;t.direction.vertical===!0&&s<v&&s<100&&x>t.sensitivity[0]&&(t.event.dir=f<0?"up":"down"),t.direction.horizontal===!0&&s>v&&v<100&&g>t.sensitivity[0]&&(t.event.dir=y<0?"left":"right"),t.direction.up===!0&&s<v&&f<0&&s<100&&x>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&s<v&&f>0&&s<100&&x>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&s>v&&y<0&&v<100&&g>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&s>v&&y>0&&v<100&&g>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(W(l),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ye(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(P,50):P()}),t.handler({evt:l,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:u,distance:{x:s,y:v}})):t.end(l)},end(l){t.event!==void 0&&(K(t,"temp"),M.is.firefox===!0&&H(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),l!==void 0&&t.event.dir!==!1&&W(l),t.event=void 0)}};if(e.__qtouchswipe=t,i.mouse===!0){const l=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";j(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}M.has.touch===!0&&j(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchswipe;a!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&a.end(),a.handler=n.value),a.direction=Y(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(K(n,"main"),K(n,"temp"),M.is.firefox===!0&&H(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});const we={name:{required:!0},disable:Boolean},J={setup(e,{slots:n}){return()=>d("div",{class:"q-panel scroll",role:"tabpanel"},R(n.default))}},_e={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},qe=["update:modelValue","beforeTransition","transition"];function ke(){const{props:e,emit:n,proxy:a}=L(),{getCacheWithFn:i}=be();let r,t;const l=I(null),u=I(null);function p(o){const c=e.vertical===!0?"up":"left";w((a.$q.lang.rtl===!0?-1:1)*(o.direction===c?1:-1))}const y=m(()=>[[Se,p,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),s=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),v=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),x=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),_=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);B(()=>e.modelValue,(o,c)=>{const C=S(o)===!0?b(o):-1;t!==!0&&E(C===-1?0:C<b(c)?-1:1),l.value!==C&&(l.value=C,n("beforeTransition",o,c),Z(()=>{n("transition",o,c)}))});function P(){w(1)}function T(){w(-1)}function q(o){n("update:modelValue",o)}function S(o){return o!=null&&o!==""}function b(o){return r.findIndex(c=>c.props.name===o&&c.props.disable!==""&&c.props.disable!==!0)}function O(){return r.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function E(o){const c=o!==0&&e.animated===!0&&l.value!==-1?"q-transition--"+(o===-1?s.value:f.value):null;u.value!==c&&(u.value=c)}function w(o,c=l.value){let C=c+o;for(;C>-1&&C<r.length;){const $=r[C];if($!==void 0&&$.props.disable!==""&&$.props.disable!==!0){E(o),t=!0,n("update:modelValue",$.props.name),setTimeout(()=>{t=!1});return}C+=o}e.infinite===!0&&r.length>0&&c!==-1&&c!==r.length&&w(o,o===-1?r.length:-1)}function A(){const o=b(e.modelValue);return l.value!==o&&(l.value=o),!0}function Q(){const o=S(e.modelValue)===!0&&A()&&r[l.value];return e.keepAlive===!0?[d(ue,x.value,[d(_.value===!0?i(g.value,()=>({...J,name:g.value})):J,{key:g.value,style:v.value},()=>o)])]:[d("div",{class:"q-panel scroll",style:v.value,key:g.value,role:"tabpanel"},[o])]}function h(){if(r.length!==0)return e.animated===!0?[d(ie,{name:u.value},Q)]:Q()}function k(o){return r=re(R(o.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&S(c.props.name)===!0),r.length}function V(){return r}return Object.assign(a,{next:P,previous:T,goTo:q}),{panelIndex:l,panelDirectives:y,updatePanelsList:k,updatePanelIndex:A,getPanelContent:h,getEnabledPanels:O,getPanels:V,isValidPanelName:S,keepAliveProps:x,needsUniqueKeepAliveWrapper:_,goToPanelByOffset:w,goToPanel:q,nextPanel:P,previousPanel:T}}function N(e,n=new WeakMap){if(Object(e)!==e)return e;if(n.has(e))return n.get(e);const a=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const i=e.valueOf();if(Object(i)!==i){const r=new e.constructor(i);return n.set(e,r),r}}return n.set(e,a),e instanceof Set?e.forEach(i=>{a.add(N(i,n))}):e instanceof Map&&e.forEach((i,r)=>{a.set(r,N(i,n))}),Object.assign(a,...Object.keys(e).map(i=>({[i]:N(e[i],n)})))}var je=z({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:a}){const{proxy:i}=L(),{$q:r}=i,t=I(null),l=I(""),u=I("");let p=!1;const y=m(()=>se({initialValue:l.value,validate:e.validate,set:s,cancel:f,updatePosition:v},"value",()=>u.value,b=>{u.value=b}));function s(){e.validate(u.value)!==!1&&(g()===!0&&(a("save",u.value,l.value),a("update:modelValue",u.value)),x())}function f(){g()===!0&&a("cancel",u.value,l.value),x()}function v(){Z(()=>{t.value.updatePosition()})}function g(){return ce(u.value,l.value)===!1}function x(){p=!0,t.value.hide()}function _(){p=!1,l.value=N(e.modelValue),u.value=N(e.modelValue),a("beforeShow")}function P(){a("show")}function T(){p===!1&&g()===!0&&(e.autoSave===!0&&e.validate(u.value)===!0?(a("save",u.value,l.value),a("update:modelValue",u.value)):a("cancel",u.value,l.value)),a("beforeHide")}function q(){a("hide")}function S(){const b=n.default!==void 0?[].concat(n.default(y.value)):[];return e.title&&b.unshift(d("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&b.push(d("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[d(F,{flat:!0,color:e.color,label:e.labelCancel||r.lang.label.cancel,onClick:f}),d(F,{flat:!0,color:e.color,label:e.labelSet||r.lang.label.set,onClick:s})])),b}return Object.assign(i,{set:s,cancel:f,show(b){t.value!==null&&t.value.show(b)},hide(b){t.value!==null&&t.value.hide(b)},updatePosition:v}),()=>{if(e.disable!==!0)return d(ne,{ref:t,class:"q-popup-edit",cover:e.cover,onBeforeShow:_,onShow:P,onBeforeHide:T,onHide:q,onEscapeKey:f},S)}}}),Le=z({name:"QCarouselSlide",props:{...we,imgSrc:String},setup(e,{slots:n}){const a=m(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>d("div",{class:"q-carousel__slide",style:a.value},R(n.default))}}),Re=z({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:n}){const a=m(()=>`q-carousel__control absolute absolute-${e.position}`),i=m(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>d("div",{class:a.value,style:i.value},R(n.default))}});let D=0;const $e={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Te=["update:fullscreen","fullscreen"];function Ee(){const e=L(),{props:n,emit:a,proxy:i}=e;let r,t,l;const u=I(!1);ve(e)===!0&&B(()=>i.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&s()}),B(()=>n.fullscreen,f=>{u.value!==f&&p()}),B(u,f=>{a("update:fullscreen",f),a("fullscreen",f)});function p(){u.value===!0?s():y()}function y(){u.value!==!0&&(u.value=!0,l=i.$el.parentNode,l.replaceChild(t,i.$el),document.body.appendChild(i.$el),D++,D===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:s},X.add(r))}function s(){u.value===!0&&(r!==void 0&&(X.remove(r),r=void 0),l.replaceChild(i.$el,t),u.value=!1,D=Math.max(0,D-1),D===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return de(()=>{t=document.createElement("span")}),ee(()=>{n.fullscreen===!0&&y()}),te(s),Object.assign(i,{toggleFullscreen:p,setFullscreen:y,exitFullscreen:s}),{inFullscreen:u,toggleFullscreen:p}}const Ie=["top","right","bottom","left"],Be=["regular","flat","outline","push","unelevated"];var ze=z({name:"QCarousel",props:{...ge,..._e,...$e,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Be.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ie.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Te,...qe],setup(e,{slots:n}){const{proxy:{$q:a}}=L(),i=he(e,a);let r=null,t;const{updatePanelsList:l,getPanelContent:u,panelDirectives:p,goToPanel:y,previousPanel:s,nextPanel:f,getEnabledPanels:v,panelIndex:g}=ke(),{inFullscreen:x}=Ee(),_=m(()=>x.value!==!0&&e.height!==void 0?{height:e.height}:{}),P=m(()=>e.vertical===!0?"vertical":"horizontal"),T=m(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(x.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${P.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${O.value}`:"")),q=m(()=>{const h=[e.prevIcon||a.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||a.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&a.lang.rtl===!0?h.reverse():h}),S=m(()=>e.navigationIcon||a.iconSet.carousel.navigationIcon),b=m(()=>e.navigationActiveIcon||S.value),O=m(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),E=m(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));B(()=>e.modelValue,()=>{e.autoplay&&w()}),B(()=>e.autoplay,h=>{h?w():r!==null&&(clearTimeout(r),r=null)});function w(){const h=me(e.autoplay)===!0?Math.abs(e.autoplay):5e3;r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,h>=0?f():s()},h)}ee(()=>{e.autoplay&&w()}),te(()=>{r!==null&&clearTimeout(r)});function A(h,k){return d("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${O.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[d("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},v().map(k))])}function Q(){const h=[];if(e.navigation===!0){const k=n["navigation-icon"]!==void 0?n["navigation-icon"]:o=>d(F,{key:"nav"+o.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${o.active===!0?"":"in"}active`,...o.btnProps,onClick:o.onClick}),V=t-1;h.push(A("buttons",(o,c)=>{const C=o.props.name,$=g.value===c;return k({index:c,maxIndex:V,name:C,active:$,btnProps:{icon:$===!0?b.value:S.value,size:"sm",...E.value},onClick:()=>{y(C)}})}))}else if(e.thumbnails===!0){const k=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(A("thumbnails",V=>{const o=V.props;return d("img",{key:"tmb#"+o.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${o.name===e.modelValue?"":"in"}active`+k,src:o.imgSrc||o["img-src"],onClick:()=>{y(o.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&h.push(d("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${P.value} absolute flex flex-center`},[d(F,{icon:q.value[0],...E.value,onClick:s})])),(e.infinite===!0||g.value<t-1)&&h.push(d("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${P.value} absolute flex flex-center`},[d(F,{icon:q.value[1],...E.value,onClick:f})]))),pe(n.control,h)}return()=>(t=l(n),d("div",{class:T.value,style:_.value},[fe("div",{class:"q-carousel__slides-container"},u(),"sl-cont",e.swipeable,()=>p.value)].concat(Q())))}});function Ae(e){const n=document.createElement("textarea");n.value=e,n.contentEditable="true",n.style.position="fixed";const a=()=>{};xe(a),document.body.appendChild(n),n.focus(),n.select();const i=document.execCommand("copy");return n.remove(),Ce(a),i}function He(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((n,a)=>{const i=Ae(e);i?n(!0):a(i)})}export{je as Q,_e as a,qe as b,ke as c,He as d,ze as e,Re as f,Le as g,we as u};
