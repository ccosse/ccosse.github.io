import{d as v,_ as C,r as m,o as a,E as n,a as e,w as o,I as _,$ as D,a3 as S,F as r,G as i,as as g,v as k,P as I,c as B,Q as c}from"./index.89ecb77b.js";import{Q as b}from"./QSpace.2bffdfce.js";import{Q as h}from"./QCard.9c4b1f49.js";import{a as T,Q as q}from"./QBar.bf6dddfe.js";import{a as L,Q as U,b as V}from"./QDrawer.dca111a5.js";import{Q as A,a as F}from"./QLayout.03e9d4d2.js";import{u as x}from"./store.ce5b3eea.js";import{Q as O}from"./QToggle.4b6630a7.js";import{T as N,P as G}from"./PreferencesComponent.343c179e.js";import{Q as R}from"./QList.a9cf3a71.js";import{a as f}from"./ClosePopup.1215200b.js";import{a as z}from"./QKnob.f91eaad9.js";import"./use-dark.6ea80c57.js";import"./touch.497300e2.js";import"./use-prevent-scroll.dfd0406b.js";import"./scroll.6be757cb.js";import"./TouchPan.85f359cb.js";import"./firebase.84a31673.js";import"./axios.84ae42e4.js";import"./QImg.76cbca42.js";import"./QExpansionItem.39d1d6c9.js";import"./uid.42677368.js";import"./transform.9aa67f3e.js";import"./selectAll.be636dd1.js";const E=v({name:"ImagePager",components:{TileComponent:N},props:[],setup(){return{store:x()}},methods:{}}),H={key:0};function j(s,t,w,y,Q,$){const d=m("TileComponent");return a(),n(_,null,[e(T,null,{default:o(()=>[e(O,{label:"Image Fit",modelValue:this.store.imgFit,"onUpdate:modelValue":t[0]||(t[0]=l=>this.store.imgFit=l)},null,8,["modelValue"])]),_:1}),this.store.currentPage?(a(),n("span",H,[(a(!0),n(_,null,D(this.store.currentPage.imgs,(l,p)=>(a(),n("span",{key:p},[e(d,{tileData:l,imgUrl:l.url,targetUrl:null,ck:this.store.ck,aid:this.store.aid,pgIdx:this.store.pgIdx,imgIdx:p,tileType:"image"},null,8,["tileData","imgUrl","ck","aid","pgIdx","imgIdx"])]))),128))])):S("",!0)],64)}var M=C(E,[["render",j]]);const J=v({name:"ScoreCard",setup(){return{store:x()}},mounted(){console.log("ScoreCard mounted")},methods:{dummy(){console.log("dummy")}}}),K={class:"q-pa-md",style:{"max-width":"350px"}},W={class:"flex justify-center atit q-ma-sm q-pa-sm"},X={class:"text-h6"},Y={key:0},Z={key:1},ee=r("div",{class:"text-h6"},"Current Score",-1),te={width:"100%",class:"text-h6"},oe=r("tr",null,[r("th",{style:{"text-align":"center"}},"Points"),i(),r("th",{style:{"text-align":"center"}},"Goal")],-1),re={style:{"text-align":"center"}},se={style:{"text-align":"center"}};function ae(s,t,w,y,Q,$){return a(),n(_,null,[r("div",K,[e(R,{bordered:"",class:"rounded-borders"},{default:o(()=>[r("span",W,[r("div",X,[i("My Points Balance: "),this.store.authenticated?(a(),n("span",Y,g(this.store.userSnapshot.profile.points),1)):(a(),n("span",Z,"0"))])])]),_:1})]),e(h,{flat:""},{default:o(()=>[e(f,null,{default:o(()=>[e(h,{flat:"",style:{"max-width":"300px",border:"1px solid gray","border-radius":"5px"}},{default:o(()=>[e(f,{align:"center"},{default:o(()=>[ee]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:o(()=>[e(z,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",value:this.store.currentAssignment.points,min:0,max:this.goal,modelValue:this.store.currentAssignment.points,"onUpdate:modelValue":t[0]||(t[0]=d=>this.store.currentAssignment.points=d)},null,8,["value","max","modelValue"]),r("table",te,[oe,r("tr",null,[r("td",re,g(this.store.currentAssignment.points),1),i(),r("td",se,g(this.store.currentAssignment.goal),1)])])]),_:1})]),_:1})]),_:1})]),_:1})],64)}var ne=C(J,[["render",ae]]);const le=v({name:"ViewerLayout",components:{ImagePager:M,ScoreCard:ne,PreferencesComponent:G},setup(){const s=k(!1),t=k(!1);return{store:x(),leftDrawerOpen:s,toggleLeftDrawer(){s.value=!s.value},rightDrawerOpen:t,toggleRightDrawer(){t.value=!t.value}}},mounted(){I.isActive},methods:{goBack(){this.store.role==="student"?this.store.router.push("/courses"):this.store.router.push("/assignments")}}}),ie=r("br",null,null,-1),de=r("br",null,null,-1);function ue(s,t,w,y,Q,$){const d=m("ImagePager"),l=m("ScoreCard"),p=m("PreferencesComponent"),P=m("router-view");return a(),B(A,{view:"hHh lpR fFf"},{default:o(()=>[e(U,{bordered:"",class:"bg-positive text-white"},{default:o(()=>[e(L,null,{default:o(()=>[e(c,{flat:"",round:"",icon:"menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),e(b),e(c,{flat:"",round:"",icon:"north",onClick:t[0]||(t[0]=u=>this.goBack())},{default:o(()=>[e(q,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:o(()=>[e(h,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:o(()=>[i(" Go back / up a level in the "),ie,i("course-assignment-page "),de,i("hierarchy ")]),_:1})]),_:1})]),_:1}),e(b),e(c,{flat:"",round:"",icon:"logout",onClick:t[1]||(t[1]=u=>this.store.logout())}),e(c,{flat:"",round:"",icon:"menu",onClick:s.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),e(V,{"show-if-above":"",modelValue:s.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=u=>s.leftDrawerOpen=u),side:"left",bordered:""},{default:o(()=>[e(d)]),_:1},8,["modelValue"]),e(V,{"show-if-above":"",modelValue:s.rightDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=u=>s.rightDrawerOpen=u),side:"right",bordered:""},{default:o(()=>[e(l),e(p)]),_:1},8,["modelValue"]),e(F,null,{default:o(()=>[e(P)]),_:1})]),_:1})}var Le=C(le,[["render",ue]]);export{Le as default};
