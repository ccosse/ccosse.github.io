import{Q as q,a as M,u as Yt,b as zt,c as Wt}from"./use-form.d67bad88.js";import{Q as Et,u as Gt,a as Vt,P as Jt,b as pt}from"./PreferencesComponent.5c1dc9c6.js";import{i as _,g as tt,d as te,r as c,v as A,_ as se,o as u,ag as f,a as o,w as i,K as z,Q as V,e as l,af as b,aj as y,aL as st,c as Q,a1 as D,ah as j,ai as re,ak as G,f as R,h as S,am as Xt,an as we,j as Zt,q as es,p as _t,R as ts,P as yt,s as Xe}from"./index.5d510624.js";import{d as Ce,C as W,Q as ke}from"./ClosePopup.abb0c394.js";import{Q as P}from"./QTooltip.8925b349.js";import{Q as ye,a as ss,b as as,c as Ct,d as kt,e as os,f as ls}from"./QLayout.abf5449a.js";import{Q as De,a as qe,D as ns,f as St}from"./DocumentationComponent.34bc973c.js";import{Q as is}from"./QTabs.8c52650a.js";import{u as ae,s as E,a as ee,p as me,t as rs,c as $t,f as ds,g as us,j as Ze,_ as cs,d as bt}from"./re-store.98289c03.js";import{Q as ie}from"./QInput.b6caecde.js";import{Q as ms}from"./QToggle.e1afe1be.js";import{Q as xe}from"./QImg.639d21d3.js";import{u as hs,a as gs}from"./use-dark.0597b58a.js";import"./selection.ee56267d.js";import"./use-key-composition.4f3e6aa8.js";import"./use-portal.6a1b49ed.js";import"./scroll.cf55cad8.js";import"./QCheckbox.7a663749.js";import"./firebase.0eb8f378.js";import"./index.2cf0d985.js";const fs=_("div",{class:"q-space"});var Ve=tt({name:"QSpace",setup(){return()=>fs}});const vs=te({name:"SearchComponent",setup(){const e=ae(),s=c("");return{reStore:e,searchTerms:s,searchSize:c(e.preferences.resLimit),searchResults:c([]),promptSearchSize:c(!1)}},mounted(){A(this.reStore.preferences,async(h,p)=>{console.log("watcher ",h,p),this.searchSize=h.resLimit;for(const[K,r]of Object.entries(this.reStore.langVoices))E("#sfi").classed(r.flagName,!1);const w=this.reStore.preferences.langVoiceKey;E("#sfi").classed(this.reStore.langVoices[w].flagName,!0)});const e=this.reStore.preferences.langVoiceKey,s=this.reStore.langVoices[e].flagName;E("#sfi").classed(s,!0)},methods:{updateSearchSize(){},update(){this.searchTerms=this.searchTerms},remove(e){this.searchResults.splice(e,1)},load(e){console.log(e),console.log(this.searchResults[e]);const s=this.reStore.preferences.langVoiceKey;console.log("calling loadPageId ",this.searchResults[e].pageid,s),this.reStore.loadPageId(this.searchResults[e].pageid,s),this.reStore.courses.trigger+=1},async doSearch(){const e=this.reStore.langVoices[this.reStore.preferences.langVoiceKey];console.log("doSearch ",e),this.reStore.wiki.setLang(e.langName);const s=await this.reStore.wiki.search(this.searchTerms,{suggestion:!1,limit:this.searchSize});console.log("res.results.length: ",s.results.length),this.searchResults=s.results},clearSearchResults(){for(;this.searchResults.length;)this.searchResults.pop()}}}),ps=l("div",{class:"text-h6"},"Search Results Size",-1),_s={class:"q-pa-md",style:{"max-width":"350px"}},ys={class:"q-gutter-y-sm column"},Cs=l("span",{class:"on-right text-h2",id:"sfi"},null,-1),ks={key:0},Ss={class:"row cardheader ptr justify-between"},$s=["onClick"],bs={class:"history-remove"};function ws(e,s,h,p,w,K){return u(),f(j,null,[o(ke,{modelValue:e.promptSearchSize,"onUpdate:modelValue":s[2]||(s[2]=r=>e.promptSearchSize=r),persistent:""},{default:i(()=>[o(q,{style:{"min-width":"350px"}},{default:i(()=>[o(M,{align:"center"},{default:i(()=>[ps]),_:1}),o(M,{class:"q-pt-none",align:"center"},{default:i(()=>[o(Et,{"show-value":"",size:"140px",thickness:.5,color:"green","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.searchSize,"onUpdate:modelValue":s[0]||(s[0]=r=>e.searchSize=r)},null,8,["modelValue"])]),_:1}),o(Ce,{align:"center",class:"text-white"},{default:i(()=>[z(o(V,{flat:"",label:"Cancel"},null,512),[[W]]),z(o(V,{flat:"",label:"Update results size",onClick:s[1]||(s[1]=r=>this.updateSearchSize())},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l("div",_s,[o(qe,{bordered:"",class:"rounded-borders"},{default:i(()=>[o(De,{label:"Wikipedia Search"},{default:i(()=>[o(q,null,{default:i(()=>[l("div",ys,[o(ye,{class:"bg-primary text-white rounded-borders q-my-md"},{default:i(()=>[o(V,{dark:"",standout:"",onClick:s[3]||(s[3]=r=>e.promptSearchSize=!0)},{default:i(()=>[b(y(this.searchResults.length)+" ",1),o(P,null,{default:i(()=>[b("Change results limit ("+y(this.searchSize)+")",1)]),_:1})]),_:1}),Cs,o(ie,{dark:"",dense:"",standout:"",modelValue:e.searchTerms,"onUpdate:modelValue":s[6]||(s[6]=r=>e.searchTerms=r),"input-class":"text-right",class:"q-ml-md",onKeyup:[s[7]||(s[7]=r=>this.update()),s[8]||(s[8]=st(r=>this.doSearch(),["enter"]))]},{append:i(()=>[e.searchTerms===""?(u(),Q(D,{key:0,name:"search",onClick:s[4]||(s[4]=r=>this.doSearch())})):(u(),Q(D,{key:1,name:"clear",class:"cursor-pointer",onClick:s[5]||(s[5]=r=>{this.searchTerms="",this.clearSearchResults()})}))]),_:1},8,["modelValue"])]),_:1})]),this.searchResults.length?(u(),f("div",ks,[(u(!0),f(j,null,re(this.searchResults,(r,d)=>(u(),Q(q,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.searchResults,"onUpdate:modelValue":s[9]||(s[9]=k=>this.searchResults=k),key:d},{default:i(()=>[l("div",Ss,[l("span",{class:"history-title col-grow",onClick:k=>this.load(d)},y(d)+". "+y(r.title.slice(0,25)),9,$s),l("span",bs,[o(D,{class:"primary",size:e.xl,color:e.primary,name:"close",onClick:k=>this.remove(d)},null,8,["size","color","onClick"])])])]),_:2},1032,["modelValue"]))),128))])):G("",!0)]),_:1})]),_:1})]),_:1})])],64)}var Vs=se(vs,[["render",ws]]);const xs=te({name:"CurrentPage",props:{},setup(e){return{reStore:ae(),ck:c("-"),aid:c("-"),pageTitle:c("-"),langVoiceKey:c(),flagName:c("fi fi-gb"),imgIdx:c(0),imgs:c([]),imgTot:c(0),imgFit:c("-"),guideWords:c("-"),mapCoords:c("-"),pageid:c("-"),pctReplace:c(),canonicalUrl:c(),props:e,isCustom:c(null),langNames:c(["en","th","es","fr","it","de","zh","ja","sw","pt","ru","id","ke"]),promptGuideWords:c(!1)}},mounted(){console.log(this.props),A(this.reStore.courses,async(e,s)=>{try{console.log("CurrentPage watcher",this.reStore.courses);const h=this.reStore.courses.pgIdx,p=this.reStore.page;let w,K;if(p){console.log("CurrentPage ",p),K=p.ck,w=p.aid,this.pageTitle=p.pageTitle,this.imgIdx=p.imgIdx,this.imgs=p.imgs,this.imgTot=p.imgs.length,this.imgFit=p.imgFit,this.guideWords=p.guideWords,this.mapCoords=p.mapCoords,this.pageid=p.pageid,this.langVoiceKey=p.langVoiceKey,this.flagName=this.reStore.langVoices[p.langVoiceKey].flagName;for(const[r,d]of Object.entries(this.reStore.langVoices)){const k=d.flagName;ee(".flagicon").classed(k,!1)}ee(".flagicon").classed(this.flagName,!0),this.pctReplace=p.pctReplace,this.canonicalUrl=p.canonicalUrl,this.isCustom=c(this.reStore.page.isCustom)}this.aid=w,this.ck=K}catch(h){console.log(h)}},{immediate:!0,deep:!0})},methods:{updateGuideWords(){console.log("updateGuideWords",this.guideWords),this.reStore.page.guideWords=this.guideWords},langLinkCB(e){console.log(e.url),window.open(e.url,"_blank")},speak(){console.log("CurrentPage.speak",this.reStore),this.reStore.speak()},cycleFitMode(){const e=["scale-down","cover","contain"];let s=e.indexOf(this.imgFit);s+=1,s>e.length-1&&(s=0),this.imgFit=e[s],this.reStore.page.imgFit=this.imgFit,console.log("fit: ",this.imgFit),this.reStore.courses.trigger+=1},nextImg(){this.imgIdx=this.imgIdx+1>this.imgs.length-1?0:this.imgIdx+1,this.reStore.page.imgIdx=this.imgIdx,this.reStore.courses.imgIdx=this.imgIdx,this.reStore.courses.trigger+=1},imgCB(e,s){console.log(e,s),this.reStore.page.imgIdx=e,this.reStore.courses.imgIdx=e,this.reStore.courses.trigger+=1},loadURL(e){console.log("loadURL ",e),window.open(e,"_blank")},mapCB(){const e="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(e,"_blank")},saveImage(e,s){console.log("saveImage: ",e,s),this.reStore.saveImage(e,s)},saveCurrentImage(){const e=this.imgs[this.imgIdx];console.log("saveCurrentImage: ",e),this.reStore.saveImage(this.imgIdx,e)},remove(e,s){console.log("remove: ",e,s),this.reStore.page.imgs.splice(e,1)},toggleText(){E("#slideTextDiv").classed("hidden")?ee("#slideTextDiv").classed("hidden",!1):ee("#slideTextDiv").classed("hidden",!0)},addBookmark(){console.log("addBookmark"),this.reStore.saveBookmark()},resetPage(){this.reStore.newPage()},newPage(){console.log("CurrentPage newPageCB "),this.reStore.newPage()},appendPage(){this.reStore.appendPage()},updatePage(){this.reStore.updatePage()},updateType(e,s){this.reStore.page.isCustom=this.isCustom}}}),Ds=l("div",{class:"text-h6"},"Guide Words",-1),qs={class:"text-weight-bolder text-center q-pa-md text-white"},Ts=l("br",null,null,-1),Is={style:{border:"1px solid gray","border-radius":"5px"}},Ks={width:"100%"},Bs={style:{width:"50%","text-align":"center"}},Ps={style:{"text-align":"center"}},Ms={style:{"text-align":"center"}},Os=l("td",{style:{"text-align":"center"}},"Speak Text",-1),Ns={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},Hs={width:"100%"},Us=l("td",null,"Course-Key",-1),Rs={style:{width:"50%"}},As={class:"ptr float-left"},Ls=l("td",null,"Assgmnt Id",-1),Qs={style:{width:"50%"}},js={class:"ptr float-left"},Fs=l("td",null,"WP Page Id",-1),Ys={style:{width:"50%"}},zs=l("td",null,"Language",-1),Ws={style:{width:"50%"}},Es={class:"q-mt-xs float-right flagicon text-h6"},Gs=l("td",null,"Images",-1),Js={style:{width:"50%"}},Xs=l("td",null,"Image Fit",-1),Zs={class:"align-left"},ea=l("td",null,"Guide Words",-1),ta={style:{width:"50%"}},sa=l("td",null,"Percent Replace",-1),aa={class:"float-left"},oa=l("td",null,"Map Coords",-1),la={class:"float-left"},na=l("td",null,"Toggle Text",-1),ia=l("td",null,"Alt Langs",-1),ra=["onClick"],da={key:0,style:{cursor:"pointer"}},ua={key:0},ca={class:"row cardheader justify-between"},ma={class:"history-remove"},ha={key:0},ga={class:"history-remove ptr"};function fa(e,s,h,p,w,K){const r=R("router-link");return u(),f(j,null,[o(ke,{modelValue:e.promptGuideWords,"onUpdate:modelValue":s[3]||(s[3]=d=>e.promptGuideWords=d),persistent:""},{default:i(()=>[o(q,{style:{"min-width":"350px"}},{default:i(()=>[o(M,null,{default:i(()=>[Ds]),_:1}),o(M,{class:"q-pt-none"},{default:i(()=>[o(ie,{dense:"",modelValue:e.guideWords,"onUpdate:modelValue":s[0]||(s[0]=d=>e.guideWords=d),autofocus:"",onKeyup:s[1]||(s[1]=st(d=>e.promptGuideWords=!1,["enter"]))},null,8,["modelValue"])]),_:1}),o(Ce,{align:"right"},{default:i(()=>[z(o(V,{outline:"",label:"Cancel"},null,512),[[W]]),z(o(V,{outline:"",label:"Update guide words",onClick:s[2]||(s[2]=d=>this.updateGuideWords())},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(q,{flat:""},{default:i(()=>[o(M,null,{default:i(()=>[l("div",qs,[o(r,{to:"/teacher/editor",class:"text-white"},{default:i(()=>[b(y(this.pageTitle.slice(0,30)),1)]),_:1}),Ts,o(D,{class:"on-right",name:"replay",onClick:this.resetPage,size:"sm"},null,8,["onClick"]),o(D,{class:"on-right",name:"add_circle",onClick:this.newPage,size:"sm"},null,8,["onClick"]),o(D,{class:"on-right",name:"publish",onClick:this.updatePage,size:"sm"},{default:i(()=>[o(P,null,{default:i(()=>[b("Update current page")]),_:1})]),_:1},8,["onClick"]),o(D,{class:"on-right",name:"publish",onClick:this.appendPage,size:"sm"},{default:i(()=>[o(P,null,{default:i(()=>[b("Push as new page")]),_:1})]),_:1},8,["onClick"])]),l("div",Is,[l("table",Ks,[l("tr",null,[l("td",Bs,[o(ms,{modelValue:e.isCustom,"onUpdate:modelValue":[s[4]||(s[4]=d=>e.isCustom=d),this.updateType],color:"accent"},null,8,["modelValue","onUpdate:modelValue"])]),l("td",Ps,[o(V,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:s[5]||(s[5]=d=>this.speak())})])]),l("tr",null,[l("td",Ms,y(e.isCustom===!0?"Custom":"Random"),1),Os])])]),l("div",Ns,[l("table",Hs,[l("tr",null,[Us,l("td",Rs,[l("a",As,y(this.ck),1)])]),l("tr",null,[Ls,l("td",Qs,[l("a",js,y(this.aid),1)])]),l("tr",null,[Fs,l("td",Ys,[l("a",{class:"ptr float-left",onClick:s[6]||(s[6]=d=>this.loadURL(this.canonicalUrl))},y(this.pageid),1),o(D,{name:"bookmark",onClick:this.addBookmark,class:"float-right"},null,8,["onClick"])])]),l("tr",null,[zs,l("td",Ws,[l("span",Es,[o(P,{class:"float-left"},{default:i(()=>[b(y(this.langVoiceKey),1)]),_:1})])])]),l("tr",null,[Gs,l("td",Js,[l("span",{onClick:s[7]||(s[7]=(...d)=>this.nextImg&&this.nextImg(...d)),class:"ptr float-left"},y(this.imgIdx+1)+" / "+y(this.imgTot),1),l("span",{class:"float-right ptr",onClick:s[8]||(s[8]=(...d)=>this.saveCurrentImage&&this.saveCurrentImage(...d))},[o(D,{name:"bookmark"})])])]),l("tr",{class:"ptr",onClick:s[9]||(s[9]=(...d)=>this.cycleFitMode&&this.cycleFitMode(...d))},[Xs,l("td",null,[l("span",Zs,y(this.imgFit),1),o(D,{class:"float-right",name:"fit_screen"})])]),l("tr",null,[ea,l("td",ta,[b(y(this.guideWords.replaceAll(",",", "))+" ",1),o(D,{class:"float-right",name:"tune",onClick:s[10]||(s[10]=d=>this.promptGuideWords=!0)})])]),l("tr",null,[sa,l("td",null,[l("span",aa,y(this.pctReplace)+" %",1),o(D,{class:"float-right",name:"tune"})])]),l("tr",null,[oa,l("td",{onClick:s[11]||(s[11]=(...d)=>this.mapCB&&this.mapCB(...d)),class:"ptr"},[l("span",la,y(this.mapCoords),1),o(D,{class:"float-right",name:"place"})])]),l("tr",null,[na,l("td",{onClick:s[12]||(s[12]=(...d)=>this.toggleText&&this.toggleText(...d)),class:"ptr"},[o(D,{class:"float-right",name:"article"})])]),l("tr",null,[ia,l("td",null,[(u(!0),f(j,null,re(this.reStore.page.currentLangLinks,(d,k)=>(u(),f("span",{key:k,onClick:B=>this.langLinkCB(d)},[this.langNames.indexOf(d.lang)>-1?(u(),f("span",da,[l("u",null,y(d.lang),1),b(",\xA0 ")])):G("",!0)],8,ra))),128))])])])])]),_:1})]),_:1}),o(q,{flat:""},{default:i(()=>[o(M,null,{default:i(()=>[o(qe,{padding:"",class:"rounded-borders"},{default:i(()=>[o(De,{"header-style":{border:"1px solid gray"},label:"Page Images"},{default:i(()=>[this.imgs.length?(u(),f("div",ua,[(u(!0),f(j,null,re(this.imgs,(d,k)=>(u(),Q(q,{bordered:"",class:"q-ma-sm",flat:"",modelValue:this.imgs,"onUpdate:modelValue":s[13]||(s[13]=B=>this.imgs=B),key:k},{default:i(()=>[l("div",ca,[l("span",ma,[o(D,{name:"bookmark",onClick:B=>this.saveImage(k,d)},null,8,["onClick"]),o(D,{name:"article",onClick:this.toggleText},{default:i(()=>[o(P,null,{default:i(()=>[b("Convenience button to toggle current text ")]),_:1})]),_:1},8,["onClick"]),o(D,{name:"fit_screen",onClick:this.cycleFitMode},{default:i(()=>[o(P,null,{default:i(()=>[b("Convenience button to toggle current image-fit mode ")]),_:1})]),_:1},8,["onClick"])]),d.cap?(u(),f("span",ha,y(d.cap.slice(0,25)),1)):G("",!0),l("span",ga,[o(D,{name:"close",onClick:B=>this.remove(k,d)},null,8,["onClick"])])]),o(xe,{class:"cardimage",onClick:B=>this.imgCB(k,d),src:d.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])):G("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var va=se(xs,[["render",fa]]);const pa=te({name:"ImagesComponent",setup(){return{reStore:ae(),newCap:c(""),newDesc:c(""),newName:c(""),newSource:c(""),newUrl:c(""),promptAddImage:c(!1)}},mounted(){A(this.reStore.userSnapshot.images,async(e,s)=>{console.log("watcher ",e,s)})},methods:{addImageCB(){console.log("addImageCB",this.newUrl);const e={name:this.newName,desc:this.newDesc,cap:this.newCap,source:this.newSource,url:this.newUrl};this.reStore.saveImage(null,e)},imgCB(e,s){this.reStore.router.push("/teacher/editor"),console.log(e,s),this.reStore.loadImgId(e)},remove(e,s){console.log(e,s),this.reStore.removeImage(e)}}}),_a={class:"q-pa-md",style:{"max-width":"350px"}},ya={class:"row cardheader justify-between"},Ca={class:"history-remove hidden"},ka={key:0},Sa={class:"history-remove ptr"};function $a(e,s,h,p,w,K){return u(),f(j,null,[o(ke,{modelValue:e.promptAddImage,"onUpdate:modelValue":s[5]||(s[5]=r=>e.promptAddImage=r)},{default:i(()=>[o(q,null,{default:i(()=>[o(M,null,{default:i(()=>[o(ie,{modelValue:e.newCap,"onUpdate:modelValue":s[0]||(s[0]=r=>e.newCap=r),label:"caption"},null,8,["modelValue"]),o(ie,{modelValue:e.newDesc,"onUpdate:modelValue":s[1]||(s[1]=r=>e.newDesc=r),label:"description"},null,8,["modelValue"]),o(ie,{modelValue:e.newName,"onUpdate:modelValue":s[2]||(s[2]=r=>e.newName=r),label:"name"},null,8,["modelValue"]),o(ie,{modelValue:e.newSource,"onUpdate:modelValue":s[3]||(s[3]=r=>e.newSource=r),label:"source"},null,8,["modelValue"]),o(ie,{modelValue:e.newUrl,"onUpdate:modelValue":s[4]||(s[4]=r=>e.newUrl=r),label:"url"},null,8,["modelValue"])]),_:1}),o(Ce,{align:"center",class:"text-white"},{default:i(()=>[z(o(V,{flat:"",label:"Cancel"},null,512),[[W]]),z(o(V,{flat:"",label:"Add",onClick:this.addImageCB},null,8,["onClick"]),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l("div",_a,[o(qe,{bordered:"",class:"rounded-borders"},{default:i(()=>[o(De,{label:"Saved Images"},{default:i(()=>[o(q,null,{default:i(()=>[o(ye,{class:"bg-primary text-white rounded-borders q-my-md"},{default:i(()=>[o(V,{bordered:"","no-caps":"",standout:"",onClick:s[6]||(s[6]=r=>e.promptAddImage=!0)},{default:i(()=>[b(" Add Image "),o(P,null,{default:i(()=>[b("Add a custom image (only saves url, not image data)")]),_:1})]),_:1})]),_:1}),l("div",null,[(u(!0),f(j,null,re(this.reStore.userSnapshot.images,(r,d)=>(u(),Q(q,{bordered:"",class:"q-ma-md",flat:"",modelValue:this.reStore.userSnapshot.images,"onUpdate:modelValue":s[7]||(s[7]=k=>this.reStore.userSnapshot.images=k),key:d},{default:i(()=>[l("div",ya,[l("span",Ca,[o(D)]),r.desc?(u(),f("span",ka,y(r.url.slice(0,25)),1)):G("",!0),l("span",Sa,[o(D,{name:"close",onClick:k=>this.remove(d,r)},null,8,["onClick"])])]),o(xe,{class:"cardimage",onClick:k=>this.imgCB(d,r),src:r.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})]),_:1})]),_:1})])],64)}var ba=se(pa,[["render",$a]]);const wa=te({name:"BookmarksComponent",setup(){return{reStore:ae()}},mounted(){A(this.reStore.userSnapshot.bookmarks,async(e,s)=>{console.log("watcher ",e,s)})},methods:{imgCB(e,s){this.reStore.router.push("/teacher/editor"),console.log(e,s),this.reStore.page=s,this.reStore.courses.imgIdx=s.imgIdx,this.reStore.courses.trigger+=1,this.reStore.courses.pageid=s.pageid},remove(e,s){console.log(e,s),this.reStore.removeBookmark(e)}}}),Va={class:"q-pa-md",style:{"max-width":"350px"}},xa={class:"row cardheader justify-between"},Da={class:"history-remove hidden"},qa={key:0,class:"fi fi-gb"},Ta={key:1,class:"fi fi-us"},Ia={key:2,class:"fi fi-mx"},Ka={key:3,class:"fi fi-fr"},Ba={key:4,class:"fi fi-de"},Pa={key:5,class:"fi fi-it"},Ma={key:6,class:"fi fi-br"},Oa={key:7,class:"fi fi-ke"},Na={key:8,class:"fi fi-ru"},Ha={key:9,class:"fi fi-th"},Ua={key:10,class:"fi fi-cn"},Ra={key:11,class:"fi fi-hk"},Aa={key:12,class:"fi fi-tw"},La={key:13,class:"fi fi-kr"},Qa={key:14,class:"fi fi-jp"},ja={key:15,class:"fi fi-id"},Fa={key:16,class:"fi fi-xx"},Ya={class:"history-remove ptr"};function za(e,s,h,p,w,K){return u(),f("div",Va,[o(qe,{bordered:"",class:"rounded-borders"},{default:i(()=>[o(De,{label:"Wikipedia Bookmarks"},{default:i(()=>[o(q,null,{default:i(()=>[l("div",null,[(u(!0),f(j,null,re(this.reStore.userSnapshot.bookmarks,(r,d)=>(u(),Q(q,{class:"q-ma-md",flat:"",bordered:"",modelValue:this.reStore.userSnapshot.bookmarks,"onUpdate:modelValue":s[0]||(s[0]=k=>this.reStore.userSnapshot.bookmarks=k),key:d},{default:i(()=>[l("div",xa,[l("span",Da,[o(D)]),r.langVoiceKey==="Eng-UK-Fem"?(u(),f("span",qa)):r.langVoiceKey==="Eng-US"?(u(),f("span",Ta)):r.langVoiceKey==="espa\xF1ol"?(u(),f("span",Ia)):r.langVoiceKey==="fran\xE7ais"?(u(),f("span",Ka)):r.langVoiceKey==="Deutsch"?(u(),f("span",Ba)):r.langVoiceKey==="italiano"?(u(),f("span",Pa)):r.langVoiceKey==="portugu\xEAs do Brasil"?(u(),f("span",Ma)):r.langVoiceKey==="Kiswahili"?(u(),f("span",Oa)):r.langVoiceKey==="\u0440\u0443\u0441\u0441\u043A\u0438\u0439"?(u(),f("span",Na)):r.langVoiceKey==="\u0E44\u0E17\u0E22"?(u(),f("span",Ha)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u4E2D\u56FD\u5927\u9646\uFF09"?(u(),f("span",Ua)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u9999\u6E2F\uFF09"?(u(),f("span",Ra)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u81FA\u7063\uFF09"?(u(),f("span",Aa)):r.langVoiceKey==="\uD55C\uAD6D\uC758"?(u(),f("span",La)):r.langVoiceKey==="\u65E5\u672C\u8A9E"?(u(),f("span",Qa)):r.langVoiceKey==="Bahasa Indonesia"?(u(),f("span",ja)):(u(),f("span",Fa)),b(" "+y(r.pageTitle.slice(0,25))+" ",1),l("span",Ya,[o(D,{name:"close",onClick:k=>this.remove(d,r)},null,8,["onClick"])])]),o(xe,{class:"cardimage",onClick:k=>this.imgCB(d,r),src:r.imgs[r.imgIdx].url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})]),_:1})]),_:1})])}var Wa=se(wa,[["render",za]]);const Ea=["gregorian","persian"],Ga={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ea.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ja=["update:modelValue"];function le(e){return e.year+"/"+me(e.month)+"/"+me(e.day)}function Xa(e,s){const h=S(()=>e.disable!==!0&&e.readonly!==!0),p=S(()=>e.editable===!0?0:-1),w=S(()=>{const d=[];return e.color!==void 0&&d.push(`bg-${e.color}`),e.textColor!==void 0&&d.push(`text-${e.textColor}`),d.join(" ")});function K(){return e.locale!==void 0?{...s.lang.date,...e.locale}:s.lang.date}function r(d){const k=new Date,B=d===!0?null:0;if(e.calendar==="persian"){const J=rs(k);return{year:J.jy,month:J.jm,day:J.jd}}return{year:k.getFullYear(),month:k.getMonth()+1,day:k.getDate(),hour:B,minute:B,second:B,millisecond:B}}return{editable:h,tabindex:p,headerClass:w,getLocale:K,getCurrentDate:r}}const ce=20,Za=["Calendar","Years","Months"],wt=e=>Za.includes(e),et=e=>/^-?[\d]+\/[0-1]\d$/.test(e),_e=" \u2014 ";function ne(e){return e.year+"/"+me(e.month)}var eo=tt({name:"QDate",props:{...Ga,...Yt,...hs,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:et},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:et},navigationMaxYearMonth:{type:String,validator:et},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:wt}},emits:[...Ja,"rangeStart","rangeEnd","navigation"],setup(e,{slots:s,emit:h}){const{proxy:p}=es(),{$q:w}=p,K=gs(e,w),{getCache:r}=Gt(),{tabindex:d,headerClass:k,getLocale:B,getCurrentDate:J}=Xa(e,w);let he;const Ne=zt(e),He=Wt(Ne),Se=c(null),X=c(ut()),I=c(B()),Ue=S(()=>ut()),O=S(()=>B()),Z=S(()=>J()),C=c(ct(X.value,I.value)),L=c(e.defaultView),at=w.lang.rtl===!0?"right":"left",Te=c(at.value),Re=c(at.value),Ae=C.value.year,Ie=c(Ae-Ae%ce-(Ae<0?ce:0)),N=c(null),xt=S(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(K.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),de=S(()=>e.color||"primary"),ge=S(()=>e.textColor||"white"),Ke=S(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Le=S(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Y=S(()=>Le.value.filter(t=>typeof t=="string").map(t=>Ye(t,X.value,I.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),fe=S(()=>{const t=a=>Ye(a,X.value,I.value);return Le.value.filter(a=>Xt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),Be=S(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=$t(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Qe=S(()=>e.calendar==="persian"?le:(t,a,n)=>ds(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?X.value:a,n===void 0?I.value:n,t.year,t.timezoneOffset)),$e=S(()=>Y.value.length+fe.value.reduce((t,a)=>t+1+us(Be.value(a.to),Be.value(a.from)),0)),ot=S(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(N.value!==null){const n=N.value.init,g=Be.value(n);return I.value.daysShort[g.getDay()]+", "+I.value.monthsShort[n.month-1]+" "+n.day+_e+"?"}if($e.value===0)return _e;if($e.value>1)return`${$e.value} ${I.value.pluralDay}`;const t=Y.value[0],a=Be.value(t);return isNaN(a.valueOf())===!0?_e:I.value.headerTitle!==void 0?I.value.headerTitle(a,t):I.value.daysShort[a.getDay()]+", "+I.value.monthsShort[t.month-1]+" "+t.day}),Dt=S(()=>Y.value.concat(fe.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),qt=S(()=>Y.value.concat(fe.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),lt=S(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if($e.value===0)return _e;if($e.value>1){const t=Dt.value,a=qt.value,n=I.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+_e+n[a.month-1]+" ":t.month!==a.month?_e+n[a.month-1]:"")+" "+a.year}return Y.value[0].year}),Pe=S(()=>{const t=[w.iconSet.datetime.arrowLeft,w.iconSet.datetime.arrowRight];return w.lang.rtl===!0?t.reverse():t}),nt=S(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):I.value.firstDayOfWeek),Tt=S(()=>{const t=I.value.daysShort,a=nt.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),oe=S(()=>{const t=C.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Ze(t.year,t.month)}),It=S(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),H=S(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),U=S(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),je=S(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return H.value!==null&&H.value.year>=C.value.year&&(t.year.prev=!1,H.value.year===C.value.year&&H.value.month>=C.value.month&&(t.month.prev=!1)),U.value!==null&&U.value.year<=C.value.year&&(t.year.next=!1,U.value.year===C.value.year&&U.value.month<=C.value.month&&(t.month.next=!1)),t}),Me=S(()=>{const t={};return Y.value.forEach(a=>{const n=ne(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),it=S(()=>{const t={};return fe.value.forEach(a=>{const n=ne(a.from),g=ne(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===g?a.to.day:void 0,range:a}),n<g){let m;const{year:x,month:v}=a.from,$=v<12?{year:x,month:v+1}:{year:x+1,month:1};for(;(m=ne($))<=g;)t[m]===void 0&&(t[m]=[]),t[m].push({from:void 0,to:m===g?a.to.day:void 0,range:a}),$.month++,$.month>12&&($.year++,$.month=1)}}),t}),be=S(()=>{if(N.value===null)return;const{init:t,initHash:a,final:n,finalHash:g}=N.value,[m,x]=a<=g?[t,n]:[n,t],v=ne(m),$=ne(x);if(v!==F.value&&$!==F.value)return;const T={};return v===F.value?(T.from=m.day,T.includeFrom=!0):T.from=1,$===F.value?(T.to=x.day,T.includeTo=!0):T.to=oe.value,T}),F=S(()=>ne(C.value)),Kt=S(()=>{const t={};if(e.options===void 0){for(let n=1;n<=oe.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=oe.value;n++){const g=F.value+"/"+me(n);t[n]=a(g)}return t}),Bt=S(()=>{const t={};if(e.events===void 0)for(let a=1;a<=oe.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=oe.value;n++){const g=F.value+"/"+me(n);t[n]=a(g)===!0&&It.value(g)}}return t}),Pt=S(()=>{let t,a;const{year:n,month:g}=C.value;if(e.calendar!=="persian")t=new Date(n,g-1,1),a=new Date(n,g-1,0).getDate();else{const m=$t(n,g,1);t=new Date(m.gy,m.gm-1,m.gd);let x=g-1,v=n;x===0&&(x=12,v--),a=Ze(v,x)}return{days:t.getDay()-nt.value-1,endDay:a}}),rt=S(()=>{const t=[],{days:a,endDay:n}=Pt.value,g=a<0?a+7:a;if(g<6)for(let v=n-g;v<=n;v++)t.push({i:v,fill:!0});const m=t.length;for(let v=1;v<=oe.value;v++){const $={i:v,event:Bt.value[v],classes:[]};Kt.value[v]===!0&&($.in=!0,$.flat=!0),t.push($)}if(Me.value[F.value]!==void 0&&Me.value[F.value].forEach(v=>{const $=m+v-1;Object.assign(t[$],{selected:!0,unelevated:!0,flat:!1,color:de.value,textColor:ge.value})}),it.value[F.value]!==void 0&&it.value[F.value].forEach(v=>{if(v.from!==void 0){const $=m+v.from-1,T=m+(v.to||oe.value)-1;for(let Je=$;Je<=T;Je++)Object.assign(t[Je],{range:v.range,unelevated:!0,color:de.value,textColor:ge.value});Object.assign(t[$],{rangeFrom:!0,flat:!1}),v.to!==void 0&&Object.assign(t[T],{rangeTo:!0,flat:!1})}else if(v.to!==void 0){const $=m+v.to-1;for(let T=m;T<=$;T++)Object.assign(t[T],{range:v.range,unelevated:!0,color:de.value,textColor:ge.value});Object.assign(t[$],{flat:!1,rangeTo:!0})}else{const $=m+oe.value-1;for(let T=m;T<=$;T++)Object.assign(t[T],{range:v.range,unelevated:!0,color:de.value,textColor:ge.value})}}),be.value!==void 0){const v=m+be.value.from-1,$=m+be.value.to-1;for(let T=v;T<=$;T++)t[T].color=de.value,t[T].editRange=!0;be.value.includeFrom===!0&&(t[v].editRangeFrom=!0),be.value.includeTo===!0&&(t[$].editRangeTo=!0)}C.value.year===Z.value.year&&C.value.month===Z.value.month&&(t[m+Z.value.day-1].today=!0);const x=t.length%7;if(x>0){const v=7-x;for(let $=1;$<=v;$++)t.push({i:$,fill:!0})}return t.forEach(v=>{let $="q-date__calendar-item ";v.fill===!0?$+="q-date__calendar-item--fill":($+=`q-date__calendar-item--${v.in===!0?"in":"out"}`,v.range!==void 0&&($+=` q-date__range${v.rangeTo===!0?"-to":v.rangeFrom===!0?"-from":""}`),v.editRange===!0&&($+=` q-date__edit-range${v.editRangeFrom===!0?"-from":""}${v.editRangeTo===!0?"-to":""}`),(v.range!==void 0||v.editRange===!0)&&($+=` text-${v.color}`)),v.classes=$}),t}),Mt=S(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});A(()=>e.modelValue,t=>{if(he===t)he=0;else{const{year:a,month:n}=ct(X.value,I.value);ve(a,n)}}),A(L,()=>{Se.value!==null&&p.$el.contains(document.activeElement)===!0&&Se.value.focus()}),A(()=>C.value.year,t=>{h("navigation",{year:t,month:C.value.month})}),A(()=>C.value.month,t=>{h("navigation",{year:C.value.year,month:t})}),A(Ue,t=>{vt(t,I.value,"mask"),X.value=t}),A(O,t=>{vt(X.value,t,"locale"),I.value=t});function dt(){const t=Z.value,a=Me.value[ne(t)];(a===void 0||a.includes(t.day)===!1)&&We(t),Fe(t.year,t.month)}function Ot(t){wt(t)===!0&&(L.value=t)}function Nt(t,a){["month","year"].includes(t)&&(t==="month"?ht:ze)(a===!0?-1:1)}function Fe(t,a){L.value="Calendar",ve(t,a)}function Ht(t,a){if(e.range===!1||!t){N.value=null;return}const n=Object.assign({...C.value},t),g=a!==void 0?Object.assign({...C.value},a):n;N.value={init:n,initHash:le(n),final:g,finalHash:le(g)},Fe(n.year,n.month)}function ut(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ye(t,a,n){return cs(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function ct(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return mt();const g=n[n.length-1],m=Ye(g.from!==void 0?g.from:g,t,a);return m.dateHash===null?mt():m}function mt(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=Z.value!==void 0?Z.value:J();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+me(a)+"/01"}}function ht(t){let a=C.value.year,n=Number(C.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),ve(a,n),Ke.value===!0&&Oe("month")}function ze(t){const a=Number(C.value.year)+t;ve(a,C.value.month),Ke.value===!0&&Oe("year")}function Ut(t){ve(t,C.value.month),L.value=e.defaultView==="Years"?"Months":"Calendar",Ke.value===!0&&Oe("year")}function Rt(t){ve(C.value.year,t),L.value="Calendar",Ke.value===!0&&Oe("month")}function At(t,a){const n=Me.value[a];(n!==void 0&&n.includes(t.day)===!0?Ee:We)(t)}function ue(t){return{year:t.year,month:t.month,day:t.day}}function ve(t,a){H.value!==null&&t<=H.value.year&&(t=H.value.year,a<H.value.month&&(a=H.value.month)),U.value!==null&&t>=U.value.year&&(t=U.value.year,a>U.value.month&&(a=U.value.month));const n=t+"/"+me(a)+"/01";n!==C.value.dateHash&&(Te.value=C.value.dateHash<n==(w.lang.rtl!==!0)?"left":"right",t!==C.value.year&&(Re.value=Te.value),_t(()=>{Ie.value=t-t%ce-(t<0?ce:0),Object.assign(C.value,{year:t,month:a,day:1,dateHash:n})}))}function gt(t,a,n){const g=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;he=g;const{reason:m,details:x}=ft(a,n);h("update:modelValue",g,m,x)}function Oe(t){const a=Y.value[0]!==void 0&&Y.value[0].dateHash!==null?{...Y.value[0]}:{...C.value};_t(()=>{a.year=C.value.year,a.month=C.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Ze(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const g=pe(a);he=g;const{details:m}=ft("",a);h("update:modelValue",g,t,m)})}function ft(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...ue(a.target),from:ue(a.from),to:ue(a.to)}}:{reason:`${t}-day`,details:ue(a)}}function pe(t,a,n){return t.from!==void 0?{from:Qe.value(t.from,a,n),to:Qe.value(t.to,a,n)}:Qe.value(t,a,n)}function We(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=le(t.from),g=le(t.to),m=Y.value.filter(v=>v.dateHash<n||v.dateHash>g),x=fe.value.filter(({from:v,to:$})=>$.dateHash<n||v.dateHash>g);a=m.concat(x).concat(t).map(v=>pe(v))}else{const n=Le.value.slice();n.push(pe(t)),a=n}else a=pe(t);gt(a,"add",t)}function Ee(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=pe(t);t.from!==void 0?a=e.modelValue.filter(g=>g.from!==void 0?g.from!==n.from&&g.to!==n.to:!0):a=e.modelValue.filter(g=>g!==n),a.length===0&&(a=null)}gt(a,"remove",t)}function vt(t,a,n){const g=Y.value.concat(fe.value).map(m=>pe(m,t,a)).filter(m=>m.from!==void 0?m.from.dateHash!==null&&m.to.dateHash!==null:m.dateHash!==null);h("update:modelValue",(e.multiple===!0?g:g[0])||null,n)}function Lt(){if(e.minimal!==!0)return _("div",{class:"q-date__header "+k.value},[_("div",{class:"relative-position"},[_(we,{name:"q-transition--fade"},()=>_("div",{key:"h-yr-"+lt.value,class:"q-date__header-subtitle q-date__header-link "+(L.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...r("vY",{onClick(){L.value="Years"},onKeyup(t){t.keyCode===13&&(L.value="Years")}})},[lt.value]))]),_("div",{class:"q-date__header-title relative-position flex no-wrap"},[_("div",{class:"relative-position col"},[_(we,{name:"q-transition--fade"},()=>_("div",{key:"h-sub"+ot.value,class:"q-date__header-title-label q-date__header-link "+(L.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...r("vC",{onClick(){L.value="Calendar"},onKeyup(t){t.keyCode===13&&(L.value="Calendar")}})},[ot.value]))]),e.todayBtn===!0?_(V,{class:"q-date__header-today self-start",icon:w.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:d.value,onClick:dt}):null])])}function Ge({label:t,type:a,key:n,dir:g,goTo:m,boundaries:x,cls:v}){return[_("div",{class:"row items-center q-date__arrow"},[_(V,{round:!0,dense:!0,size:"sm",flat:!0,icon:Pe.value[0],tabindex:d.value,disable:x.prev===!1,...r("go-#"+a,{onClick(){m(-1)}})})]),_("div",{class:"relative-position overflow-hidden flex flex-center"+v},[_(we,{name:"q-transition--jump-"+g},()=>_("div",{key:n},[_(V,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:d.value,...r("view#"+a,{onClick:()=>{L.value=a}})})]))]),_("div",{class:"row items-center q-date__arrow"},[_(V,{round:!0,dense:!0,size:"sm",flat:!0,icon:Pe.value[1],tabindex:d.value,disable:x.next===!1,...r("go+#"+a,{onClick(){m(1)}})})])]}const Qt={Calendar:()=>[_("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[_("div",{class:"q-date__navigation row items-center no-wrap"},Ge({label:I.value.months[C.value.month-1],type:"Months",key:C.value.month,dir:Te.value,goTo:ht,boundaries:je.value.month,cls:" col"}).concat(Ge({label:C.value.year,type:"Years",key:C.value.year,dir:Re.value,goTo:ze,boundaries:je.value.year,cls:""}))),_("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Tt.value.map(t=>_("div",{class:"q-date__calendar-item"},[_("div",t)]))),_("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[_(we,{name:"q-transition--slide-"+Te.value},()=>_("div",{key:F.value,class:"q-date__calendar-days fit"},rt.value.map(t=>_("div",{class:t.classes},[t.in===!0?_(V,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:d.value,...r("day#"+t.i,{onClick:()=>{jt(t.i)},onMouseover:()=>{Ft(t.i)}})},t.event!==!1?()=>_("div",{class:"q-date__event bg-"+t.event}):null):_("div",""+t.i)]))))])])],Months(){const t=C.value.year===Z.value.year,a=g=>H.value!==null&&C.value.year===H.value.year&&H.value.month>g||U.value!==null&&C.value.year===U.value.year&&U.value.month<g,n=I.value.monthsShort.map((g,m)=>{const x=C.value.month===m+1;return _("div",{class:"q-date__months-item flex flex-center"},[_(V,{class:t===!0&&Z.value.month===m+1?"q-date__today":null,flat:x!==!0,label:g,unelevated:x,color:x===!0?de.value:null,textColor:x===!0?ge.value:null,tabindex:d.value,disable:a(m+1),...r("month#"+m,{onClick:()=>{Rt(m+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(_("div",{class:"row no-wrap full-width"},[Ge({label:C.value.year,type:"Years",key:C.value.year,dir:Re.value,goTo:ze,boundaries:je.value.year,cls:" col"})])),_("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=Ie.value,a=t+ce,n=[],g=m=>H.value!==null&&H.value.year>m||U.value!==null&&U.value.year<m;for(let m=t;m<=a;m++){const x=C.value.year===m;n.push(_("div",{class:"q-date__years-item flex flex-center"},[_(V,{key:"yr"+m,class:Z.value.year===m?"q-date__today":null,flat:!x,label:m,dense:!0,unelevated:x,color:x===!0?de.value:null,textColor:x===!0?ge.value:null,tabindex:d.value,disable:g(m),...r("yr#"+m,{onClick:()=>{Ut(m)}})})]))}return _("div",{class:"q-date__view q-date__years flex flex-center"},[_("div",{class:"col-auto"},[_(V,{round:!0,dense:!0,flat:!0,icon:Pe.value[0],tabindex:d.value,disable:g(t),...r("y-",{onClick:()=>{Ie.value-=ce}})})]),_("div",{class:"q-date__years-content col self-stretch row items-center"},n),_("div",{class:"col-auto"},[_(V,{round:!0,dense:!0,flat:!0,icon:Pe.value[1],tabindex:d.value,disable:g(a),...r("y+",{onClick:()=>{Ie.value+=ce}})})])])}};function jt(t){const a={...C.value,day:t};if(e.range===!1){At(a,F.value);return}if(N.value===null){const n=rt.value.find(m=>m.fill!==!0&&m.i===t);if(e.noUnset!==!0&&n.range!==void 0){Ee({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){Ee(a);return}const g=le(a);N.value={init:a,initHash:g,final:a,finalHash:g},h("rangeStart",ue(a))}else{const n=N.value.initHash,g=le(a),m=n<=g?{from:N.value.init,to:a}:{from:a,to:N.value.init};N.value=null,We(n===g?a:{target:a,...m}),h("rangeEnd",{from:ue(m.from),to:ue(m.to)})}}function Ft(t){if(N.value!==null){const a={...C.value,day:t};Object.assign(N.value,{final:a,finalHash:le(a)})}}return Object.assign(p,{setToday:dt,setView:Ot,offsetCalendar:Nt,setCalendarTo:Fe,setEditingRange:Ht}),()=>{const t=[_("div",{class:"q-date__content col relative-position"},[_(we,{name:"q-transition--fade"},Qt[L.value])])],a=Zt(s.default);return a!==void 0&&t.push(_("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&He(t,"push"),_("div",{class:xt.value,...Mt.value},[Lt(),_("div",{ref:Se,class:"q-date__main col column",tabindex:-1},t)])}}});const to=["top","middle","bottom"];var so=tt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>to.includes(e)}},setup(e,{slots:s}){const h=S(()=>e.align!==void 0?{verticalAlign:e.align}:null),p=S(()=>{const w=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(w!==void 0?` text-${w}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>_("div",{class:p.value,style:h.value,role:"status","aria-label":e.label},ts(s.default,e.label!==void 0?[e.label]:[]))}});const ao=te({name:"OTDComponent",setup(){const e=ae(),s=Date.now(),h=bt.formatDate(s,"MM/DD");return{reStore:e,otditems:c([]),promptOTDDate:c(!1),otddate:c(Date.now()),otdlabel:c(h),otdtype:c("selected")}},mounted(){this.init(),A(this.reStore.preferences,async(e,s)=>{console.log("OTD watcher"),e.langVoiceKey!==s.langVoiceKey?this.init():(console.log("OTD watcher ",e),this.init())})},methods:{async init(){console.log("OTD init");const e=this.reStore.preferences.langVoiceKey;await this.reStore.wiki.setLang(this.reStore.langVoices[e].langName);const s=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=s[this.otdtype],console.log(this.otditems);for(const[p,w]of Object.entries(this.reStore.langVoices)){const K=w.flagName;E("#otdfi").classed(K,!1)}const h=this.reStore.langVoices[e].flagName;E("#otdfi").classed(h,!0)},async loadPageId(e){console.log("loadPageId ",e);const s=this.reStore.preferences.langVoiceKey;console.log("OTD load ",s),this.reStore.loadPageId(e,s),this.reStore.router.push("/teacher/editor")},async load(e){console.log("load",this.otditems[e].text),console.log("load",this.otditems[e]);const s=this.reStore.preferences.langVoiceKey;console.log("OTD load ",s),this.reStore.loadPageId(this.otditems[e].pages[0].pageid,s),this.reStore.router.push("/teacher/editor")},async updateOTDDate(){console.log("updateOTDDate: ",this.otddate);const e=await this.reStore.wiki.onThisDay({type:"selected",month:this.otddate.split("/")[1],day:this.otddate.split("/")[2]});this.otditems=e.selected,console.log(this.otditems),this.otdtype="selected",this.otdlabel=bt.formatDate(this.otddate,"MM/DD")},async otdOptionsCB(e){console.log("otdOptionsCB",this.otdtype);const s=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=s[this.otdtype]}}}),oo=l("div",{class:"text-h6"},"Select Date",-1),lo={class:"q-pa-md",style:{"max-width":"350px"}},no={class:"q-gutter-y-sm column"},io=l("span",{id:"otdfi",class:"pfi text-h4"},null,-1),ro={class:""},uo=["onClick"],co=l("br",null,null,-1);function mo(e,s,h,p,w,K){return u(),f(j,null,[o(ke,{modelValue:e.promptOTDDate,"onUpdate:modelValue":s[2]||(s[2]=r=>e.promptOTDDate=r),persistent:""},{default:i(()=>[o(q,{style:{"min-width":"350px"}},{default:i(()=>[o(M,{align:"center"},{default:i(()=>[oo]),_:1}),o(eo,{modelValue:e.otddate,"onUpdate:modelValue":s[0]||(s[0]=r=>e.otddate=r),minimal:""},null,8,["modelValue"]),o(Ce,{align:"center",class:"text-white"},{default:i(()=>[z(o(V,{flat:"",label:"Cancel"},null,512),[[W]]),z(o(V,{flat:"",label:"Update OTD date",onClick:s[1]||(s[1]=r=>this.updateOTDDate())},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l("div",lo,[o(qe,{bordered:"",class:"rounded-borders"},{default:i(()=>[o(De,{label:"Wikipedia On This Day"},{default:i(()=>[o(q,null,{default:i(()=>[l("div",no,[o(ye,{class:"bg-primary text-white rounded-borders q-my-md"},{default:i(()=>[o(V,{dark:"",standout:"",onClick:s[3]||(s[3]=r=>e.promptOTDDate=!0)},{default:i(()=>[b(y(e.otdlabel),1)]),_:1}),o(Ve),io,o(Ve),o(Vt,{dark:"",outlined:"",dense:"",modelValue:this.otdtype,"onUpdate:modelValue":s[4]||(s[4]=r=>this.otdtype=r),options:["events","holidays","births","deaths","selected"],"emit-value":"",onPopupHide:s[5]||(s[5]=r=>this.otdOptionsCB())},null,8,["modelValue"])]),_:1})]),l("div",ro,[(u(!0),f(j,null,re(e.otditems,(r,d)=>(u(),Q(q,{class:"bg-primary otdcard q-pa-sm q-ma-md",flat:"",bordered:"",modelValue:e.otditems,"onUpdate:modelValue":s[6]||(s[6]=k=>e.otditems=k),key:d},{default:i(()=>[l("span",{style:{cursor:"pointer"},onClick:k=>this.load(d)},y(d),9,uo),b(". "+y(r.year)+" "+y(r.text),1),co,(u(!0),f(j,null,re(r.pages,(k,B)=>(u(),f("span",{key:B},[o(so,{class:"on-left",color:"accent",style:{cursor:"pointer"},onClick:J=>this.loadPageId(k.pageid)},{default:i(()=>[o(P,null,{default:i(()=>[b(y(k.title),1)]),_:2},1024),o(D,{size:"xs",name:"link"})]),_:2},1032,["onClick"])]))),128))]),_:2},1032,["modelValue"]))),128))])]),_:1})]),_:1})]),_:1})])],64)}var ho=se(ao,[["render",mo]]);const go=te({name:"CurrentAssignment",setup(){const e=ae();return{reStore:e,ck:c("-"),goal:c("-"),created:c("-"),updated:c("-"),id:c("-"),points:c("-"),pages:c([]),pgIdx:c(e.courses.pgIdx),title:c(""),promptEditTitle:c(!1)}},mounted(){console.log("CurrentAssignment mounted"),A(this.reStore.courses,async(e,s)=>{try{console.log("CurrentAssignment.watcher");const h=e.ck,p=e.aid;this.id=p,this.ck=h,this.goal=this.reStore.courses[h].assignments[p].goal,this.created=this.reStore.courses[h].assignments[p].created,this.updated=this.reStore.courses[h].assignments[p].updated,this.points=this.reStore.courses[h].assignments[p].points;try{const w=this.reStore.courses[h].assignments[p].pages.length;console.log("pages.length ",w)}catch{this.reStore.courses[h].assignments[p].pages=[]}this.pages=this.reStore.courses[h].assignments[p].pages,this.title=this.reStore.courses[h].assignments[p].title,this.pgIdx=this.reStore.courses.pgIdx}catch(h){console.log(h)}},{immediate:!0,deep:!0})},methods:{save(){console.log("save"),this.reStore.saveCurrentAssignment()},nextPage(){this.reStore.nextPage()},changeTitleCB(){console.log("CurrentAssignment.changeTitleCB",this.title),this.reStore.setAssignmentTitle(this.reStore.courses.ck,this.reStore.courses.aid,this.title)}}}),fo=l("div",{class:"text-h6"},"Change assignment title",-1),vo={class:"text-weight-bolder text-center q-pa-md text-white"},po=l("br",null,null,-1),_o={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},yo={width:"100%"},Co=l("td",null,"Title",-1),ko={style:{width:"50%"}},So=l("td",null,"Course-Key",-1),$o={style:{width:"50%"}},bo=l("td",null,"Assgmnt Id",-1),wo={style:{width:"50%"}},Vo=l("td",null,"Created",-1),xo={style:{width:"50%"}},Do=l("td",null,"Updated",-1),qo={style:{width:"50%"}},To=l("td",null,"Goal",-1),Io={style:{width:"50%"}},Ko=l("td",null,"Pages",-1);function Bo(e,s,h,p,w,K){const r=R("router-link");return u(),f(j,null,[o(ke,{modelValue:e.promptEditTitle,"onUpdate:modelValue":s[3]||(s[3]=d=>e.promptEditTitle=d),persistent:""},{default:i(()=>[o(q,{style:{"min-width":"350px"}},{default:i(()=>[o(M,null,{default:i(()=>[fo]),_:1}),o(M,{class:"q-pt-none"},{default:i(()=>[o(ie,{dense:"",modelValue:e.title,"onUpdate:modelValue":s[0]||(s[0]=d=>e.title=d),autofocus:"",onKeyup:s[1]||(s[1]=st(d=>{e.prompt=!1,this.changeTitleCB()},["enter"]))},null,8,["modelValue"])]),_:1}),o(Ce,{align:"right",class:"text-white"},{default:i(()=>[z(o(V,{outline:"",label:"Cancel"},null,512),[[W]]),z(o(V,{outline:"",label:"Save",onClick:s[2]||(s[2]=d=>this.changeTitleCB())},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(q,{flat:""},{default:i(()=>[o(M,null,{default:i(()=>[l("div",vo,[o(r,{to:"/teacher/editor",class:"text-white"},{default:i(()=>[b(y(this.title.slice(0,20)),1)]),_:1}),po,o(D,{style:{cursor:"pointer"},class:"on-right",name:"edit",onClick:s[4]||(s[4]=d=>this.promptEditTitle=!0),size:"sm"}),o(D,{style:{cursor:"pointer"},class:"on-right",name:"save",onClick:this.save,size:"sm"},null,8,["onClick"])]),l("div",_o,[l("table",yo,[l("tr",null,[Co,l("td",ko,y(this.title),1)]),l("tr",null,[So,l("td",$o,y(this.ck),1)]),l("tr",null,[bo,l("td",wo,y(this.id),1)]),l("tr",null,[Vo,l("td",xo,y(this.created),1)]),l("tr",null,[Do,l("td",qo,y(this.updated),1)]),l("tr",null,[To,l("td",Io,y(this.goal),1)]),l("tr",null,[Ko,l("td",{style:{width:"50%",cursor:"pointer"},onClick:s[5]||(s[5]=d=>this.nextPage())},y(this.pgIdx+1)+" / "+y(this.pages.length),1)])])])]),_:1})]),_:1})],64)}var Po=se(go,[["render",Bo]]);const Mo=te({name:"CurrentCourse",setup(){return{reStore:ae(),title:c(""),assignmentCount:c(0),courseKey:c(""),created:c(""),updated:c(""),enrollmentCount:c(0),owner:c("")}},mounted(){console.log("CurrentCourse mounted"),A(this.reStore.courses,async(e,s)=>{try{if(this.reStore.courses.ck!=="undefined"){const h=this.reStore.courses.ck;console.log("CurrentCourse ",h),this.title=this.reStore.courses[h].title,this.courseKey=this.reStore.courses[h].courseKey,this.created=this.reStore.courses[h].created,this.updated=this.reStore.courses[h].updated,this.assignmentCount=Object.keys(this.reStore.courses[h].assignments).length,this.enrollmentCount=Object.keys(this.reStore.courses[h].enrollment).length,this.owner=this.reStore.courses[h].owner}}catch(h){console.log(h)}},{immediate:!0,deep:!0})},methods:{dummy(){console.log("dummy")}}}),Oo={class:"text-weight-bolder text-center q-pa-md"},No={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},Ho={width:"100%"},Uo=l("td",null,"Title",-1),Ro={style:{width:"50%"}},Ao=l("td",null,"Course-Key",-1),Lo={style:{width:"50%"}},Qo=l("td",null,"Created",-1),jo={style:{width:"50%"}},Fo=l("td",null,"Updated",-1),Yo={style:{width:"50%"}},zo=l("td",null,"Owner",-1),Wo={style:{width:"50%"}},Eo=l("td",null,"Assignments",-1),Go={style:{width:"50%"}},Jo=l("td",null,"Enrollment",-1),Xo={style:{width:"50%"}};function Zo(e,s,h,p,w,K){return u(),Q(q,{flat:""},{default:i(()=>[o(M,null,{default:i(()=>[l("div",Oo,y(this.title),1),l("div",No,[l("table",Ho,[l("tr",null,[Uo,l("td",Ro,y(this.title),1)]),l("tr",null,[Ao,l("td",Lo,y(this.courseKey),1)]),l("tr",null,[Qo,l("td",jo,y(this.created),1)]),l("tr",null,[Fo,l("td",Yo,y(this.updated),1)]),l("tr",null,[zo,l("td",Wo,y(this.owner.slice(0,10)),1)]),l("tr",null,[Eo,l("td",Go,y(this.assignmentCount),1)]),l("tr",null,[Jo,l("td",Xo,y(this.enrollmentCount),1)])])])]),_:1})]),_:1})}var el=se(Mo,[["render",Zo]]);const tl=te({name:"PagerComponent",setup(){return{reStore:ae(),assignment:c(null)}},mounted(){console.log("mounted"),this.reStore.courses.ck&&this.reStore.courses.aid&&(this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[this.reStore.courses.ck].assignments[this.reStore.courses.aid]))),A(this.reStore.courses,async(e,s)=>{if(this.reStore.aid||(this.assignment=null),!this.assignment)this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[e.ck].assignments[e.aid]));else{const h=this.assignment.ck,p=this.assignment.id;(h!==e.ck||p!==e.aid)&&(console.log("PagerComponent assignment changed"),this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[e.ck].assignments[e.aid])))}})},methods:{nextImg(e){const s=this.assignment.pages[e].imgIdx,h=this.assignment.pages[e].imgs.length;s+1<h?this.assignment.pages[e].imgIdx+=1:this.assignment.pages[e].imgIdx=0},prevImg(e){const s=this.assignment.pages[e].imgIdx,h=this.assignment.pages[e].imgs.length;s-1>-1?this.assignment.pages[e].imgIdx-=1:this.assignment.pages[e].imgIdx=h-1},loadCoverCB(){console.log("Pager loadCoverCB "),this.reStore.loadCover()},loadPageCB(e){console.log("Pager loadPageCB ",e),this.reStore.page=this.assignment.pages[e],this.reStore.imgIdx=this.assignment.pages[e].imgIdx,this.reStore.courses.imgIdx=this.assignment.pages[e].imgIdx,ee(".assignment").classed("hidden",!1),ee(".coverslide").classed("hidden",!0),this.reStore.courses.trigger+=1},dummy(){console.log("dummy")}}}),sl={class:"text-weight-bolder text-center q-pa-xs"},al={class:"text-weight-bolder text-center q-pa-xs"},ol={key:0},ll={class:"text-weight-bolder text-center q-pa-xs"},nl={key:0},il={key:0},rl=l("span",{class:"float-left"},"Cover Page",-1),dl={class:"float-left"},ul={class:"float-right"},cl={key:0,class:"fi fi-gb"},ml={key:1,class:"fi fi-us"},hl={key:2,class:"fi fi-mx"},gl={key:3,class:"fi fi-fr"},fl={key:4,class:"fi fi-de"},vl={key:5,class:"fi fi-it"},pl={key:6,class:"fi fi-br"},_l={key:7,class:"fi fi-ke"},yl={key:8,class:"fi fi-ru"},Cl={key:9,class:"fi fi-th"},kl={key:10,class:"fi fi-cn"},Sl={key:11,class:"fi fi-hk"},$l={key:12,class:"fi fi-tw"},bl={key:13,class:"fi fi-kr"},wl={key:14,class:"fi fi-jp"},Vl={key:15,class:"fi fi-id"},xl={key:16,class:"fi fi-xx"};function Dl(e,s,h,p,w,K){return u(),Q(q,{flat:"",style:{"max-width":"300px"},class:"q-pa-xs"},{default:i(()=>[o(M,null,{default:i(()=>[l("div",sl,"Course: "+y(this.reStore.courses.ck),1),l("div",al,[b("Assignment: "),this.assignment?(u(),f("span",ol,[b(y(this.assignment.title)+" ",1),o(D,{style:{cursor:"pointer"},class:"on-right",name:"save",onClick:s[0]||(s[0]=r=>this.reStore.saveCurrentAssignment()),size:"sm"})])):G("",!0)]),l("div",ll,[b("Page: "),this.assignment?(u(),f("span",nl,y(this.assignment.pages[this.assignment.pgIdx].pageTitle),1)):G("",!0)]),this.assignment?(u(),f("span",il,[o(q,{class:"bg-primary otdcard q-pa-xs q-my-md",flat:"",bordered:""},{default:i(()=>[rl,o(xe,{src:this.assignment.coverUrl,onClick:e.loadCoverCB},null,8,["src","onClick"])]),_:1}),(u(!0),f(j,null,re(this.assignment.pages,(r,d)=>(u(),Q(q,{class:"bg-primary otdcard q-pa-xs q-my-md",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":s[1]||(s[1]=k=>this.assignment.pages=k),key:d},{default:i(()=>[l("span",dl,y(r.pageTitle),1),l("span",ul,[r.langVoiceKey==="Eng-UK-Fem"?(u(),f("span",cl)):r.langVoiceKey==="Eng-US"?(u(),f("span",ml)):r.langVoiceKey==="espa\xF1ol"?(u(),f("span",hl)):r.langVoiceKey==="fran\xE7ais"?(u(),f("span",gl)):r.langVoiceKey==="Deutsch"?(u(),f("span",fl)):r.langVoiceKey==="italiano"?(u(),f("span",vl)):r.langVoiceKey==="portugu\xEAs do Brasil"?(u(),f("span",pl)):r.langVoiceKey==="Kiswahili"?(u(),f("span",_l)):r.langVoiceKey==="\u0440\u0443\u0441\u0441\u043A\u0438\u0439"?(u(),f("span",yl)):r.langVoiceKey==="\u0E44\u0E17\u0E22"?(u(),f("span",Cl)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u4E2D\u56FD\u5927\u9646\uFF09"?(u(),f("span",kl)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u9999\u6E2F\uFF09"?(u(),f("span",Sl)):r.langVoiceKey==="\u4E2D\u6587 \uFF08\u81FA\u7063\uFF09"?(u(),f("span",$l)):r.langVoiceKey==="\uD55C\uAD6D\uC758"?(u(),f("span",bl)):r.langVoiceKey==="\u65E5\u672C\u8A9E"?(u(),f("span",wl)):r.langVoiceKey==="Bahasa Indonesia"?(u(),f("span",Vl)):(u(),f("span",xl))]),o(xe,{height:"200px",src:r.imgs[r.imgIdx].url,onClick:k=>e.loadPageCB(d)},null,8,["src","onClick"]),o(V,{onClick:k=>e.prevImg(d),icon:"arrow_left"},{default:i(()=>[b("Back")]),_:2},1032,["onClick"]),o(V,{class:"float-right",onClick:k=>e.nextImg(d),"icon-right":"arrow_right"},{default:i(()=>[b("Next")]),_:2},1032,["onClick"])]),_:2},1032,["modelValue"]))),128))])):G("",!0)]),_:1})]),_:1})}var ql=se(tl,[["render",Dl]]);const Tl=te({name:"TeacherLayout",components:{PagerComponent:ql,CurrentCourse:el,DocumentationComponent:ns,SearchComponent:Vs,ImagesComponent:ba,BookmarksComponent:Wa,OTDComponent:ho,CurrentAssignment:Po,PreferencesComponent:Jt,CurrentPage:va},setup(){const e=c(!1),s=c(!1),h=ae(),p=h.preferences,w=c(null),K=c(null);return{step:c(1),reStore:h,initialValues:c(p),scrollAreaRHS:w,scrollAreaLHS:K,leftDrawerOpen:e,rightDrawerOpen:s,flagName:c(h.langVoices[h.preferences.langVoiceKey].flagName),promptLanguage:c(!1),langVoices:c(h.preferences.langVoices),toggleLeftDrawer(){e.value=!e.value},toggleRightDrawer(){s.value=!s.value}}},mounted(){yt.isActive||(yt.toggle(),Xe("primary","#333"),Xe("secondary",this.initialValues.secondaryColor),Xe("accent",this.initialValues.accentColor),this.flagName=this.reStore.langVoices[this.reStore.prefereneces.langVoiceKey].flagName,ee(".pfi").classed(this.flagName,!0))},methods:{setRHS(e){e==="pager"?(E("#advancedDiv").classed("hidden",!0),E("#pagerDiv").classed("hidden",!1)):(E("#advancedDiv").classed("hidden",!1),E("#pagerDiv").classed("hidden",!0))},scrollTopRHS(){this.scrollAreaRHS.setScrollPosition("vertical",0)},scrollTopLHS(){this.scrollAreaLHS.setScrollPosition("vertical",0)},setLangVoiceCB(e){this.flagName=this.reStore.langVoices[e].flagName;for(const[s,h]of Object.entries(this.reStore.langVoices)){const p=h.flagName;ee(".pfi").classed(p,!1)}ee(".pfi").classed(this.flagName,!0),this.reStore.preferences.langVoiceKey=e,this.reStore.preferences.langVoice=this.reStore.langVoices[e],console.log("langVoiceKey set to ",e,this.flagName),this.reStore.courses.trigger+=1}}}),Il=l("div",{class:"text-h6"},"Set Current Language",-1),Kl={width:"100%"},Bl={class:"dashboard-wrapper"},Pl=l("hr",{style:{margin:"0px 0px",border:"1px solid #CCC3"}},null,-1),Ml={class:"hidden"},Ol=l("br",null,null,-1),Nl=l("br",null,null,-1),Hl=l("hr",{style:{margin:"0px 0px",border:"1px solid #CCC3"}},null,-1),Ul={id:"pagerDiv"},Rl={key:0},Al={key:1},Ll={class:"q-gutter-y-sm"},Ql={id:"advancedDiv",class:"hidden"},jl={class:"hidden"},Fl={key:0},Yl={key:1},zl={class:"q-gutter-y-sm"};function Wl(e,s,h,p,w,K){const r=R("router-link"),d=R("router-view"),k=R("DocumentationComponent"),B=R("SearchComponent"),J=R("BookmarksComponent"),he=R("OTDComponent"),Ne=R("ImagesComponent"),He=R("PagerComponent"),Se=R("CurrentCourse"),X=R("CurrentAssignment"),I=R("CurrentPage"),Ue=R("PreferencesComponent");return u(),Q(ls,{view:"hHh LpR fFf"},{default:i(()=>[o(as,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:i(()=>[o(ke,{modelValue:e.promptLanguage,"onUpdate:modelValue":s[1]||(s[1]=O=>e.promptLanguage=O),persistent:""},{default:i(()=>[o(q,{style:{"min-width":"350px"}},{default:i(()=>[o(M,null,{default:i(()=>[Il]),_:1}),o(M,{class:"q-pt-none"},{default:i(()=>[l("table",Kl,[l("tr",null,[l("td",null,[o(Vt,{modelValue:this.langVoice,"onUpdate:modelValue":[s[0]||(s[0]=O=>this.langVoice=O),this.setLangVoiceCB],options:e.langVoices},null,8,["modelValue","options","onUpdate:modelValue"])])])])]),_:1}),o(Ce,{align:"right",class:"text-white"},{default:i(()=>[z(o(V,{outline:"",flat:"",label:"Close"},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(ye,null,{default:i(()=>[o(V,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),o(ss,null,{default:i(()=>[o(r,{to:"/teacher"},{default:i(()=>[o(D,{name:"home",color:"white"},{default:i(()=>[o(P,null,{default:i(()=>[b("Return to My Teacher Page")]),_:1})]),_:1})]),_:1})]),_:1}),this.reStore.authenticated?(u(),Q(V,{key:0,onClick:s[2]||(s[2]=O=>this.reStore.router.push("/student")),icon:"switch_account"},{default:i(()=>[o(P,null,{default:i(()=>[b(" Switch between Teacher or Student role ")]),_:1})]),_:1})):G("",!0),this.reStore.authenticated?(u(),Q(V,{key:1,icon:"logout",onClick:s[3]||(s[3]=O=>this.reStore.logout())})):G("",!0),o(V,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),o(os,{class:"container-fluid"},{default:i(()=>[l("div",Bl,[o(d)]),o(Ct,{bordered:"","show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":s[4]||(s[4]=O=>e.leftDrawerOpen=O),side:"left"},{default:i(()=>[o(ye,{flat:"",class:"bg-primary text-white"},{default:i(()=>[o(Ve),o(V,{flat:"",round:"",dense:"",icon:"arrow_circle_up",class:"float-right",onClick:this.scrollTopLHS},{default:i(()=>[o(P,null,{default:i(()=>[b("Scroll to top")]),_:1})]),_:1},8,["onClick"])]),_:1}),Pl,o(kt,{visible:e.visible,style:{height:"90vh","max-width":"350px"},ref:"scrollAreaLHS"},{default:i(()=>[o(k),o(B),o(J),o(he),o(Ne)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),o(Ct,{bordered:"","show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":s[8]||(s[8]=O=>e.rightDrawerOpen=O),side:"right"},{default:i(()=>[o(ye,{flat:"",class:"bg-primary text-white"},{default:i(()=>[l("span",Ml,[o(V,{flat:"",round:"",dense:"",icon:"add",class:"q-mx-md"}),o(St,{dark:"",vertical:"",inset:""}),o(V,{flat:"",round:"",dense:"",icon:"add",class:"q-mx-md"}),o(St,{dark:"",vertical:"",inset:""})]),o(is,{align:"left"},{default:i(()=>[o(pt,{icon:"theaters",onClick:s[5]||(s[5]=O=>this.setRHS("pager"))},{default:i(()=>[o(P,null,{default:i(()=>[b("Visual Assignment Builder")]),_:1})]),_:1}),o(pt,{icon:"handyman",onClick:s[6]||(s[6]=O=>this.setRHS("advanced"))},{default:i(()=>[o(P,null,{default:i(()=>[b("Detailed assignment configuration")]),_:1})]),_:1})]),_:1}),o(Ve),l("span",{class:"pfi fi fi-xx text-h5 ptr",onClick:s[7]||(s[7]=O=>e.promptLanguage=!0)},[o(P,null,{default:i(()=>[b("Set current language "),Ol,b("Applied to new pages/searches."),Nl,b("Sync current page using sync-lang button.")]),_:1})]),o(Ve),o(V,{flat:"",round:"",dense:"",icon:"arrow_circle_up",class:"float-right",onClick:this.scrollTopRHS},{default:i(()=>[o(P,null,{default:i(()=>[b("Scroll to top")]),_:1})]),_:1},8,["onClick"])]),_:1}),Hl,o(kt,{visible:e.visible,style:{height:"90vh","max-width":"350px"},ref:"scrollAreaRHS"},{default:i(()=>[l("div",Ul,[this.reStore.courses.aid?(u(),f("span",Rl,[o(He)])):(u(),f("span",Al,[l("div",Ll,[o(q,{flat:"",bordered:"",class:"q-ma-sm q-mt-md q-pa-md"},{default:i(()=>[b(" No current assignment. You can load an assignment at the "),l("u",null,[o(r,{to:"/teacher",class:"text-white ptr"},{default:i(()=>[b("Teacher Dashboard")]),_:1})]),b(". ")]),_:1})])]))]),l("div",Ql,[l("span",jl,[o(Se)]),this.reStore.courses.aid?(u(),f("span",Fl,[o(X),o(I),o(Ue,{initialValues:this.initialValues},null,8,["initialValues"])])):(u(),f("span",Yl,[l("div",zl,[o(q,{flat:"",bordered:"",class:"q-ma-sm q-mt-md q-pa-md"},{default:i(()=>[b(" No current assignment. You can load an assignment at the "),l("u",null,[o(r,{to:"/teacher",class:"text-white ptr"},{default:i(()=>[b("Teacher Dashboard")]),_:1})]),b(". ")]),_:1})])]))])]),_:1},8,["visible"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}var vn=se(Tl,[["render",Wl]]);export{vn as default};
