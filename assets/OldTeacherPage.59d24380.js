import{d as b,r as k,a as _,Q as p,i as A,h as K,C as v}from"./ClosePopup.84d6e9cb.js";import{Q as V}from"./QInput.fefc19f4.js";import{_ as q,r as f,o as a,c as y,w as s,a as t,aK as P,p as B,Q as h,e as n,af as d,au as m,av as S,aM as T,aJ as w,ag as C,x as g}from"./index.637ca335.js";import{Q as x}from"./QTooltip.b114f0f7.js";import{Q as N}from"./QPage.7d5c3b23.js";import{u as $}from"./re-store.72dc6161.js";import"./use-dark.f9613e8c.js";import"./use-portal.5eb9f791.js";import"./use-key-composition.c2bd84b8.js";import"./position-engine.0a152c3c.js";import"./selection.467c8549.js";import"./firebase.ea708b63.js";function E(o){const e=document.createElement("textarea");e.value=o,e.contentEditable="true",e.style.position="fixed";const c=()=>{};b(c),document.body.appendChild(e),e.focus(),e.select();const l=document.execCommand("copy");return e.remove(),k(c),l}function D(o){return navigator.clipboard!==void 0?navigator.clipboard.writeText(o):new Promise((e,c)=>{const l=E(o);l?e(!0):c(l)})}const F=$(),H={components:{},setup(){return{reStore:F,courseKey:f(null),courseTitle:f(null),prompt:f(!1)}},methods:{copyCK(o){D(o).then(()=>{console.log("ck copied to clipboard",o)}).catch(e=>{console.log(e)})},newCourseCB(){console.log("courseCB"),this.reStore.newCourse()},newAssignmentCB(o){console.log("assignmentCB: ",o),this.reStore.newAssignment(o)},editAssignmentCB(o,e){console.log("editAssignmentCB: ",o,e),this.reStore.editAssignment(o,e)},changeTitleCB(){console.log("TeacherPage.titleCB",this.courseKey,this.courseTitle),this.reStore.setCourseTitle(this.courseKey,this.courseTitle)}}},I=n("div",{class:"text-h6"},"Change course title",-1),M={class:"flex-center q-mt-xl q-mb-xl row q-gutter-md"},U=n("div",{class:"text-h6"},"My Teacher Page",-1),J={key:0,class:"flex-center q-pa-md"},L=n("br",null,null,-1),O={width:"100%"},R=n("tr",null,[n("th"),n("th",{colSpan:"100"}," Assignments ")],-1),j={key:0},z=n("th",null,"Student",-1),G={class:"hidden"};function W(o,e,c,l,X,Y){return a(),y(N,{class:"q-gutter-md"},{default:s(()=>[t(K,{modelValue:l.prompt,"onUpdate:modelValue":e[3]||(e[3]=r=>l.prompt=r),persistent:""},{default:s(()=>[t(_,{style:{"min-width":"350px"}},{default:s(()=>[t(p,null,{default:s(()=>[I]),_:1}),t(p,{class:"q-pt-none"},{default:s(()=>[t(V,{dense:"",modelValue:l.courseTitle,"onUpdate:modelValue":e[0]||(e[0]=r=>l.courseTitle=r),autofocus:"",onKeyup:e[1]||(e[1]=P(r=>{l.prompt=!1,this.changeTitleCB()},["enter"])),onHide:this.dck},null,8,["modelValue","onHide"])]),_:1}),t(A,{align:"right"},{default:s(()=>[B(t(h,{outline:"",label:"Cancel"},null,512),[[v]]),B(t(h,{outline:"",label:"Save",onClick:e[2]||(e[2]=r=>this.changeTitleCB())},null,512),[[v]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n("div",M,[U,n("div",null,[t(h,{icon:"list_alt",onClick:e[4]||(e[4]=r=>this.newCourseCB())},{default:s(()=>[t(x,null,{default:s(()=>[d("Add a course")]),_:1})]),_:1})])]),this.reStore.userSnapshot.teaching?(a(),m("div",J,[(a(!0),m(S,null,T(this.reStore.userSnapshot.teaching,(r,i)=>(a(),y(_,{key:r.ck,class:"course-card q-mt-md q-mb-md"},{default:s(()=>[t(p,null,{default:s(()=>[d(" Title: "+C(i)+" \xA0",1),t(g,{class:"ptr",name:"edit",onClick:u=>{l.prompt=!0,this.courseTitle=this.reStore.courses[i].title,this.courseKey=i}},null,8,["onClick"]),L,d(" Key: "+C(i)+" ",1),t(g,{class:"ptr",name:"content_copy",onClick:u=>this.copyCK(i)},null,8,["onClick"]),n("div",null,[t(h,{icon:"assignment",onClick:u=>this.newAssignmentCB(r.ck)},{default:s(()=>[t(x,null,{default:s(()=>[d("New Assignment")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024),t(p,null,{default:s(()=>[n("table",O,[R,this.reStore.courses[i]?(a(),m("tr",j,[z,(a(!0),m(S,null,T(this.reStore.courses[i].assignments,(u,Q)=>(a(),m("th",{key:u},[d(C(u.title)+" ",1),t(g,{onClick:Z=>this.editAssignmentCB(i,u.id),name:"edit"},null,8,["onClick"]),n("span",G,C(Q),1)]))),128))])):w("",!0)])]),_:2},1024)]),_:2},1024))),128))])):w("",!0)]),_:1})}var me=q(H,[["render",W]]);export{me as default};
