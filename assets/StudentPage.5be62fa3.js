import{a as y,Q as p,i as w,h as V,C as k}from"./ClosePopup.137c441e.js";import{Q as B}from"./QInput.e52303fe.js";import{_ as q,r as C,o as r,c as f,w as s,a as o,aK as b,p as v,Q as h,e as t,af as _,aJ as x,au as n,av as g,aL as S,ag as c}from"./index.28025b9b.js";import{Q}from"./QTooltip.48e47eb2.js";import{Q as A}from"./QPage.4dcadd91.js";import{u as P}from"./re-store.f55b317a.js";import"./use-dark.e7261c3c.js";import"./use-portal.eba292b8.js";import"./use-key-composition.6de547ae.js";import"./position-engine.120c5387.js";import"./selection.32faee2d.js";import"./firebase.ea708b63.js";const E=P(),N={setup(){return{prompt:C(!1),courseKey:C(null),reStore:E}},methods:{takeAssignment(i,e){console.log("takeAssignment: ",i,e),this.reStore.takeAssignment(i,e)},dck(i){console.log("delta-course-key: ",this.courseKey)},enrollCB(){console.log("StudentPage.enrollCB",this.courseKey);const i=this.reStore.enroll(this.courseKey);console.log(i)}}},T=t("div",{class:"text-h6"},"Enter a course-key",-1),$={class:"flex-center q-mt-xl q-mb-xl row q-gutter-md"},D=t("div",{class:"text-h6"},"My Student Page",-1),H={key:0,class:"flex-center q-pa-md"},L=t("br",null,null,-1),U={width:"100%"},F=t("tr",null,[t("th",null,"\xA0"),t("th",{colSpan:"100"},"Assignments")],-1),I=t("th",null,"Student",-1),J=["onClick"],M={key:0},R=["onClick"],j={key:1};function z(i,e,G,u,O,W){return r(),f(A,{class:"q-gutter-md"},{default:s(()=>[o(V,{modelValue:u.prompt,"onUpdate:modelValue":e[3]||(e[3]=l=>u.prompt=l),persistent:""},{default:s(()=>[o(y,{style:{"min-width":"350px"}},{default:s(()=>[o(p,null,{default:s(()=>[T]),_:1}),o(p,{class:"q-pt-none"},{default:s(()=>[o(B,{dense:"",modelValue:u.courseKey,"onUpdate:modelValue":e[0]||(e[0]=l=>u.courseKey=l),autofocus:"",onKeyup:e[1]||(e[1]=b(l=>{u.prompt=!1,this.enrollCB()},["enter"])),onHide:this.dck},null,8,["modelValue","onHide"])]),_:1}),o(w,{align:"right",class:"text-white"},{default:s(()=>[v(o(h,{flat:"",label:"Cancel"},null,512),[[k]]),v(o(h,{flat:"",label:"Enroll",onClick:e[2]||(e[2]=l=>this.enrollCB())},null,512),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",$,[D,t("div",null,[o(h,{icon:"group_add",onClick:e[4]||(e[4]=l=>u.prompt=!0)},{default:s(()=>[o(Q,{class:"bg-info"},{default:s(()=>[_("Have a course-key?")]),_:1})]),_:1}),this.reStore.authenticated?(r(),f(h,{key:0,onClick:e[5]||(e[5]=l=>this.reStore.router.push("/teacher")),icon:"switch_account"},{default:s(()=>[o(Q,null,{default:s(()=>[_(" Switch to Teacher role ")]),_:1})]),_:1})):x("",!0)])]),this.reStore.userSnapshot.taking?(r(),n("div",H,[(r(!0),n(g,null,S(this.reStore.userSnapshot.taking,(l,d)=>(r(),f(y,{key:d,class:"course-card q-mt-md q-mb-md"},{default:s(()=>[o(p,null,{default:s(()=>[_(" Title: "+c(this.reStore.courses[d].title),1),L,_(" Key: "+c(d),1)]),_:2},1024),o(p,null,{default:s(()=>[t("table",U,[F,t("tr",null,[I,(r(!0),n(g,null,S(this.reStore.courses[d].assignments,(a,m)=>(r(),n("th",{key:m},[t("a",{onClick:K=>this.takeAssignment(d,a.id)},c(a.title),9,J)]))),128))]),t("tr",null,[t("th",null,c(this.reStore.userSnapshot.profile.name),1),(r(!0),n(g,null,S(this.reStore.courses[d].assignments,(a,m)=>(r(),n("th",{key:m},[a.scores&&a.scores[this.reStore.userSnapshot.profile.emailKey]?(r(),n("span",M,[t("a",{onClick:K=>this.takeAssignment(m,a.id)},c(a.scores[this.reStore.userSnapshot.profile.emailKey]),9,R)])):(r(),n("span",j,"-"))]))),128))])])]),_:2},1024)]),_:2},1024))),128))])):x("",!0)]),_:1})}var ue=q(N,[["render",z]]);export{ue as default};
