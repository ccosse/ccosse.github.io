import{g as i,e as O,v as m,n as Q,s as F,h as r,a9 as A,i as E,ag as D,ax as L,B as H,aw as M,k as K,aH as C,ae as N,W}from"./index.e70c2e77.js";import{a as U,u as G}from"./use-dark.be8d095a.js";import{u as J,j as X}from"./ClosePopup.03ded20c.js";const Y={ratio:[String,Number]};function Z(t,o){return i(()=>{const e=Number(t.ratio||(o!==void 0?o.value:void 0));return isNaN(e)!==!0&&e>0?{paddingBottom:`${100/e}%`}:null})}const p=16/9;var oe=O({name:"QImg",props:{...Y,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:p},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:o,emit:e}){const g=m(t.initialRatio),f=Z(t,g);let a=null,u=!1;const d=[m(null),m(k())],s=m(0),v=m(!1),h=m(!1),$=i(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),b=i(()=>({width:t.width,height:t.height})),x=i(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition`),c=i(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));Q(()=>S(),V);function S(){return t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null}function k(){return t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null}function V(l){a!==null&&(clearTimeout(a),a=null),h.value=!1,l===null?(v.value=!1,d[s.value^1].value=k()):v.value=!0,d[s.value].value=l}function z({target:l}){u!==!0&&(a!==null&&(clearTimeout(a),a=null),g.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,w(l,1))}function w(l,_){u===!0||_===1e3||(l.complete===!0?B(l):a=setTimeout(()=>{a=null,w(l,_+1)},50))}function B(l){u!==!0&&(s.value=s.value^1,d[s.value].value=null,v.value=!1,h.value=!1,e("load",l.currentSrc||l.src))}function R(l){a!==null&&(clearTimeout(a),a=null),v.value=!1,h.value=!0,d[s.value].value=null,d[s.value^1].value=k(),e("error",l)}function T(l){const _=d[l].value,q={key:"img_"+l,class:x.value,style:c.value,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,..._};return s.value===l?(q.class+=" q-img__image--waiting",Object.assign(q,{onLoad:z,onError:R})):q.class+=" q-img__image--loaded",r("div",{class:"q-img__container absolute-full",key:"img"+l},r("img",q))}function I(){return v.value!==!0?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},E(o[h.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():t.noSpinner===!0?void 0:[r(D,{color:t.spinnerColor,size:t.spinnerSize})])}return V(S()),F(()=>{u=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const l=[];return f.value!==null&&l.push(r("div",{key:"filler",style:f.value})),h.value!==!0&&(d[0].value!==null&&l.push(T(0)),d[1].value!==null&&l.push(T(1))),l.push(r(A,{name:"q-transition--fade"},I)),r("div",{class:$.value,style:b.value,role:"img","aria-label":t.alt},l)}}});function ee(t,o){const e=m(null),g=i(()=>t.disable===!0?null:r("span",{ref:e,class:"no-outline",tabindex:-1}));function f(a){const u=o.value;a!==void 0&&a.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():e.value!==null&&(a===void 0||u!==null&&u.contains(a.target)===!0)&&e.value.focus()}return{refocusTargetEl:g,refocusTarget:f}}var te={xs:30,sm:35,md:40,lg:50,xl:60};const le={...G,...M,...J,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ne=["update:modelValue"];function ae(t,o){const{props:e,slots:g,emit:f,proxy:a}=K(),{$q:u}=a,d=U(e,u),s=m(null),{refocusTargetEl:v,refocusTarget:h}=ee(e,s),$=L(e,te),b=i(()=>e.val!==void 0&&Array.isArray(e.modelValue)),x=i(()=>{const n=C(e.val);return b.value===!0?e.modelValue.findIndex(y=>C(y)===n):-1}),c=i(()=>b.value===!0?x.value>-1:C(e.modelValue)===C(e.trueValue)),S=i(()=>b.value===!0?x.value===-1:C(e.modelValue)===C(e.falseValue)),k=i(()=>c.value===!1&&S.value===!1),V=i(()=>e.disable===!0?-1:e.tabindex||0),z=i(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(d.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),w=i(()=>{const n=c.value===!0?"truthy":S.value===!0?"falsy":"indet",y=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?c.value===!0:S.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${n}${y}`}),B=i(()=>{const n={type:"checkbox"};return e.name!==void 0&&Object.assign(n,{".checked":c.value,"^checked":c.value===!0?"checked":void 0,name:e.name,value:b.value===!0?e.val:e.trueValue}),n}),R=X(B),T=i(()=>{const n={tabindex:V.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":k.value===!0?"mixed":c.value===!0?"true":"false"};return e.disable===!0&&(n["aria-disabled"]="true"),n});function I(n){n!==void 0&&(N(n),h(n)),e.disable!==!0&&f("update:modelValue",l(),n)}function l(){if(b.value===!0){if(c.value===!0){const n=e.modelValue.slice();return n.splice(x.value,1),n}return e.modelValue.concat([e.val])}if(c.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(S.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function _(n){(n.keyCode===13||n.keyCode===32)&&N(n)}function q(n){(n.keyCode===13||n.keyCode===32)&&I(n)}const P=o(c,k);return Object.assign(a,{toggle:I}),()=>{const n=P();e.disable!==!0&&R(n,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const y=[r("div",{class:w.value,style:$.value,"aria-hidden":"true"},n)];v.value!==null&&y.push(v.value);const j=e.label!==void 0?H(g.default,[e.label]):E(g.default);return j!==void 0&&y.push(r("div",{class:`q-${t}__label q-anchor--skip`},j)),r("div",{ref:s,class:z.value,...T.value,onClick:I,onKeydown:_,onKeyup:q},y)}}var se=O({name:"QToggle",props:{...le,icon:String,iconColor:String},emits:ne,setup(t){function o(e,g){const f=i(()=>(e.value===!0?t.checkedIcon:g.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),a=i(()=>e.value===!0?t.iconColor:null);return()=>[r("div",{class:"q-toggle__track"}),r("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},f.value!==void 0?[r(W,{name:f.value,color:a.value})]:void 0)]}return ae("toggle",o)}});export{oe as Q,se as a,le as b,ne as c,ae as d,te as o,ee as u};
