import{Q as V}from"./QImg.a58818f4.js";import{Q as C}from"./QCard.8c09a937.js";import{u as w}from"./store.0939f58b.js";import{d as I,_ as $,o as l,c as y,w as d,a0 as n,F as t,E as a,as as o,v as _,P as p,a1 as f,a as r,Z as S,Q as x,H as D}from"./index.fb8c9c73.js";import{a as v,b as Q,Q as z,C as U}from"./ClosePopup.3e8b7d30.js";import{Q as P}from"./QItemLabel.ed646ca6.js";import{Q as k}from"./QToggle.6892f496.js";import{Q as B}from"./QExpansionItem.2f37fcb9.js";import{Q as F}from"./QList.acbbda16.js";import"./transform.9aa67f3e.js";import{s as h}from"./selectAll.be636dd1.js";const q=I({name:"TileComponent",props:["tileName","tileData","tileType","imgUrl","targetUrl","ck","aid","pgIdx","imgIdx"],setup(){return{store:w()}},methods:{clickCB(i,e,c,g,u,m,s,b){if(console.log("clickCB",i,e,c,g,u,m,s,b),this.store.ck=i,this.store.aid=e,this.store.pgIdx=c,s==="course")console.log("setting aid -1"),this.store.aid=-1;else if(s==="assignment"){this.store.pgIdx=0,this.store.router.push("/courses/assignments");return}else if(s==="page"){this.store.pgIdx=c,this.store.router.push("/courses/assignments/pages");return}try{this.store.imgIdx=this.imgIdx,this.store.currentPage.imgIdx=this.imgIdx}catch(T){console.log(T)}u!==null?this.store.router.push(u):m!==null&&s==="image"&&(this.store.imgIdx=this.imgIdx)}}}),A={class:"text-h6 absolute-center full-width text-center"},N={key:0},E={key:1},j={key:2},O={key:3},R={key:4},H={key:5},K={key:6},L={class:"hidden"},M=t("tr",null,[t("th",{align:"left"},"prop"),t("th",{align:"center"},[t("b",null,"val")])],-1),Z={key:0},G=t("td",null,"ck",-1),J={key:1},W=t("td",null,"aid",-1),X={key:2},Y=t("td",null,"pgIdx",-1),tt={key:3},et=t("td",null,"imgIdx",-1),st={key:4},it=t("td",null,"imgUrl",-1),ot={key:5},lt=t("td",null,"targetUrl",-1);function nt(i,e,c,g,u,m){return l(),y(C,{flat:"",bordered:"",class:"q-ma-md q-pa-xs cursor-pointer tile-component",onClick:e[0]||(e[0]=s=>this.clickCB(this.ck,this.aid,this.pgIdx,this.imgIdx,this.targetUrl,this.imgUrl,this.tileType,this.tileName))},{default:d(()=>[this.imgUrl?(l(),y(V,{key:0,class:"absolute-center tile-component",src:this.imgUrl,style:{opacity:"1"}},null,8,["src"])):n("",!0),t("div",A,[this.tileData.pageTitle!==null?(l(),a("div",N,o(this.tileData.pageTitle),1)):n("",!0),this.tileType=="section"?(l(),a("div",E,o(this.tileName),1)):n("",!0),this.tileType=="course"?(l(),a("div",j,[t("div",null,o(this.tileData.title),1),t("div",null,o(Object.keys(this.tileData.assignments).length)+" assignments ",1),t("div",null,o(Object.keys(this.tileData.enrollment).length)+" students",1)])):n("",!0),this.tileType=="assignment"?(l(),a("div",O,[t("div",null,o(this.tileData.title),1),t("div",null,o(this.tileData.pages.length)+" pgs",1)])):n("",!0),this.tileType==="page"?(l(),a("div",R,"Page "+o(this.pgIdx+1),1)):n("",!0),this.store.currentPage&&this.tileType=="page"?(l(),a("div",H,o(this.store.currentAssignment.pages[this.pgIdx].imgs.length)+" imgs ",1)):n("",!0),this.tileType=="image"?(l(),a("div",K,"Image "+o(this.imgIdx+1),1)):n("",!0)]),t("table",L,[M,this.ck?(l(),a("tr",Z,[G,t("td",null,o(this.ck),1)])):n("",!0),this.aid?(l(),a("tr",J,[W,t("td",null,o(this.aid),1)])):n("",!0),this.pgIdx!==null?(l(),a("tr",X,[Y,t("td",null,o(this.pgIdx),1)])):n("",!0),this.imgIdx!==null?(l(),a("tr",tt,[et,t("td",null,o(this.imgIdx),1)])):n("",!0),this.imgUrl?(l(),a("tr",st,[it,t("td",null,"..."+o(this.imgUrl.slice(-20)),1)])):n("",!0),this.targetUrl?(l(),a("tr",ot,[lt,t("td",null,"..."+o(this.targetUrl.slice(-20)),1)])):n("",!0)])]),_:1})}var Tt=$(q,[["render",nt]]);const rt=I({name:"PreferencesComponent",setup(){return{store:w(),dark:_(p.isActive),promptFontSize:_(!1),showText:_(!0)}},mounted(){},methods:{toggleText(){console.log("toggleText",this.showText),this.showText===!0?(console.log("showing text"),h(".assignment").classed("hidden",!1),h(".q-carousel__thumbnail").classed("hidden",!1)):(console.log("hiding text"),h(".assignment").classed("hidden",!0),h(".q-carousel__thumbnail").classed("hidden",!0))},toggleDark(){p.toggle(),console.log(p.isActive,this.dark),p.isActive},fontSizeCB(i){h("#sampleFontSwatch").style("font-size",i+"pt"),h("#slideTextDiv").style("font-size",i+"pt"),this.store.userSnapshot.preferences.textFontSize=i},fsCB(){f.isActive?f.exit().then(()=>{}).catch(i=>{console.log(i)}):f.request().then(()=>{}).catch(i=>{console.log(i)})}}}),at=t("div",{class:"text-h6"},"Reconstruct Paragraph Font Size",-1),dt=t("td",{style:{width:"60%"}},[t("div",{id:"sampleFontSwatch"},"Reading Edge!")],-1),ht={class:"q-pa-md",style:{"max-width":"350px"}},ct={class:"text-center",style:{width:"100%"}},ut={class:"text-center",style:{width:"100%"}},mt={class:"text-center",style:{width:"100%"}},pt={class:"text-center q-mb-md",style:{width:"100%"}};function gt(i,e,c,g,u,m){return l(),a(D,null,[r(z,{modelValue:i.promptFontSize,"onUpdate:modelValue":e[1]||(e[1]=s=>i.promptFontSize=s),persistent:""},{default:d(()=>[r(C,{style:{"min-width":"350px"}},{default:d(()=>[r(v,{align:"center"},{default:d(()=>[at]),_:1}),r(v,{class:"q-pt-none",align:"center"},{default:d(()=>[t("table",null,[t("tr",null,[t("td",null,[r(P,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.store.userSnapshot.preferences.pageFontSize,"onUpdate:modelValue":e[0]||(e[0]=s=>this.store.userSnapshot.preferences.pageFontSize=s),min:"0",max:"50",onDragValue:this.fontSizeCB},null,8,["thickness","modelValue","onDragValue"])]),dt])])]),_:1}),r(Q,{align:"center",class:"text-white"},{default:d(()=>[S(r(x,{outline:"",flat:"",label:"Done"},null,512),[[U]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",ht,[r(F,{bordered:"",class:"rounded-borders",icon:"gear"},{default:d(()=>[r(B,{label:"Preferences"},{default:d(()=>[t("div",ct,[r(k,{modelValue:i.dark,"onUpdate:modelValue":e[2]||(e[2]=s=>i.dark=s),"keep-color":"",color:"primary","unchecked-icon":"light_mode","checked-icon":"dark_mode",onClick:e[3]||(e[3]=s=>this.toggleDark()),label:"Dark Mode"},null,8,["modelValue"])]),t("div",ut,[r(k,{label:"Auto-Play",modelValue:this.store.autoplay,"onUpdate:modelValue":e[4]||(e[4]=s=>this.store.autoplay=s),"keep-color":"",color:"primary"},null,8,["modelValue"])]),t("div",mt,[r(k,{label:"Show Text",modelValue:this.showText,"onUpdate:modelValue":e[5]||(e[5]=s=>this.showText=s),"keep-color":"",color:"primary",onClick:e[6]||(e[6]=s=>this.toggleText())},null,8,["modelValue"])]),t("div",pt,[r(x,{icon:"fullscreen",onClick:e[7]||(e[7]=s=>this.fsCB())}),r(x,{"no-caps":"",icon:"format_size",onClick:e[8]||(e[8]=s=>this.promptFontSize=!0)})])]),_:1})]),_:1})])],64)}var Vt=$(rt,[["render",gt]]);export{Vt as P,Tt as T};
