import{h as g,c as ae,e as re,r as c,u as M,_ as ne,o as A,an as F,g as m,w as y,ao as se,j as P,aq as V,k as d,ap as p,Q as ee,au as Fe,a as S,y as $e,q as Qe,$ as Ee,av as we,i as te,C as ie,J as Pe,aw as Be,a9 as le}from"./index.d600388f.js";import{Q as oe,a as B,b as Le}from"./QExpansionItem.6d0615e7.js";import{Q as Ne,a as de}from"./QCardSection.cf481c09.js";import{Q as ze}from"./QTooltip.964104bb.js";import{Q as ce}from"./QCard.7b650bf7.js";import{Q as ue}from"./QList.fa616e6e.js";import{u as he}from"./re-store.b0427d37.js";import{s as U}from"./transform.aea72fbe.js";import{Q as De}from"./QCheckbox.43d0ba88.js";import{u as Re,a as Ve}from"./use-dark.03719e33.js";const Ue=g("div",{class:"q-space"});var It=ae({name:"QSpace",setup(){return()=>Ue}});const Me=re({name:"AssignmentStatus",props:{},setup(e){return{reStore:he(),aid:c("-"),ck:c("-"),defaultExpanded:c(!0),assignmentTitle:c("-"),pageTitle:c("-"),pctComplete:c(0),points:c(0),goal:c(283),pgIdx:c(0),pgTot:c(0),imgIdx:c(0),imgTot:c(0),imgFit:c("-"),guideWords:c("-"),mapCoords:c("36.11,-115.17"),pageid:c("-"),pctReplace:c("-"),props:e}},mounted(){console.log(this.props);try{const e=this.reStore.courses.aid,n=this.reStore.courses.ck,h=this.reStore.courses[n].assignments[e];this.goal=h.goal,this.assignmentTitle=h.title,this.pgTot=h.pages.length,this.points=h.points}catch{}M(this.reStore.assignmentStatus,async(e,n)=>{console.log("watcher ",e,n),this.ck!=e.ck?(this.points=0,this.goal=e.goal):(this.points=e.points,this.goal=e.goal),this.pctComplete=parseInt(parseFloat(e.points)/parseFloat(e.goal)*100),this.assignmentTitle=e.assignmentTitle,this.pageTitle=e.pageTitle,this.pgIdx=e.pgIdx;try{this.pgTot=this.reStore.courses[this.reStore.ck].assignments[this.reStore.aid].pages.length}catch(h){console.log(h),this.pgTot=0}this.imgIdx=e.imgIdx;try{this.imgTot=this.reStore.page.imgs.length}catch{this.imgTot=0}this.imgFit=e.imgFit,this.guideWords=e.guideWords,this.mapCoords=e.mapCoords,this.pageid=e.pageid,this.ck=e.ck,this.aid=e.aid,this.pctReplace=e.pctReplace})},methods:{speak(){console.log("AssignmentStatus.speak"),this.reStore.speak()},mapCB(){const e="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(e,"_blank")},cycleFitMode(){const e=["scale-down","cover"];let n=e.indexOf(this.imgFit);n+=1,n>e.length-1&&(n=0),this.imgFit=e[n],this.reStore.page.imgFit=this.imgFit,this.reStore.assignmentStatus.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgTot-1?0:this.imgIdx+1,console.log("AssignmentStatus nextImg",this.imgIdx,this.imgTot),this.reStore.setStatus("imgIdx",this.imgIdx)},toggleText(){U("#slideTextDiv").classed("hidden")===!0?U("#slideTextDiv").classed("hidden",!1):U("#slideTextDiv").classed("hidden",!0)},loadURL(e){console.log("loadURL ",e),window.open(e,"_blank")}}}),We={class:"q-pa-md",style:{"max-width":"350px"}},He={key:0},Je={key:0},Ye={style:{border:"0px solid gray","border-radius":"5px"},class:"q-my-md"},Ge={width:"100%"},Xe=d("td",null,"Page Title",-1),Ze={style:{width:"50%"}},Oe=d("td",null,"WP Page ID",-1),je={style:{width:"50%"}},et={key:0},tt=d("td",null,"Page Language",-1),it={style:{width:"50%"}},lt=d("td",null,"Current Page",-1),at=d("td",null,"Page is Custom",-1),rt={style:{width:"50%"},class:"ptr"},nt=d("td",null,"Current Image",-1),st={class:"float-left"},ot=d("td",null,"Location",-1),dt={style:{width:"50%"},class:""},ct=d("td",null,"Speak Text",-1);function ut(e,n,h,q,b,I){return A(),F("div",We,[m(ue,{bordered:"",class:"rounded-borders"},{default:y(()=>[m(oe,{modelValue:e.defaultExpanded,"onUpdate:modelValue":n[4]||(n[4]=_=>e.defaultExpanded=_)},{header:y(()=>[m(B,{avatar:""},{default:y(()=>[m(se,{size:"md",icon:"info",color:"positive","text-color":"white"})]),_:1}),m(B,null,{default:y(()=>[P(" Page Info ")]),_:1})]),default:y(()=>[this.reStore.page?(A(),F("span",He,[this.reStore.page.imgs&&this.reStore.page.imgs[this.reStore.courses.imgIdx]?(A(),F("span",Je,[m(Ne,{src:this.reStore.page.imgs[this.imgIdx].url,onClick:n[0]||(n[0]=_=>this.reStore.router.push("/teacher/editor"))},null,8,["src"])])):V("",!0),m(ce,{flat:""},{default:y(()=>[m(de,null,{default:y(()=>[d("div",Ye,[d("table",Ge,[d("tr",null,[Xe,d("td",Ze,p(this.reStore.page.pageTitle),1)]),d("tr",null,[Oe,d("td",je,[P(p(this.reStore.page.pageid)+" ",1),this.reStore.page.type?(A(),F("span",et,"["+p(this.reStore.page.type)+"]",1)):V("",!0)])]),d("tr",null,[tt,d("td",it,p(this.reStore.page.langVoiceKey),1)]),d("tr",null,[lt,d("td",{style:{width:"50%"},class:"ptr",onClick:n[1]||(n[1]=(..._)=>this.toggleText&&this.toggleText(..._))},p(this.reStore.courses.pgIdx+1)+" / "+p(this.pgTot),1)]),d("tr",null,[at,d("td",rt,p(this.reStore.page.isCustom),1)]),d("tr",null,[nt,d("td",{style:{width:"50%"},class:"ptr",onClick:n[2]||(n[2]=(..._)=>this.nextImg&&this.nextImg(..._))},[d("span",st,p(this.imgIdx+1)+" / "+p(this.reStore.page.imgs.length),1)])]),d("tr",null,[ot,d("td",dt,[m(ee,{round:"",color:"secondary",class:"ptr",icon:"place",onClick:this.mapCB},{default:y(()=>[m(ze,null,{default:y(()=>[P(p(this.mapCoords.slice(0,13)),1)]),_:1})]),_:1},8,["onClick"])])]),d("tr",null,[ct,d("td",null,[m(ee,{round:"",color:"secondary",class:"",icon:"volume_up",onClick:n[3]||(n[3]=_=>this.speak())})])])])])]),_:1})]),_:1})])):V("",!0)]),_:1},8,["modelValue"])]),_:1})])}var Kt=ne(Me,[["render",ut]]);const ht=["none","strict","leaf","leaf-filtered"];var ft=ae({name:"QTree",props:{...Re,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>ht.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:n,emit:h}){const{proxy:q}=$e(),{$q:b}=q,I=Ve(e,b),_=c({}),K=c(e.ticked||[]),x=c(e.expanded||[]);let L={};Fe(()=>{L={}});const fe=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(I.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),W=S(()=>e.selected!==void 0),ge=S(()=>e.icon||b.iconSet.tree.icon),H=S(()=>e.controlColor||e.color),$=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),me=S(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),ke=S(()=>e.filterMethod!==void 0?e.filterMethod:(i,l)=>{const t=l.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(t)>-1}),v=S(()=>{const i={},l=(t,r)=>{const a=t.tickStrategy||(r?r.tickStrategy:e.tickStrategy),o=t[e.nodeKey],u=t[e.childrenKey]&&t[e.childrenKey].length>0,T=t.disabled!==!0&&W.value===!0&&t.selectable!==!1,k=t.disabled!==!0&&t.expandable!==!1,Ke=a!=="none",w=a==="strict",O=a==="leaf-filtered",D=a==="leaf"||a==="leaf-filtered";let R=t.disabled!==!0&&t.tickable!==!1;D===!0&&R===!0&&r&&r.tickable!==!0&&(R=!1);let C=t.lazy;C===!0&&_.value[o]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(C=_.value[o]);const s={key:o,parent:r,isParent:u,lazy:C,disabled:t.disabled,link:t.disabled!==!0&&(T===!0||k===!0&&(u===!0||C===!0)),children:[],matchesFilter:e.filter?ke.value(t,e.filter):!0,selected:o===e.selected&&T===!0,selectable:T,expanded:u===!0?x.value.includes(o):!1,expandable:k,noTick:t.noTick===!0||w!==!0&&C&&C!=="loaded",tickable:R,tickStrategy:a,hasTicking:Ke,strictTicking:w,leafFilteredTicking:O,leafTicking:D,ticked:w===!0?K.value.includes(o):u===!0?!1:K.value.includes(o)};if(i[o]=s,u===!0&&(s.children=t[e.childrenKey].map(f=>l(f,s)),e.filter&&(s.matchesFilter!==!0?s.matchesFilter=s.children.some(f=>f.matchesFilter):s.noTick!==!0&&s.disabled!==!0&&s.tickable===!0&&O===!0&&s.children.every(f=>f.matchesFilter!==!0||f.noTick===!0||f.tickable!==!0)===!0&&(s.tickable=!1)),s.matchesFilter===!0&&(s.noTick!==!0&&w!==!0&&s.children.every(f=>f.noTick)===!0&&(s.noTick=!0),D))){if(s.ticked=!1,s.indeterminate=s.children.some(f=>f.indeterminate===!0),s.tickable=s.tickable===!0&&s.children.some(f=>f.tickable),s.indeterminate!==!0){const f=s.children.reduce((j,Ae)=>Ae.ticked===!0?j+1:j,0);f===s.children.length?s.ticked=!0:f>0&&(s.indeterminate=!0)}s.indeterminate===!0&&(s.indeterminateNextState=s.children.every(f=>f.tickable!==!0||f.ticked!==!0))}return s};return e.nodes.forEach(t=>l(t,null)),i});M(()=>e.ticked,i=>{K.value=i}),M(()=>e.expanded,i=>{x.value=i});function Q(i){const l=[].reduce,t=(r,a)=>{if(r||!a)return r;if(Array.isArray(a)===!0)return l.call(Object(a),t,r);if(a[e.nodeKey]===i)return a;if(a[e.childrenKey])return t(null,a[e.childrenKey])};return t(null,e.nodes)}function ye(){return K.value.map(i=>Q(i))}function _e(){return x.value.map(i=>Q(i))}function ve(i){return i&&v.value[i]?v.value[i].expanded:!1}function pe(){e.expanded!==void 0?h("update:expanded",[]):x.value=[]}function J(){const i=x.value,l=t=>{t[e.childrenKey]&&t[e.childrenKey].length>0&&t.expandable!==!1&&t.disabled!==!0&&(i.push(t[e.nodeKey]),t[e.childrenKey].forEach(l))};e.nodes.forEach(l),e.expanded!==void 0?h("update:expanded",i):x.value=i}function N(i,l,t=Q(i),r=v.value[i]){if(r.lazy&&r.lazy!=="loaded"){if(r.lazy==="loading")return;_.value[i]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),h("lazyLoad",{node:t,key:i,done:a=>{_.value[i]="loaded",t[e.childrenKey]=Array.isArray(a)===!0?a:[],Qe(()=>{const o=v.value[i];o&&o.isParent===!0&&Y(i,!0)})},fail:()=>{delete _.value[i],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else r.isParent===!0&&r.expandable===!0&&Y(i,l)}function Y(i,l){let t=x.value;const r=e.expanded!==void 0;if(r===!0&&(t=t.slice()),l){if(e.accordion&&v.value[i]){const a=[];v.value[i].parent?v.value[i].parent.children.forEach(o=>{o.key!==i&&o.expandable===!0&&a.push(o.key)}):e.nodes.forEach(o=>{const u=o[e.nodeKey];u!==i&&a.push(u)}),a.length>0&&(t=t.filter(o=>a.includes(o)===!1))}t=t.concat([i]).filter((a,o,u)=>u.indexOf(a)===o)}else t=t.filter(a=>a!==i);r===!0?h("update:expanded",t):x.value=t}function xe(i){return i&&v.value[i]?v.value[i].ticked:!1}function E(i,l){let t=K.value;const r=e.ticked!==void 0;r===!0&&(t=t.slice()),l?t=t.concat(i).filter((a,o,u)=>u.indexOf(a)===o):t=t.filter(a=>i.includes(a)===!1),r===!0&&h("update:ticked",t)}function Se(i,l,t){const r={tree:q,node:i,key:t,color:e.color,dark:I.value};return le(r,"expanded",()=>l.expanded,a=>{a!==l.expanded&&N(t,a)}),le(r,"ticked",()=>l.ticked,a=>{a!==l.ticked&&E([t],a)}),r}function G(i){return(e.filter?i.filter(l=>v.value[l[e.nodeKey]].matchesFilter):i).map(l=>qe(l))}function be(i){if(i.icon!==void 0)return g(te,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const l=i.img||i.avatar;if(l)return g("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:l})}function Te(){h("afterShow")}function Ce(){h("afterHide")}function qe(i){const l=i[e.nodeKey],t=v.value[l],r=i.header&&n[`header-${i.header}`]||n["default-header"],a=t.isParent===!0?G(i[e.childrenKey]):[],o=a.length>0||t.lazy&&t.lazy!=="loaded";let u=i.body&&n[`body-${i.body}`]||n["default-body"];const T=r!==void 0||u!==void 0?Se(i,t,l):null;return u!==void 0&&(u=g("div",{class:"q-tree__node-body relative-position"},[g("div",{class:$.value},[u(T)])])),g("div",{key:l,class:`q-tree__node relative-position q-tree__node--${o===!0?"parent":"child"}`},[g("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:k=>{Z(i,t,k)},onKeypress(k){Ee(k)!==!0&&(k.keyCode===13?Z(i,t,k,!0):k.keyCode===32&&z(i,t,k,!0))}},[g("div",{class:"q-focus-helper",tabindex:-1,ref:k=>{L[t.key]=k}}),t.lazy==="loading"?g(we,{class:"q-tree__spinner",color:H.value}):o===!0?g(te,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:ge.value,onClick(k){z(i,t,k)}}):null,t.hasTicking===!0&&t.noTick!==!0?g(De,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:H.value,dark:I.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:ie,"onUpdate:modelValue":k=>{Ie(t,k)}}):null,g("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?me.value:$.value)},[r?r(T):[be(i),g("div",i[e.labelKey])]])]),o===!0?e.noTransition===!0?g("div",{class:"q-tree__node-collapsible"+$.value,key:`${l}__q`},[u,g("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?a:null)]):g(Le,{duration:e.duration,onShow:Te,onHide:Ce},()=>Pe(g("div",{class:"q-tree__node-collapsible"+$.value,key:`${l}__q`},[u,g("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},a)]),[[Be,t.expanded]])):u])}function X(i){const l=L[i];l&&l.focus()}function Z(i,l,t,r){r!==!0&&X(l.key),W.value&&l.selectable?e.noSelectionUnset===!1?h("update:selected",l.key!==e.selected?l.key:null):l.key!==e.selected&&h("update:selected",l.key===void 0?null:l.key):z(i,l,t,r),typeof i.handler=="function"&&i.handler(i)}function z(i,l,t,r){t!==void 0&&ie(t),r!==!0&&X(l.key),N(l.key,!l.expanded,i,l)}function Ie(i,l){if(i.indeterminate===!0&&(l=i.indeterminateNextState),i.strictTicking)E([i.key],l);else if(i.leafTicking){const t=[],r=a=>{a.isParent?(l!==!0&&a.noTick!==!0&&a.tickable===!0&&t.push(a.key),a.leafTicking===!0&&a.children.forEach(r)):a.noTick!==!0&&a.tickable===!0&&(a.leafFilteredTicking!==!0||a.matchesFilter===!0)&&t.push(a.key)};r(i),E(t,l)}}return e.defaultExpandAll===!0&&J(),Object.assign(q,{getNodeByKey:Q,getTickedNodes:ye,getExpandedNodes:_e,isExpanded:ve,collapseAll:pe,expandAll:J,setExpanded:N,isTicked:xe,setTicked:E}),()=>{const i=G(e.nodes);return g("div",{class:fe.value},i.length===0?e.filter?e.noResultsLabel||b.lang.tree.noResults:e.noNodesLabel||b.lang.tree.noNodes:i)}}});const gt=re({name:"DocumentationComponent",setup(){return{reStore:he(),selected:c(null),docTree:[{label:"Welcome",icon:"waving_hand",children:[{label:"What is Reading Edge?"},{label:"Important concepts"}]},{label:"Demo Assignments",icon:"collections_bookmark",children:[{label:"Things to point out"}]},{label:"Your Account",icon:"person",children:[{label:"Why login?"},{label:"Teacher and Student"},{label:"Courses and Assignments"},{label:"Preferences"}]},{label:"Assignment Builder",icon:"build",children:[{label:"Assignment Pieces"},{label:"Assignment Flow"}]},{label:"History of Reading Edge",icon:"history",children:[{label:"Previous incarnations"}]}]}},methods:{updateSelected(e){console.log("updateSelected ",e),e?(e=e.toLowerCase().replace("?","").replaceAll(" ","_"),this.reStore.router.push(`/doc/${e}`)):this.reStore.router.push("/doc/welcome")}}}),mt={class:"q-pa-md",style:{"max-width":"350px"}};function kt(e,n,h,q,b,I){return A(),F("div",mt,[m(ue,{bordered:"",class:"rounded-borders"},{default:y(()=>[m(oe,null,{header:y(()=>[m(B,{avatar:""},{default:y(()=>[m(se,{size:"md",icon:"article",color:"positive","text-color":"white"})]),_:1}),m(B,null,{default:y(()=>[P(" Documentation ")]),_:1})]),default:y(()=>[m(ce,null,{default:y(()=>[m(de,null,{default:y(()=>[m(ft,{nodes:this.docTree,selected:e.selected,"onUpdate:selected":[n[0]||(n[0]=_=>e.selected=_),this.updateSelected],"node-key":"label","no-connectors":""},null,8,["nodes","selected","onUpdate:selected"])]),_:1})]),_:1})]),_:1})]),_:1})])}var At=ne(gt,[["render",kt]]);export{Kt as A,At as D,It as Q};
