import{d as v,_ as C,r as m,o as a,E as n,a as e,w as o,I as _,V as D,Z as S,F as r,G as i,ao as g,v as $,P as I,c as B,Q as c}from"./index.e70c2e77.js";import{Q as b}from"./QSpace.c4ebbb2c.js";import{Q as h}from"./QCard.bd55a907.js";import{a as T,Q as q}from"./QBar.fe8d42cc.js";import{a as L,Q as U,b as V}from"./QDrawer.6bd605f6.js";import{Q as A,a as F}from"./QLayout.35edb17e.js";import{u as x}from"./store.7484bf0f.js";import{a as O}from"./QToggle.e2183978.js";import{T as N,P as G}from"./PreferencesComponent.78d689cc.js";import{Q as R}from"./QList.fccc5dca.js";import{a as f}from"./ClosePopup.03ded20c.js";import{a as z}from"./QKnob.1bb24903.js";import"./use-dark.be8d095a.js";import"./touch.190992d1.js";import"./use-prevent-scroll.31fdb8c0.js";import"./scroll.1cf5a8e4.js";import"./TouchPan.b4519cd0.js";import"./firebase.8c8e307e.js";import"./axios.84ae42e4.js";import"./QExpansionItem.06c36c73.js";import"./uid.42677368.js";import"./transform.9aa67f3e.js";import"./selectAll.be636dd1.js";const E=v({name:"ImagePager",components:{TileComponent:N},props:[],setup(){return{store:x()}},methods:{}}),H={key:0};function j(s,t,w,y,k,Q){const d=m("TileComponent");return a(),n(_,null,[e(T,null,{default:o(()=>[e(O,{label:"Image Fit",modelValue:this.store.imgFit,"onUpdate:modelValue":t[0]||(t[0]=l=>this.store.imgFit=l)},null,8,["modelValue"])]),_:1}),this.store.currentPage?(a(),n("span",H,[(a(!0),n(_,null,D(this.store.currentPage.imgs,(l,p)=>(a(),n("span",{key:p},[e(d,{tileData:l,imgUrl:l.url,targetUrl:null,ck:this.store.ck,aid:this.store.aid,pgIdx:this.store.pgIdx,imgIdx:p,tileType:"image"},null,8,["tileData","imgUrl","ck","aid","pgIdx","imgIdx"])]))),128))])):S("",!0)],64)}var M=C(E,[["render",j]]);const Z=v({name:"ScoreCard",setup(){return{store:x()}},mounted(){console.log("ScoreCard mounted")},methods:{dummy(){console.log("dummy")}}}),J={class:"q-pa-md",style:{"max-width":"350px"}},K={class:"flex justify-center atit q-ma-sm q-pa-sm"},W={class:"text-h6"},X={key:0},Y={key:1},ee=r("div",{class:"text-h6"},"Current Score",-1),te={width:"100%",class:"text-h6"},oe=r("tr",null,[r("th",{style:{"text-align":"center"}},"Points"),i(),r("th",{style:{"text-align":"center"}},"Goal")],-1),re={style:{"text-align":"center"}},se={style:{"text-align":"center"}};function ae(s,t,w,y,k,Q){return a(),n(_,null,[r("div",J,[e(R,{bordered:"",class:"rounded-borders"},{default:o(()=>[r("span",K,[r("div",W,[i("My Points Balance: "),this.store.authenticated?(a(),n("span",X,g(this.store.userSnapshot.profile.points),1)):(a(),n("span",Y,"0"))])])]),_:1})]),e(h,{flat:""},{default:o(()=>[e(f,null,{default:o(()=>[e(h,{flat:"",style:{"max-width":"300px",border:"1px solid gray","border-radius":"5px"}},{default:o(()=>[e(f,{align:"center"},{default:o(()=>[ee]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:o(()=>[e(z,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",value:this.store.currentAssignment.points,min:0,max:this.goal,modelValue:this.store.currentAssignment.points,"onUpdate:modelValue":t[0]||(t[0]=d=>this.store.currentAssignment.points=d)},null,8,["value","max","modelValue"]),r("table",te,[oe,r("tr",null,[r("td",re,g(this.store.currentAssignment.points),1),i(),r("td",se,g(this.store.currentAssignment.goal),1)])])]),_:1})]),_:1})]),_:1})]),_:1})],64)}var ne=C(Z,[["render",ae]]);const le=v({name:"ViewerLayout",components:{ImagePager:M,ScoreCard:ne,PreferencesComponent:G},setup(){const s=$(!1),t=$(!1);return{store:x(),leftDrawerOpen:s,toggleLeftDrawer(){s.value=!s.value},rightDrawerOpen:t,toggleRightDrawer(){t.value=!t.value}}},mounted(){I.isActive},methods:{goBack(){this.store.role==="student"?this.store.router.push("/courses"):this.store.router.push("/assignments")}}}),ie=r("br",null,null,-1),de=r("br",null,null,-1);function ue(s,t,w,y,k,Q){const d=m("ImagePager"),l=m("ScoreCard"),p=m("PreferencesComponent"),P=m("router-view");return a(),B(A,{view:"hHh lpR fFf"},{default:o(()=>[e(U,{bordered:"",class:"bg-positive text-white"},{default:o(()=>[e(L,null,{default:o(()=>[e(c,{flat:"",round:"",icon:"menu",onClick:s.toggleLeftDrawer},null,8,["onClick"]),e(b),e(c,{flat:"",round:"",icon:"north",onClick:t[0]||(t[0]=u=>this.goBack())},{default:o(()=>[e(q,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:o(()=>[e(h,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:o(()=>[i(" Go back / up a level in the "),ie,i("course-assignment-page "),de,i("hierarchy ")]),_:1})]),_:1})]),_:1}),e(b),e(c,{flat:"",round:"",icon:"logout",onClick:t[1]||(t[1]=u=>this.store.logout())}),e(c,{flat:"",round:"",icon:"menu",onClick:s.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),e(V,{"show-if-above":"",modelValue:s.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=u=>s.leftDrawerOpen=u),side:"left",bordered:""},{default:o(()=>[e(d)]),_:1},8,["modelValue"]),e(V,{"show-if-above":"",modelValue:s.rightDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=u=>s.rightDrawerOpen=u),side:"right",bordered:""},{default:o(()=>[e(l),e(p)]),_:1},8,["modelValue"]),e(F,null,{default:o(()=>[e(P)]),_:1})]),_:1})}var qe=C(le,[["render",ue]]);export{qe as default};
