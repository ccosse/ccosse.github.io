import{e as G,g as j,h as O,i as E,_ as W,d as F,v as p,n as J,o as m,E as h,a as e,w as t,I as A,r as z,aI as M,U as k,Q as r,F as o,G as n,c as C,ao as u,Y as V,H as P,Z as b,V as B,W as H}from"./index.e70c2e77.js";import{Q as v,a as f,b as S,C as w}from"./ClosePopup.03ded20c.js";import{Q as d}from"./QCard.bd55a907.js";import{Q as K}from"./QKnob.1bb24903.js";import{Q as Y}from"./QSelect.d20bf44f.js";import{Q as x}from"./QInput.56deb150.js";import{c as Z,Q as I,a as N,b as X,d as T}from"./copy-to-clipboard.7f7d0fa6.js";import{Q as g,a as Q}from"./QBar.fe8d42cc.js";import{Q as ee}from"./QExpansionItem.06c36c73.js";import{Q as te}from"./QSpace.c4ebbb2c.js";import{Q as se}from"./QPage.95e6af8a.js";import{u as le}from"./store.7484bf0f.js";import"./transform.9aa67f3e.js";import{s as $}from"./selectAll.be636dd1.js";import"./use-prevent-scroll.31fdb8c0.js";import"./scroll.1cf5a8e4.js";import"./use-dark.be8d095a.js";import"./TouchPan.b4519cd0.js";import"./touch.190992d1.js";import"./QMenu.83fefad0.js";import"./uid.42677368.js";import"./firebase.8c8e307e.js";import"./axios.84ae42e4.js";var L=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(a,{slots:l}){const _=j(()=>{const q=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(U=>a[U]===!0).map(U=>`q-btn-group--${U}`).join(" ");return`q-btn-group row no-wrap${q.length>0?" "+q:""}`+(a.spread===!0?" q-btn-group--spread":" inline")});return()=>O("div",{class:_.value},E(l.default))}});const oe=F({name:"AssignmentsDashboard",setup(){return{store:le(),slide:p(-1),showText:p(!1),showCap:p(!1),showGoal:p(!1),showPct:p(!1),showLanguage:p(!1),showAddImage:p(!1),confirm:p(!1),carousel:p(""),flagName:p(""),newImageUrl:p(""),langNames:p(["en","th","es","fr","it","de","zh","ja","sw","pt","ru","id","ke"])}},mounted(){console.log("AssignmentsDashboard mounted"),this.slide=this.store.pgIdx,$("#slideTextDiv").style("font-size",this.store.userSnapshot.preferences.pageFontSize+"pt"),J(this.store.aid,async(a,l)=>{this.slide=-1,this.store.pgIdx=-1})},methods:{bookmarkImage(){this.store.saveImage()},bookmarkPage(){this.store.saveBookmark()},addImageCB(){const a={url:this.newImageUrl,cap:"Caption"};this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgs.push(a);const l=this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgs.length;this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgIdx=l-1},copyImageUrl(a){Z(a),this.store.notify("Current image url copied to clipboard")},langLinkCB(a){console.log(a.url),window.open(a.url,"_blank")},wpCB(a){const l=this.store.langVoices[this.store.currentPage.langVoiceKey].langName,_="https://"+l+".wikipedia.org/wiki?curid="+a;window.open(_,"_blank")},mapCB(){const a="https://maps.google.com/?ll="+this.store.currentPage.mapCoords.split(",")[0]+","+this.store.currentPage.mapCoords.split(",")[1];window.open(a,"_blank")},viewerCB(){console.log("AssignmentDash viewerCB setting pgIdx 0 before /viewwer"),this.store.pgIdx=0,this.store.router.replace("/viewer")},langChangeCB(a){console.log("langChangeCB",a);const l=this.flagName;console.log("turning off ",l),$(".pfi").classed(l,!1),console.log(this.store.langVoices),this.flagName=this.store.langVoices[a].flagName,console.log("turning on ",this.flagName),$(".pfi").classed(this.flagName,!0)},setAssignmentCoverURL(){try{this.store.currentAssignment.coverUrl=this.store.currentAssignment.pages[this.store.pgIdx].imgs[this.store.imgIdx].url}catch(a){console.log(a)}},editPageText(a){this.store.pgIdx=a,this.showText=!0},editImageCaption(){this.showCap=!0},incImgIdx(a){a.imgIdx+1>a.imgs.length-1?a.imgIdx=0:a.imgIdx+=1,this.store.imgIdx=a.imgIdx},decImgIdx(a){a.imgIdx-1<0?a.imgIdx=a.imgs.length-1:a.imgIdx-=1,this.store.imgIdx=a.imgIdx},test(a,l){console.log("test set ",a,l);const _=this.store.currentAssignment.pages[a];try{_.imgIdx=l}catch(q){console.log(q)}},insertPage(){const a=JSON.parse(JSON.stringify(this.store.pageTemplate));a.langVoiceKey=this.store.userSnapshot.preferences.langVoiceKey,a.pctReplace=this.store.userSnapshot.preferences.pctReplace,this.store.currentAssignment.pages.splice(this.store.pgIdx,0,a)},appendPage(){const a=JSON.parse(JSON.stringify(this.store.pageTemplate));a.langVoiceKey=this.store.userSnapshot.preferences.langVoiceKey,a.pctReplace=this.store.userSnapshot.preferences.pctReplace,this.store.currentAssignment.pages.push(a),this.carousel.goTo(this.store.currentAssignment.pages.length-1)},removePage(){this.store.currentAssignment.pages.splice(this.store.pgIdx,1),this.store.currentAssignment.pages.length<=this.store.pgIdx&&(this.store.pgIdx-=1,this.slide=this.store.pgIdx)},slideChanged(a){this.store.pgIdx=a,a>-1&&(this.store.imgIdx=this.store.currentAssignment.pages[a].imgIdx)},slideTransitioned(a,l){console.log(a,l);const _=this.store.currentAssignment.pages[this.store.pgIdx].langVoiceKey;console.log("slideChanged calling langChangeCB with ",_),this.langChangeCB(_)}}}),ae=o("span",{class:"q-ml-sm"},"Confirm delete current page?",-1),ne=o("div",{class:"text-h6"},"Points Goal of Assignment",-1),ie=o("div",{class:"text-h6"},"Set Lang-Voice This Page",-1),re=o("div",null," Play with this but don't save as a different language, ie change it back to whatever it originally was. This is because the Wikipedia page link is coupled to the language. By changing this you can speak English with a French accent, for example, but saving the page with a different language will prevent the page from displaying. It is left on the user to ensure the original language is ultimately saved. ",-1),de=o("span",{class:"on-right pfi"},null,-1),ue={width:"100%",class:"z-max"},me=o("div",{class:"text-h6"},"Percent Replace",-1),ge={key:0},ce={style:{"background-color":"#333"}},pe=o("td",{class:"q-px-md"},"Course",-1),he={class:"q-px-md"},fe=o("tr",null,[o("td",{class:"q-px-md"},"Assignment"),o("td",{class:"q-px-md"},"---")],-1),_e={key:1,class:"justify-center absolute-top"},xe={class:"text-panel justify-center q-mx-md q-mb-xs q-mt-md"},ye={class:"cursor-pointer"},ke={class:"q-px-md row content-center"},ve={class:"embed-panel assignment",style:{"z-index":"5",height:"30vh","max-height":"30vh"}},we={class:"q-px-lg row content-start"},Ce={class:"meta-table"},Ve=o("th",{class:"key"},"Title",-1),be={class:"val"},Ie={class:"cursor-pointer"},qe=o("th",{class:"key"},"Cover Url",-1),Ue={class:"val"},Ae={class:"cursor-pointer"},Pe=o("th",{class:"key"},"Pages",-1),Se={class:"val"},Be=o("th",{class:"key"},"Goal",-1),Te={class:"val cursor-pointer"},Qe=o("th",{class:"key"},"Created",-1),$e={class:"val"},ze=o("th",{class:"key"},"Updated",-1),Ke={class:"val"},Ne={class:"embed-panel col-12 col-md-4 assignment",style:{"z-index":"5",height:"50vh","max-height":"50vh"}},Le={class:"q-px-sm row content-start"},De={dense:"",class:"meta-table",width:"100%"},Re=o("td",{class:"key"},"Title",-1),Ge={class:"val cursor-pointer"},je={class:"no-wrap"},Oe=o("td",{class:"key"},"Replace %",-1),Ee={class:"val cursor-pointer"},We=o("td",{class:"key"},"Images",-1),Fe={class:"val"},Je=o("td",{class:"key"},"Language",-1),Me={class:"pfi"},He=o("tr",null,[o("td",{class:"key",colSpan:"2"},"More Page Actions")],-1),Ye={colSpan:"2"},Ze={class:"text-center"},Xe={class:"text-primary",colSpan:"2"},et=["onClick"],tt={key:0,style:{cursor:"pointer"}},st={dense:"",class:"embed-panel col-12 col-md-6 on-right assignment",style:{"z-index":"5",height:"50vh","max-height":"50vh"}},lt={style:{height:"30px"}},ot={key:0,class:"ellipsis"},at={key:1,class:"ellipsis"},nt={class:"ellipsis"},it={style:{}},rt={class:"text-white q-px-md",contenteditable:"true",id:"slideTextDiv",style:{overflow:"auto"}},dt={class:"",style:{width:"100px"}},ut={class:"control-panel q-pa-sm row no-wrap flex flex-center assignment",style:{overflow:"auto"}},mt=o("br",null,null,-1),gt={key:1,class:"on-right flex flex-center"};function ct(a,l,_,q,U,pt){const D=z("router-link"),R=z("nobr");return m(),h(A,null,[e(v,{modelValue:a.confirm,"onUpdate:modelValue":l[1]||(l[1]=s=>a.confirm=s),persistent:"",class:"z-max"},{default:t(()=>[e(d,null,{default:t(()=>[e(f,{class:"row items-center"},{default:t(()=>[e(M,{icon:"delete",color:"primary","text-color":"white"}),ae]),_:1}),e(S,{align:"right",class:"text-white"},{default:t(()=>[k(e(r,{flat:"",label:"Cancel"},null,512),[[w]]),k(e(r,{flat:"",label:"Delete",onClick:l[0]||(l[0]=s=>this.removePage())},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,{modelValue:a.showGoal,"onUpdate:modelValue":l[3]||(l[3]=s=>a.showGoal=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,{align:"center"},{default:t(()=>[ne]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:t(()=>[e(K,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.store.currentAssignment.goal,"onUpdate:modelValue":l[2]||(l[2]=s=>this.store.currentAssignment.goal=s)},null,8,["thickness","modelValue"])]),_:1}),e(S,{align:"center",class:"text-white"},{default:t(()=>[k(e(r,{flat:"",label:"Done"},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,{modelValue:a.showLanguage,"onUpdate:modelValue":l[5]||(l[5]=s=>a.showLanguage=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,null,{default:t(()=>[ie,re,de]),_:1}),e(f,{class:"q-pt-none"},{default:t(()=>[o("table",ue,[o("tr",null,[o("td",null,[e(Y,{class:"z-max",outlined:"",modelValue:this.store.currentPage.langVoiceKey,"onUpdate:modelValue":[l[4]||(l[4]=s=>this.store.currentPage.langVoiceKey=s),this.langChangeCB],options:this.store.userSnapshot.preferences.langVoices},null,8,["modelValue","options","onUpdate:modelValue"])])])])]),_:1}),e(S,{align:"right",class:"text-white"},{default:t(()=>[k(e(r,{outline:"",flat:"",label:"Done"},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,{modelValue:a.showPct,"onUpdate:modelValue":l[7]||(l[7]=s=>a.showPct=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,{align:"center"},{default:t(()=>[me]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:t(()=>[e(K,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.store.currentPage.pctReplace,"onUpdate:modelValue":l[6]||(l[6]=s=>this.store.currentPage.pctReplace=s)},null,8,["thickness","modelValue"])]),_:1}),e(S,{align:"center",class:"text-white"},{default:t(()=>[k(e(r,{flat:"",label:"Done"},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,{modelValue:a.showText,"onUpdate:modelValue":l[10]||(l[10]=s=>a.showText=s)},{default:t(()=>[o("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px"}},{default:t(()=>[e(x,{modelValue:this.store.currentPage.pageText,"onUpdate:modelValue":l[8]||(l[8]=s=>this.store.currentPage.pageText=s),type:"textarea",clearable:"",dense:"",autofocus:"",filled:"",autogrow:"",counter:""},null,8,["modelValue"]),e(r,{onClick:l[9]||(l[9]=s=>a.showText=!1)},{default:t(()=>[n("Close")]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e(v,{modelValue:a.showCap,"onUpdate:modelValue":l[13]||(l[13]=s=>a.showCap=s)},{default:t(()=>[o("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px",height:"200px"}},{default:t(()=>[e(x,{modelValue:this.store.currentPage.imgs[this.store.currentPage.imgIdx].cap,"onUpdate:modelValue":l[11]||(l[11]=s=>this.store.currentPage.imgs[this.store.currentPage.imgIdx].cap=s),type:"textarea",clearable:"",dense:"",autofocus:"",counter:""},null,8,["modelValue"]),e(r,{onClick:l[12]||(l[12]=s=>a.showCap=!1)},{default:t(()=>[n("Close")]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e(v,{modelValue:a.showAddImage,"onUpdate:modelValue":l[15]||(l[15]=s=>a.showAddImage=s)},{default:t(()=>[o("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px",height:"200px"}},{default:t(()=>[e(f,null,{default:t(()=>[n("Enter image url")]),_:1}),e(x,{modelValue:this.newImageUrl,"onUpdate:modelValue":l[14]||(l[14]=s=>this.newImageUrl=s),type:"input",clearable:"",dense:"",autofocus:"",counter:""},null,8,["modelValue"]),k((m(),C(r,null,{default:t(()=>[n("Close")]),_:1})),[[w]]),k((m(),C(r,{onClick:a.addImageCB},{default:t(()=>[n("Add")]),_:1},8,["onClick"])),[[w]])]),_:1})])]),_:1},8,["modelValue"]),e(se,{class:"flex flex-center"},{default:t(()=>[!this.store.aid||this.store.aid===-1?(m(),h("div",ge,[e(d,{flat:"",bordered:"",class:"text-panel q-ma-md"},{default:t(()=>[e(f,null,{default:t(()=>[o("table",ce,[o("tr",null,[pe,o("td",he,[e(D,{to:"/courses",class:"text-white"},{default:t(()=>[n(u(this.store.currentCourse.title),1)]),_:1})])]),fe])]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n(" Please select an assignment ")]),_:1})]),_:1})])):(m(),h("div",_e,[o("div",xe,[n(" Assignment: "),o("span",ye,[n(u(this.store.currentAssignment.title)+" ",1),e(I,{modelValue:this.store.currentAssignment.title,"onUpdate:modelValue":l[16]||(l[16]=s=>this.store.currentAssignment.title=s),"auto-save":"",style:{maxWidth:"320px"}},{default:t(s=>[e(x,{modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(s.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])]),o("div",ke,[e(N,{class:"q-mx-md q-mt-md full-width",animated:"",swipeable:"",thumbnails:"","navigation-position":"top",modelValue:a.slide,"onUpdate:modelValue":[l[34]||(l[34]=s=>a.slide=s),this.slideChanged],infinite:"","control-type":"arrows",ref:"carousel",height:"86vh",onTransition:this.slideTransitioned},{control:t(()=>[e(X,{position:"bottom",offset:[0,0]},{default:t(()=>[o("div",ut,[e(r,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_left",style:P({height:"33.5px",width:"33.5px"}),onClick:l[23]||(l[23]=s=>a.$refs.carousel.previous())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Previous page ")]),_:1})]),_:1})]),_:1},8,["style"]),e(r,{push:"",round:"",class:"on-right dash-button","text-color":"white",icon:"arrow_right",style:P({height:"33.5px",width:"33.5px"}),onClick:l[24]||(l[24]=s=>a.$refs.carousel.next())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Next page ")]),_:1})]),_:1})]),_:1},8,["style"]),this.store.currentAssignment.pages.length>0?(m(),C(r,{key:0,"no-caps":"",class:"dash-button on-right",onClick:l[25]||(l[25]=s=>this.viewerCB()),icon:"smart_display"},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Test assignment in Viewer ")]),_:1})]),_:1})]),_:1})):b("",!0),e(r,{"no-caps":"",class:"dash-button on-right",onClick:l[26]||(l[26]=s=>this.setAssignmentCoverURL()),icon:"wallpaper"},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Use the image currently showing as"),mt,n("the cover image for the assignment ")]),_:1})]),_:1})]),_:1}),e(r,{"no-caps":"",class:"dash-button on-right",onClick:l[27]||(l[27]=s=>this.insertPage())},{default:t(()=>[n("| "),e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Insert new page at current position ")]),_:1})]),_:1})]),_:1}),e(r,{"no-caps":"",icon:"add",class:"dash-button on-right",onClick:l[28]||(l[28]=s=>this.appendPage())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Append a new page ")]),_:1})]),_:1})]),_:1}),e(r,{"no-caps":"",icon:"save",class:"dash-button on-right",onClick:l[29]||(l[29]=s=>this.store.commitCurrentAssignment())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Save assignment to cloud database ")]),_:1})]),_:1})]),_:1}),e(r,{"no-caps":"",icon:"delete",class:"dash-button on-right",onClick:l[30]||(l[30]=s=>this.removePage())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Delete the current page ")]),_:1})]),_:1})]),_:1}),this.store.currentPage?(m(),h("span",gt,[e(N,{class:"hidden",infinite:"",autoplay:this.store.autoplay,style:{height:"44px",width:"95px",backgroundColor:"#3330"},modelValue:this.store.currentPage.imgIdx,"onUpdate:modelValue":l[31]||(l[31]=s=>this.store.currentPage.imgIdx=s)},{default:t(()=>[(m(!0),h(A,null,B(this.store.currentPage.imgs,(s,c)=>(m(),C(T,{key:c,name:c,"img-src":this.store.currentPage.imgs[c].url,onClick:i=>this.test(a.pidx,c)},null,8,["name","img-src","onClick"]))),128))]),_:1},8,["autoplay","modelValue"])])):b("",!0),e(r,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_left",style:P({height:"33.5px",width:"33.5px"}),onClick:l[32]||(l[32]=s=>this.decImgIdx(this.store.currentPage))},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Previous image ")]),_:1})]),_:1})]),_:1},8,["style"]),e(r,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_right",style:P({height:"33.5px",width:"33.5px"}),onClick:l[33]||(l[33]=s=>this.incImgIdx(this.store.currentPage))},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Next image ")]),_:1})]),_:1})]),_:1},8,["style"])])]),_:1})]),default:t(()=>[e(T,{class:"text-panel row content-center justify-center",name:-1,"img-src":this.store.currentAssignment.coverUrl},{default:t(()=>[o("table",ve,[e(Q,null,{default:t(()=>[n("Assignment")]),_:1}),o("tr",null,[o("td",we,[o("table",Ce,[o("tr",null,[Ve,o("td",be,[o("div",Ie,[n(u(this.store.currentAssignment.title)+" ",1),e(I,{modelValue:this.store.courses[this.store.ck].assignments[this.store.aid].title,"onUpdate:modelValue":l[17]||(l[17]=s=>this.store.courses[this.store.ck].assignments[this.store.aid].title=s),"auto-save":""},{default:t(s=>[e(x,{modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(s.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])])]),o("tr",null,[qe,o("td",Ue,[o("div",Ae,[n(" Change "),e(I,{modelValue:this.store.currentAssignment.coverUrl,"onUpdate:modelValue":l[18]||(l[18]=s=>this.store.currentAssignment.coverUrl=s),"auto-save":""},{default:t(s=>[e(x,{modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(s.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])])]),o("tr",null,[Pe,o("td",Se,u(this.store.currentAssignment.pages.length),1)]),o("tr",null,[Be,o("td",Te,[o("span",{onClick:l[19]||(l[19]=s=>this.showGoal=!0)},u(this.store.currentAssignment.goal),1)])]),o("tr",null,[Qe,o("td",$e,u(this.store.currentAssignment.created.split("-")[0]),1)]),o("tr",null,[ze,o("td",Ke,u(this.store.currentAssignment.updated.split("-")[0]),1)])])])])])]),_:1},8,["img-src"]),(m(!0),h(A,null,B(this.store.currentAssignment.pages,(s,c)=>(m(),C(T,{class:"text-panel items-center justify-center row",key:c,name:c,"img-src":s.imgs[s.imgIdx]?s.imgs[s.imgIdx].url:""},{default:t(()=>[o("table",Ne,[e(Q,null,{default:t(()=>[n("Page "+u(c+1)+" / "+u(this.store.currentAssignment.pages.length),1)]),_:2},1024),o("tr",null,[o("td",Le,[o("table",De,[o("tr",null,[Re,o("td",Ge,[o("div",je,[e(R,null,{default:t(()=>[n(u(s.pageTitle.slice(0,25))+" ...",1)]),_:2},1024)]),e(I,{modelValue:s.pageTitle,"onUpdate:modelValue":i=>s.pageTitle=i,"auto-save":""},{default:t(i=>[e(x,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),o("tr",null,[Oe,o("td",Ee,[this.store.currentPage?(m(),C(r,{key:0,dense:"",round:"",flat:"",onClick:l[20]||(l[20]=i=>this.showPct=!0)},{default:t(()=>[n(u(this.store.currentPage.pctReplace)+"% ",1),e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Percentage of words to replace on this page ")]),_:1})]),_:1})]),_:1})):b("",!0)])]),o("tr",null,[We,o("td",Fe,[e(L,{flat:""},{default:t(()=>[e(r,{flat:"",dense:""},{default:t(()=>[n(u(s.imgIdx+1)+"/"+u(s.imgs.length),1)]),_:2},1024),e(r,{flat:"",round:"",dense:"",icon:"add",onClick:l[21]||(l[21]=i=>a.showAddImage=!0)},{default:t(()=>[e(g,null,{default:t(()=>[n("Add an image to this page")]),_:1})]),_:1})]),_:2},1024)])]),o("tr",null,[Je,o("td",{class:"val cursor-pointer",onClick:l[22]||(l[22]=i=>this.showLanguage=!0)},[o("span",Me,[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(u(s.langVoiceKey),1)]),_:2},1024)]),_:2},1024)])])]),He,o("tr",null,[o("td",Ye,[o("div",Ze,[e(L,null,{default:t(()=>[e(r,{dense:"",icon:"content_copy",onClick:i=>this.copyImageUrl(s.imgs[s.imgIdx].url)},null,8,["onClick"]),e(r,{icon:"link",onClick:i=>this.wpCB(s.pageid)},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" View the full Wikipedia article in a new tab ")]),_:1})]),_:1})]),_:2},1032,["onClick"]),e(r,{icon:"place",onClick:this.mapCB},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" View associated location on Google Maps, if applicable ")]),_:1})]),_:1})]),_:1},8,["onClick"]),e(r,{icon:"bookmark",onClick:this.bookmarkImage},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Bookmark the current image ")]),_:1})]),_:1})]),_:1},8,["onClick"]),e(r,{dense:"",icon:"bookmark",onClick:this.bookmarkPage},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Bookmark the current page ")]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:2},1024)])])]),o("tr",null,[o("td",Xe,[e(ee,{label:"Alternate Languages","header-style":{color:"seagreen",padding:"0px 0px"}},{default:t(()=>[(m(!0),h(A,null,B(s.currentLangLinks,(i,y)=>(m(),h("span",{key:y,onClick:ht=>this.langLinkCB(i)},[this.langNames.indexOf(i.lang)>-1?(m(),h("span",tt,[o("u",null,u(i.lang),1),n(",\xA0 ")])):b("",!0)],8,et))),128))]),_:2},1024)])])])])])]),o("table",st,[o("tr",lt,[o("td",null,[e(Q,null,{default:t(()=>[this.store.currentAssignment?(m(),h("span",ot,[n(u(s.pageTitle.slice(0,20))+" ",1),e(I,{modelValue:s.pageTitle,"onUpdate:modelValue":i=>s.pageTitle=i,"auto-save":"",style:{maxWidth:"320px"}},{default:t(i=>[e(x,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):b("",!0),e(te),s.imgs[this.store.imgIdx]&&s.imgs[this.store.imgIdx].cap?(m(),h("span",at,[o("span",nt,[n(u(s.imgs[this.store.imgIdx].cap.slice(0,30))+" ",1),e(I,{modelValue:s.imgs[this.store.imgIdx].cap,"onUpdate:modelValue":i=>s.imgs[this.store.imgIdx].cap=i,"auto-save":"",style:{maxWidth:"320px"}},{default:t(i=>[e(x,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:V(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])])):b("",!0)]),_:2},1024)])]),o("tr",null,[o("td",it,[o("div",rt,[n(u(s.pageText)+" ",1),o("span",dt,[e(r,{dense:"",round:"",class:"speak-button float-right",onClick:i=>this.store.speakText(s.pageText)},{default:t(()=>[e(H,{name:"volume_up",size:"md"})]),_:2},1032,["onClick"])])])])])])]),_:2},1032,["name","img-src"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onTransition"])])]))]),_:1})],64)}var Lt=W(oe,[["render",ct]]);export{Lt as default};
