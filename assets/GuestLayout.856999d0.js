import{e as P,r as h,u as U,_ as B,o as i,an as m,g as t,w as r,ao as E,j as u,ap as l,f as k,k as o,aq as _,ar as q,as as G,i as N,at as w,Q as A,P as y,s as S,l as g}from"./index.c828c6c3.js";import{Q as b}from"./QTooltip.18034685.js";import{A as H,D as K,Q as j}from"./DocumentationComponent.3471d41f.js";import{Q as z,a as F,b as v,c as D,d as I,e as M}from"./QLayout.e8839bfc.js";import{Q as C}from"./QRouteTab.a36e84cd.js";import{Q as W}from"./QTabs.776992bb.js";import{u as O}from"./re-store.cd501dae.js";import{S as J,P as X}from"./ScoreCard.83e8a8cc.js";import{Q as Y,a as Q}from"./QExpansionItem.dea6ae11.js";import{Q as V}from"./QCard.5d6afa29.js";import{Q as Z}from"./QList.9392daa0.js";import{Q as ee}from"./QImg.3e1e341c.js";import"./scroll.91926555.js";import"./QCardSection.f9d46400.js";import"./transform.aea72fbe.js";import"./QCheckbox.38a54b5c.js";import"./use-dark.98cfec29.js";import"./use-form.3bbfefaa.js";import"./use-prevent-scroll.dc91eccf.js";import"./uid.42677368.js";import"./firebase.79bf92f9.js";import"./index.2cf0d985.js";import"./ClosePopup.6dc627a5.js";import"./use-key-composition.d7dab9a1.js";const te=P({name:"DemoAssignmentPager",setup(){return{reStore:O(),course:h(null),defaultOpen:h(!0)}},mounted(){console.log("      DemoAssignmentPager: The purpose of this component is to present       available Demo assignments (from Demo Course) available to try    "),U(this.reStore.courses,async(e,s)=>{console.log("DemoAssignmentPager watcher");const n=e.ck;e.aid;try{console.log("AP setcourse 0",n),n!=="undefined"&&n!==null?this.course=this.reStore.courses[n]:console.log("did not set AP course")}catch(f){console.log("ERROR AssignmentPager ",f)}!this.course&&n?(console.log("AP setcourse 1"),this.course=this.reStore.courses[n]):this.course&&this.course.courseKey!==e.ck&&(console.log("AP setcourse 2"),this.course=this.reStore.courses[n]),console.log("AssignmentPager watcher COURSE",this.course)},{immediate:!0,deep:!0})},methods:{editAssignmentCB(e){console.log("AP editAssigmentCB ",e);const s=this.reStore.courses.ck;this.reStore.loadAssignment(s,e),this.reStore.courses.trigger+=1},newAssignmentCB(){const e=this.reStore.courses.ck;console.log("assignmentCB: ",e),this.reStore.newAssignment(e)},removeAssignmentCB(e){const s=this.reStore.courses.ck;console.log("removeAssignmentCB",s,e),this.reStore.deleteAssignment(s,e),console.log("done")},loadAssignmentCB(e){console.log("AssignmentPager loadAssignmentCB",e);const s=this.reStore.courses.ck;this.reStore.loadAssignment(s,e),this.reStore.courses.trigger+=1,this.reStore.authenticated?this.reStore.router.push("/teacher/assignmenteditor"):this.reStore.router.push("/demo")},autoAwesomeCB(){this.reStore.autoAwesomeCB(this.reStore.ck,this.autoAwesomeGuideWords)}}}),se={key:0,class:"q-pa-md",style:{"max-width":"350px"}},oe=o("td",null,"Course",-1),re={class:"hidden"},ne=o("td",null,"Key",-1),ie=o("td",null,"Enrollment",-1),le=o("td",null,"Assignments",-1),ae={key:0},ue=o("td",null,"Loaded",-1),de={key:0},me={key:1},ce={class:"flex flex-center text-bold q-my-md"},pe={key:0},ge={class:"absolute-top text-center"},he={class:"text-h6"},fe={class:"text-subtitle2"},_e={style:{"font-size":"22pt",width:"100%"},class:"text-center absolute-bottom"},ve={key:0};function Ce(e,s,n,f,$,L){return this.course?(i(),m("div",se,[t(Z,{bordered:"",class:"rounded-borders"},{default:r(()=>[t(Y,{modelValue:e.defaultOpen,"onUpdate:modelValue":s[0]||(s[0]=d=>e.defaultOpen=d)},{header:r(()=>[t(Q,{avatar:""},{default:r(()=>[t(E,{size:"md",color:"positive",icon:"collections"})]),_:1}),t(Q,null,{default:r(()=>[u(l(this.course.title),1)]),_:1})]),default:r(()=>[this.course?(i(),k(V,{key:0,class:"q-pa-md"},{default:r(()=>[o("table",null,[o("tr",null,[oe,u(),o("td",null,l(this.course.title),1)]),o("tr",re,[ne,u(),o("td",null,l(this.course.courseKey),1)]),o("tr",null,[ie,u(),o("td",null,l(Object.keys(this.course.enrollment).length),1)]),o("tr",null,[le,u(),o("td",null,[this.course.assignments?(i(),m("span",ae,l(Object.keys(this.course.assignments).length),1)):_("",!0)])]),o("tr",null,[ue,o("td",null,[this.reStore.courses.aid&&this.course.assignments[this.reStore.courses.aid]?(i(),m("span",de,l(this.course.assignments[this.reStore.courses.aid].title),1)):(i(),m("span",me,"None"))])])])]),_:1})):_("",!0)]),_:1},8,["modelValue"])]),_:1}),o("span",ce,l(this.course.title)+": Assignments",1),this.course&&this.course.assignments!=="undefined"?(i(),m("span",pe,[(i(!0),m(q,null,G(this.course.assignments,(d,c)=>(i(),k(V,{class:"otdcard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.course.assignments,"onUpdate:modelValue":s[3]||(s[3]=p=>this.course.assignments=p),key:c},{default:r(()=>[t(ee,{height:"250px",width:"100%",src:d.coverUrl,onClick:p=>this.loadAssignmentCB(c)},{default:r(()=>[o("div",ge,[o("div",he,l(d.title.slice(0,18)),1),o("div",fe,[o("span",null,"Pages: "+l(d.pages.length),1)])]),o("div",_e,[o("div",null,[this.reStore.authenticated?(i(),m("span",ve,[t(N,{color:"red",class:"ptr",name:"delete",onClick:[s[1]||(s[1]=w(()=>{},["stop","prevent"])),p=>this.deleteAssignmentCB(c)]},{default:r(()=>[t(b,null,{default:r(()=>[u("Delete Assignment")]),_:1})]),_:2},1032,["onClick"]),t(A,{icon:"edit",onClick:[s[2]||(s[2]=w(()=>{},["stop","prevent"])),p=>this.editAssignmentCB(c)]},{default:r(()=>[t(b,null,{default:r(()=>[u("Edit Assignment")]),_:1})]),_:2},1032,["onClick"])])):_("",!0)])])]),_:2},1032,["src","onClick"])]),_:2},1032,["modelValue"]))),128))])):_("",!0)])):_("",!0)}var Ae=B(te,[["render",Ce]]);const Se=P({name:"GuestLayout",components:{ScoreCard:J,DemoAssignmentPager:Ae,AssignmentStatus:H,DocumentationComponent:K,PreferencesComponent:X},setup(){const e=h(!1),s=h(!1),n=O(),f=n.preferences;return{step:h(1),reStore:n,initialValues:h(f),leftDrawerOpen:e,rightDrawerOpen:s,toggleLeftDrawer(){e.value=!e.value},toggleRightDrawer(){s.value=!s.value}}},mounted(){this.reStore.role="demo",y.isActive||(y.toggle(),S("primary","#333"),S("secondary",this.reStore.preferences.secondaryColor),S("accent",this.reStore.preferences.accentColor))}}),ke={class:"dashboard-wrapper"};function be(e,s,n,f,$,L){const d=g("ScoreCard"),c=g("DocumentationComponent"),p=g("PreferencesComponent"),R=g("DemoAssignmentPager"),x=g("AssignmentStatus"),T=g("router-view");return i(),k(M,{view:"hHh LpR fFf"},{default:r(()=>[t(F,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:r(()=>[t(z,null,{default:r(()=>[t(A,{icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),t(A,{onClick:s[0]||(s[0]=a=>this.reStore.router.push("/")),icon:"home"},{default:r(()=>[t(b,null,{default:r(()=>[u("Home")]),_:1})]),_:1}),t(j),t(A,{icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1}),t(W,{align:"left",class:"hidden"},{default:r(()=>[t(C,{to:"/logo",label:"Logo"}),t(C,{to:"/teaching",label:"Teaching"}),t(C,{to:"/taking",label:"Taking"}),t(C,{to:"/gradebook",label:"Gradebook"})]),_:1})]),_:1}),t(v,{"show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":s[1]||(s[1]=a=>e.leftDrawerOpen=a),side:"left",bordered:""},null,8,["modelValue"]),t(v,{"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":s[2]||(s[2]=a=>e.rightDrawerOpen=a),side:"right",bordered:""},null,8,["modelValue"]),t(I,{class:"container-fluid"},{default:r(()=>[t(v,{bordered:"","show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":s[3]||(s[3]=a=>e.leftDrawerOpen=a),side:"left"},{default:r(()=>[t(D,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:r(()=>[t(d),t(c),t(p,{initialValues:this.initialValues},null,8,["initialValues"]),t(R)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),t(v,{bordered:"","show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":s[4]||(s[4]=a=>e.rightDrawerOpen=a),side:"right"},{default:r(()=>[t(D,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:r(()=>[t(x)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),o("div",ke,[t(T)])]),_:1})]),_:1})}var Me=B(Se,[["render",be]]);export{Me as default};
