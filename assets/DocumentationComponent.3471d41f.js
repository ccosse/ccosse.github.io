import{h as f,c as re,e as ae,r as c,u as M,_ as ne,o as A,an as F,g,w as y,ao as se,j as P,aq as V,k as d,ap as _,Q as ee,au as Fe,a as S,y as Qe,q as $e,a4 as Ee,av as we,i as te,C as ie,O as Pe,aw as Be,ae as le}from"./index.c828c6c3.js";import{Q as oe,a as B,b as Le}from"./QExpansionItem.dea6ae11.js";import{Q as Ne}from"./QImg.3e1e341c.js";import{Q as ze}from"./QTooltip.18034685.js";import{Q as de}from"./QCardSection.f9d46400.js";import{Q as ce}from"./QCard.5d6afa29.js";import{Q as ue}from"./QList.9392daa0.js";import{u as he}from"./re-store.cd501dae.js";import{s as U}from"./transform.aea72fbe.js";import{Q as De}from"./QCheckbox.38a54b5c.js";import{u as Re,a as Ve}from"./use-dark.98cfec29.js";const Ue=f("div",{class:"q-space"});var qt=re({name:"QSpace",setup(){return()=>Ue}});const Me=ae({name:"AssignmentStatus",props:{},setup(e){return{reStore:he(),aid:c("-"),ck:c("-"),defaultExpanded:c(!0),assignmentTitle:c("-"),pageTitle:c("-"),pctComplete:c(0),points:c(0),goal:c(283),pgIdx:c(0),pgTot:c(0),imgIdx:c(0),imgTot:c(0),imgFit:c("-"),guideWords:c("-"),mapCoords:c("36.11,-115.17"),pageid:c("-"),pctReplace:c("-"),props:e}},mounted(){console.log(this.props);try{const e=this.reStore.courses.aid,n=this.reStore.courses.ck,m=this.reStore.courses[n].assignments[e];this.goal=m.goal,this.assignmentTitle=m.title,this.pgTot=m.pages.length,this.points=m.points}catch{}M(this.reStore.assignmentStatus,async(e,n)=>{console.log("watcher ",e,n),this.ck!=e.ck?(this.points=0,this.goal=e.goal):(this.points=e.points,this.goal=e.goal),this.pctComplete=parseInt(parseFloat(e.points)/parseFloat(e.goal)*100),this.assignmentTitle=e.assignmentTitle,this.pageTitle=e.pageTitle,this.pgIdx=e.pgIdx;try{this.pgTot=this.reStore.courses[e.ck].assignments[e.aid].pages.length}catch{this.pgTot=0}this.imgIdx=e.imgIdx;try{this.imgTot=this.reStore.page.imgs.length}catch{this.imgTot=0}this.imgFit=e.imgFit,this.guideWords=e.guideWords,this.mapCoords=e.mapCoords,this.pageid=e.pageid,this.ck=e.ck,this.aid=e.aid,this.pctReplace=e.pctReplace})},methods:{speak(){console.log("AssignmentStatus.speak"),this.reStore.speak()},mapCB(){const e="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(e,"_blank")},cycleFitMode(){const e=["scale-down","cover"];let n=e.indexOf(this.imgFit);n+=1,n>e.length-1&&(n=0),this.imgFit=e[n],this.reStore.page.imgFit=this.imgFit,this.reStore.assignmentStatus.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgTot-1?0:this.imgIdx+1,console.log("AssignmentStatus nextImg",this.imgIdx,this.imgTot),this.reStore.setStatus("imgIdx",this.imgIdx)},toggleText(){U("#slideTextDiv").classed("hidden")===!0?U("#slideTextDiv").classed("hidden",!1):U("#slideTextDiv").classed("hidden",!0)},loadURL(e){console.log("loadURL ",e),window.open(e,"_blank")}}}),We={class:"q-pa-md",style:{"max-width":"350px"}},He={key:0},Ye={key:0},Ge={style:{border:"0px solid gray","border-radius":"5px"},class:"q-my-md"},Je={width:"100%"},Xe=d("td",null,"Page Title",-1),Ze={style:{width:"50%"}},Oe=d("td",null,"WP Page ID",-1),je={style:{width:"50%"}},et={key:0},tt=d("td",null,"Page Language",-1),it={style:{width:"50%"}},lt=d("td",null,"Current Page",-1),rt=d("td",null,"Current Image",-1),at={class:"float-left"},nt=d("td",null,"Location",-1),st={style:{width:"50%"},class:""},ot=d("td",null,"Speak Text",-1);function dt(e,n,m,q,b,I){return A(),F("div",We,[g(ue,{bordered:"",class:"rounded-borders"},{default:y(()=>[g(oe,{modelValue:e.defaultExpanded,"onUpdate:modelValue":n[4]||(n[4]=v=>e.defaultExpanded=v)},{header:y(()=>[g(B,{avatar:""},{default:y(()=>[g(se,{size:"md",icon:"info",color:"positive","text-color":"white"})]),_:1}),g(B,null,{default:y(()=>[P(" Page Info ")]),_:1})]),default:y(()=>[this.reStore.page?(A(),F("span",He,[this.reStore.page.imgs&&this.reStore.page.imgs[this.reStore.courses.imgIdx]?(A(),F("span",Ye,[g(Ne,{src:this.reStore.page.imgs[this.reStore.courses.imgIdx].url,onClick:n[0]||(n[0]=v=>this.reStore.router.push("/teacher/editor"))},null,8,["src"])])):V("",!0),g(ce,{flat:""},{default:y(()=>[g(de,null,{default:y(()=>[d("div",Ge,[d("table",Je,[d("tr",null,[Xe,d("td",Ze,_(this.reStore.page.pageTitle),1)]),d("tr",null,[Oe,d("td",je,[P(_(this.reStore.page.pageid)+" ",1),this.reStore.page.type?(A(),F("span",et,"["+_(this.reStore.page.type)+"]",1)):V("",!0)])]),d("tr",null,[tt,d("td",it,_(this.reStore.page.langVoiceKey),1)]),d("tr",null,[lt,d("td",{style:{width:"50%"},class:"ptr",onClick:n[1]||(n[1]=(...v)=>this.toggleText&&this.toggleText(...v))},_(this.reStore.courses.pgIdx+1)+" / "+_(this.pgTot),1)]),d("tr",null,[rt,d("td",{style:{width:"50%"},class:"ptr",onClick:n[2]||(n[2]=(...v)=>this.nextImg&&this.nextImg(...v))},[d("span",at,_(this.reStore.courses.imgIdx+1)+" / "+_(this.reStore.page.imgs.length),1)])]),d("tr",null,[nt,d("td",st,[g(ee,{round:"",color:"secondary",class:"ptr",icon:"place",onClick:this.mapCB},{default:y(()=>[g(ze,null,{default:y(()=>[P(_(this.mapCoords.slice(0,13)),1)]),_:1})]),_:1},8,["onClick"])])]),d("tr",null,[ot,d("td",null,[g(ee,{round:"",color:"secondary",class:"",icon:"volume_up",onClick:n[3]||(n[3]=v=>this.speak())})])])])])]),_:1})]),_:1})])):V("",!0)]),_:1},8,["modelValue"])]),_:1})])}var It=ne(Me,[["render",dt]]);const ct=["none","strict","leaf","leaf-filtered"];var ut=re({name:"QTree",props:{...Re,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>ct.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:n,emit:m}){const{proxy:q}=Qe(),{$q:b}=q,I=Ve(e,b),v=c({}),K=c(e.ticked||[]),x=c(e.expanded||[]);let L={};Fe(()=>{L={}});const fe=S(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(I.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),W=S(()=>e.selected!==void 0),ge=S(()=>e.icon||b.iconSet.tree.icon),H=S(()=>e.controlColor||e.color),Q=S(()=>e.textColor!==void 0?` text-${e.textColor}`:""),me=S(()=>{const i=e.selectedColor||e.color;return i?` text-${i}`:""}),ke=S(()=>e.filterMethod!==void 0?e.filterMethod:(i,l)=>{const t=l.toLowerCase();return i[e.labelKey]&&i[e.labelKey].toLowerCase().indexOf(t)>-1}),p=S(()=>{const i={},l=(t,a)=>{const r=t.tickStrategy||(a?a.tickStrategy:e.tickStrategy),o=t[e.nodeKey],u=t[e.childrenKey]&&t[e.childrenKey].length>0,T=t.disabled!==!0&&W.value===!0&&t.selectable!==!1,k=t.disabled!==!0&&t.expandable!==!1,Ke=r!=="none",w=r==="strict",O=r==="leaf-filtered",D=r==="leaf"||r==="leaf-filtered";let R=t.disabled!==!0&&t.tickable!==!1;D===!0&&R===!0&&a&&a.tickable!==!0&&(R=!1);let C=t.lazy;C===!0&&v.value[o]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(C=v.value[o]);const s={key:o,parent:a,isParent:u,lazy:C,disabled:t.disabled,link:t.disabled!==!0&&(T===!0||k===!0&&(u===!0||C===!0)),children:[],matchesFilter:e.filter?ke.value(t,e.filter):!0,selected:o===e.selected&&T===!0,selectable:T,expanded:u===!0?x.value.includes(o):!1,expandable:k,noTick:t.noTick===!0||w!==!0&&C&&C!=="loaded",tickable:R,tickStrategy:r,hasTicking:Ke,strictTicking:w,leafFilteredTicking:O,leafTicking:D,ticked:w===!0?K.value.includes(o):u===!0?!1:K.value.includes(o)};if(i[o]=s,u===!0&&(s.children=t[e.childrenKey].map(h=>l(h,s)),e.filter&&(s.matchesFilter!==!0?s.matchesFilter=s.children.some(h=>h.matchesFilter):s.noTick!==!0&&s.disabled!==!0&&s.tickable===!0&&O===!0&&s.children.every(h=>h.matchesFilter!==!0||h.noTick===!0||h.tickable!==!0)===!0&&(s.tickable=!1)),s.matchesFilter===!0&&(s.noTick!==!0&&w!==!0&&s.children.every(h=>h.noTick)===!0&&(s.noTick=!0),D))){if(s.ticked=!1,s.indeterminate=s.children.some(h=>h.indeterminate===!0),s.tickable=s.tickable===!0&&s.children.some(h=>h.tickable),s.indeterminate!==!0){const h=s.children.reduce((j,Ae)=>Ae.ticked===!0?j+1:j,0);h===s.children.length?s.ticked=!0:h>0&&(s.indeterminate=!0)}s.indeterminate===!0&&(s.indeterminateNextState=s.children.every(h=>h.tickable!==!0||h.ticked!==!0))}return s};return e.nodes.forEach(t=>l(t,null)),i});M(()=>e.ticked,i=>{K.value=i}),M(()=>e.expanded,i=>{x.value=i});function $(i){const l=[].reduce,t=(a,r)=>{if(a||!r)return a;if(Array.isArray(r)===!0)return l.call(Object(r),t,a);if(r[e.nodeKey]===i)return r;if(r[e.childrenKey])return t(null,r[e.childrenKey])};return t(null,e.nodes)}function ye(){return K.value.map(i=>$(i))}function ve(){return x.value.map(i=>$(i))}function pe(i){return i&&p.value[i]?p.value[i].expanded:!1}function _e(){e.expanded!==void 0?m("update:expanded",[]):x.value=[]}function Y(){const i=x.value,l=t=>{t[e.childrenKey]&&t[e.childrenKey].length>0&&t.expandable!==!1&&t.disabled!==!0&&(i.push(t[e.nodeKey]),t[e.childrenKey].forEach(l))};e.nodes.forEach(l),e.expanded!==void 0?m("update:expanded",i):x.value=i}function N(i,l,t=$(i),a=p.value[i]){if(a.lazy&&a.lazy!=="loaded"){if(a.lazy==="loading")return;v.value[i]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),m("lazyLoad",{node:t,key:i,done:r=>{v.value[i]="loaded",t[e.childrenKey]=Array.isArray(r)===!0?r:[],$e(()=>{const o=p.value[i];o&&o.isParent===!0&&G(i,!0)})},fail:()=>{delete v.value[i],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else a.isParent===!0&&a.expandable===!0&&G(i,l)}function G(i,l){let t=x.value;const a=e.expanded!==void 0;if(a===!0&&(t=t.slice()),l){if(e.accordion&&p.value[i]){const r=[];p.value[i].parent?p.value[i].parent.children.forEach(o=>{o.key!==i&&o.expandable===!0&&r.push(o.key)}):e.nodes.forEach(o=>{const u=o[e.nodeKey];u!==i&&r.push(u)}),r.length>0&&(t=t.filter(o=>r.includes(o)===!1))}t=t.concat([i]).filter((r,o,u)=>u.indexOf(r)===o)}else t=t.filter(r=>r!==i);a===!0?m("update:expanded",t):x.value=t}function xe(i){return i&&p.value[i]?p.value[i].ticked:!1}function E(i,l){let t=K.value;const a=e.ticked!==void 0;a===!0&&(t=t.slice()),l?t=t.concat(i).filter((r,o,u)=>u.indexOf(r)===o):t=t.filter(r=>i.includes(r)===!1),a===!0&&m("update:ticked",t)}function Se(i,l,t){const a={tree:q,node:i,key:t,color:e.color,dark:I.value};return le(a,"expanded",()=>l.expanded,r=>{r!==l.expanded&&N(t,r)}),le(a,"ticked",()=>l.ticked,r=>{r!==l.ticked&&E([t],r)}),a}function J(i){return(e.filter?i.filter(l=>p.value[l[e.nodeKey]].matchesFilter):i).map(l=>qe(l))}function be(i){if(i.icon!==void 0)return f(te,{class:"q-tree__icon q-mr-sm",name:i.icon,color:i.iconColor});const l=i.img||i.avatar;if(l)return f("img",{class:`q-tree__${i.img?"img":"avatar"} q-mr-sm`,src:l})}function Te(){m("afterShow")}function Ce(){m("afterHide")}function qe(i){const l=i[e.nodeKey],t=p.value[l],a=i.header&&n[`header-${i.header}`]||n["default-header"],r=t.isParent===!0?J(i[e.childrenKey]):[],o=r.length>0||t.lazy&&t.lazy!=="loaded";let u=i.body&&n[`body-${i.body}`]||n["default-body"];const T=a!==void 0||u!==void 0?Se(i,t,l):null;return u!==void 0&&(u=f("div",{class:"q-tree__node-body relative-position"},[f("div",{class:Q.value},[u(T)])])),f("div",{key:l,class:`q-tree__node relative-position q-tree__node--${o===!0?"parent":"child"}`},[f("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:k=>{Z(i,t,k)},onKeypress(k){Ee(k)!==!0&&(k.keyCode===13?Z(i,t,k,!0):k.keyCode===32&&z(i,t,k,!0))}},[f("div",{class:"q-focus-helper",tabindex:-1,ref:k=>{L[t.key]=k}}),t.lazy==="loading"?f(we,{class:"q-tree__spinner",color:H.value}):o===!0?f(te,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:ge.value,onClick(k){z(i,t,k)}}):null,t.hasTicking===!0&&t.noTick!==!0?f(De,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:H.value,dark:I.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:ie,"onUpdate:modelValue":k=>{Ie(t,k)}}):null,f("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?me.value:Q.value)},[a?a(T):[be(i),f("div",i[e.labelKey])]])]),o===!0?e.noTransition===!0?f("div",{class:"q-tree__node-collapsible"+Q.value,key:`${l}__q`},[u,f("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?r:null)]):f(Le,{duration:e.duration,onShow:Te,onHide:Ce},()=>Pe(f("div",{class:"q-tree__node-collapsible"+Q.value,key:`${l}__q`},[u,f("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},r)]),[[Be,t.expanded]])):u])}function X(i){const l=L[i];l&&l.focus()}function Z(i,l,t,a){a!==!0&&X(l.key),W.value&&l.selectable?e.noSelectionUnset===!1?m("update:selected",l.key!==e.selected?l.key:null):l.key!==e.selected&&m("update:selected",l.key===void 0?null:l.key):z(i,l,t,a),typeof i.handler=="function"&&i.handler(i)}function z(i,l,t,a){t!==void 0&&ie(t),a!==!0&&X(l.key),N(l.key,!l.expanded,i,l)}function Ie(i,l){if(i.indeterminate===!0&&(l=i.indeterminateNextState),i.strictTicking)E([i.key],l);else if(i.leafTicking){const t=[],a=r=>{r.isParent?(l!==!0&&r.noTick!==!0&&r.tickable===!0&&t.push(r.key),r.leafTicking===!0&&r.children.forEach(a)):r.noTick!==!0&&r.tickable===!0&&(r.leafFilteredTicking!==!0||r.matchesFilter===!0)&&t.push(r.key)};a(i),E(t,l)}}return e.defaultExpandAll===!0&&Y(),Object.assign(q,{getNodeByKey:$,getTickedNodes:ye,getExpandedNodes:ve,isExpanded:pe,collapseAll:_e,expandAll:Y,setExpanded:N,isTicked:xe,setTicked:E}),()=>{const i=J(e.nodes);return f("div",{class:fe.value},i.length===0?e.filter?e.noResultsLabel||b.lang.tree.noResults:e.noNodesLabel||b.lang.tree.noNodes:i)}}});const ht=ae({name:"DocumentationComponent",setup(){return{reStore:he(),selected:c(null),docTree:[{label:"Welcome",icon:"waving_hand",children:[{label:"What is Reading Edge?"},{label:"Important concepts"}]},{label:"Demo Assignments",icon:"collections_bookmark",children:[{label:"Things to point out"}]},{label:"Your Account",icon:"person",children:[{label:"Why login?"},{label:"Teacher and Student"},{label:"Courses and Assignments"},{label:"Preferences"}]},{label:"Assignment Builder",icon:"build",children:[{label:"Assignment Pieces"},{label:"Assignment Flow"}]},{label:"History of Reading Edge",icon:"history",children:[{label:"Previous incarnations"}]}]}},methods:{updateSelected(e){console.log("updateSelected ",e),e?(e=e.toLowerCase().replace("?","").replaceAll(" ","_"),this.reStore.router.push(`/doc/${e}`)):this.reStore.router.push("/doc/welcome")}}}),ft={class:"q-pa-md",style:{"max-width":"350px"}};function gt(e,n,m,q,b,I){return A(),F("div",ft,[g(ue,{bordered:"",class:"rounded-borders"},{default:y(()=>[g(oe,null,{header:y(()=>[g(B,{avatar:""},{default:y(()=>[g(se,{size:"md",icon:"article",color:"positive","text-color":"white"})]),_:1}),g(B,null,{default:y(()=>[P(" Documentation ")]),_:1})]),default:y(()=>[g(ce,null,{default:y(()=>[g(de,null,{default:y(()=>[g(ut,{nodes:this.docTree,selected:e.selected,"onUpdate:selected":[n[0]||(n[0]=v=>e.selected=v),this.updateSelected],"node-key":"label","no-connectors":""},null,8,["nodes","selected","onUpdate:selected"])]),_:1})]),_:1})]),_:1})]),_:1})])}var Kt=ne(ht,[["render",gt]]);export{It as A,Kt as D,qt as Q};
