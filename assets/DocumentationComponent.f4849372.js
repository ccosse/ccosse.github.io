import{an as we,g as ne,ao as Ae,h as y,i as u,ap as Ke,q as re,d as se,r as f,v as G,_ as oe,o as de,c as Fe,w as C,a as v,e as n,al as _,Q as Ie,a1 as T,ag as D,aq as Be,p as Pe,a0 as ze,ar as Ee,J as le,K as Qe,as as Ne,at as ie,ah as De,ai as Le}from"./index.d693359c.js";import{b as Re,u as ce}from"./re-store.ef88867e.js";import{Q as ue}from"./use-form.7022423c.js";import{Q as he}from"./QCard.e6d7bbc5.js";import{s as H}from"./transform.aea72fbe.js";import{c as Me,Q as Ue,a as ae,b as We}from"./QList.27a5621e.js";import{Q as Ve}from"./QCheckbox.e8bc5107.js";import{u as He,a as Ge}from"./use-dark.45edea7e.js";const Je={...we,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},J=50,fe=2*J,ge=fe*Math.PI,Ye=Math.round(ge*1e3)/1e3;var Xe=ne({name:"QCircularProgress",props:{...Je,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:s}){const{proxy:{$q:g}}=re(),q=Ae(e),p=y(()=>{const b=(g.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(g.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),$=y(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),d=y(()=>fe/(1-e.thickness/2)),w=y(()=>`${d.value/2} ${d.value/2} ${d.value} ${d.value}`),x=y(()=>Re(e.value,e.min,e.max)),B=y(()=>ge*(1-(x.value-e.min)/(e.max-e.min))),P=y(()=>e.thickness/2*d.value);function z({thickness:b,offset:A,color:K,cls:L,rounded:R}){return u("circle",{class:"q-circular-progress__"+L+(K!==void 0?` text-${K}`:""),style:$.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":Ye,"stroke-dashoffset":A,"stroke-linecap":R,cx:d.value,cy:d.value,r:J})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(u("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:J-P.value/2,cx:d.value,cy:d.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(z({cls:"track",thickness:P.value,offset:0,color:e.trackColor})),b.push(z({cls:"circle",thickness:P.value,offset:B.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const A=[u("svg",{class:"q-circular-progress__svg",style:p.value,viewBox:w.value,"aria-hidden":"true"},b)];return e.showValue===!0&&A.push(u("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},s.default!==void 0?s.default():[u("div",x.value)])),u("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:q.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:x.value},Ke(s.internal,A))}}});const Ze=se({name:"AssignmentStatus",props:{},setup(e){return{reStore:ce(),aid:f("-"),ck:f("-"),assignmentTitle:f("-"),pageTitle:f("-"),pctComplete:f(0),points:f(0),goal:f(283),pgIdx:f(0),pgTot:f(0),imgIdx:f(0),imgTot:f(0),imgFit:f("-"),guideWords:f("-"),mapCoords:f("36.11,-115.17"),pageid:f("-"),pctReplace:f("-"),props:e}},mounted(){console.log(this.props);try{const e=this.reStore.courses.aid,s=this.reStore.courses.ck,g=this.reStore.courses[s].assignments[e];this.goal=g.goal,this.assignmentTitle=g.title,this.pgTot=g.pages.length,this.points=g.points}catch{}G(this.reStore.assignmentStatus,async(e,s)=>{console.log("watcher ",e,s),this.pctComplete=parseInt(parseFloat(e.points)/parseFloat(e.goal)*100),this.assignmentTitle=e.assignmentTitle,this.pageTitle=e.pageTitle,this.points=e.points,this.goal=e.goal,this.pgIdx=e.pgIdx,this.pgTot=e.pgTot,this.imgIdx=e.imgIdx,this.imgTot=e.imgTot,this.imgFit=e.imgFit,this.guideWords=e.guideWords,this.mapCoords=e.mapCoords,this.pageid=e.pageid,this.ck=e.ck,this.aid=e.aid,this.pctReplace=e.pctReplace})},methods:{speak(){console.log("AssignmentStatus.speak"),this.reStore.speak()},mapCB(){const e="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(e,"_blank")},cycleFitMode(){const e=["scale-down","cover"];let s=e.indexOf(this.imgFit);s+=1,s>e.length-1&&(s=0),this.imgFit=e[s],this.reStore.page.imgFit=this.imgFit,this.reStore.assignmentStatus.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgTot-1?0:this.imgIdx+1,console.log("AssignmentStatus nextImg",this.imgIdx,this.imgTot),this.reStore.setStatus("imgIdx",this.imgIdx)},toggleText(){H("#slideTextDiv").classed("hidden")===!0?H("#slideTextDiv").classed("hidden",!1):H("#slideTextDiv").classed("hidden",!0)},loadURL(e){console.log("loadURL ",e),window.open(e,"_blank")}}}),Oe={class:"text-weight-bolder text-center q-pa-md"},je={style:{border:"1px solid gray","border-radius":"5px"}},et={width:"100%"},tt={style:{width:"50%","text-align":"center"}},lt={style:{"text-align":"center"}},it=n("tr",null,[n("td",{style:{"text-align":"center"}},"% Complete"),n("td",{style:{"text-align":"center"}},"Speak Text")],-1),at={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md hidden"},nt={width:"100%"},rt=n("td",null,"Page Title",-1),st={style:{width:"50%"}},ot=n("td",null,"Course-Key",-1),dt={style:{width:"50%"}},ct=n("td",null,"Assgnmt Id",-1),ut={style:{width:"50%"}},ht=n("td",null,"WP Page Id",-1),ft={style:{width:"50%"}},gt=n("td",null,"Current Page",-1),mt=n("td",null,"Current Image",-1),vt={class:"float-left"},kt=n("td",null,"Image Fit",-1),yt={class:"align-left"},_t=n("td",null,"Guide Words",-1),xt={style:{width:"50%"}},bt=n("td",null,"Percent Replace",-1),St=n("td",null,"Map Coords",-1),Ct={class:"float-left"};function Tt(e,s,g,q,p,$){return de(),Fe(he,{flat:""},{default:C(()=>[v(ue,null,{default:C(()=>[n("div",Oe,"Points/Goal: "+_(this.points)+"/"+_(this.goal),1),n("div",je,[n("table",et,[n("tr",null,[n("td",tt,[v(Xe,{"show-value":"","instant-feedback":"",value:this.pctComplete,size:"55px",thickness:.4,color:"grey-5","track-color":"secondary","center-color":"positive",class:"q-ma-md"},null,8,["value","thickness"])]),n("td",lt,[v(Ie,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:s[0]||(s[0]=d=>this.speak())})])]),it])]),n("div",at,[n("table",nt,[n("tr",null,[rt,n("td",st,_(this.pageTitle),1)]),n("tr",null,[ot,n("td",dt,_(this.ck),1)]),n("tr",null,[ct,n("td",ut,_(this.aid),1)]),n("tr",null,[ht,n("td",ft,[n("a",{class:"bold_ptr float-left",onClick:s[1]||(s[1]=d=>this.loadURL(this.canonicalUrl))},_(this.pageid),1),v(T,{name:"link",class:"float-right"})])]),n("tr",null,[gt,n("td",{style:{width:"50%"},class:"ptr",onClick:s[2]||(s[2]=(...d)=>this.toggleText&&this.toggleText(...d))},[D(_(this.pgIdx+1)+" / "+_(this.pgTot)+" ",1),v(T,{name:"article",class:"float-right"})])]),n("tr",null,[mt,n("td",{style:{width:"50%"},class:"ptr",onClick:s[3]||(s[3]=(...d)=>this.nextImg&&this.nextImg(...d))},[n("span",vt,_(this.imgIdx+1)+" / "+_(this.imgTot),1),v(T,{name:"image",class:"float-right"})])]),n("tr",{class:"ptr",onClick:s[4]||(s[4]=(...d)=>this.cycleFitMode&&this.cycleFitMode(...d))},[kt,n("td",null,[n("span",yt,_(this.imgFit),1),v(T,{class:"float-right",name:"fit_screen"})])]),n("tr",null,[_t,n("td",xt,[D(_(this.guideWords.replaceAll(",",", "))+" ",1),v(T,{name:"tune",class:"float-right"})])]),n("tr",null,[bt,n("td",null,[D(_(this.pctReplace)+" % ",1),v(T,{name:"tune",class:"float-right"})])]),n("tr",null,[St,n("td",{onClick:s[5]||(s[5]=(...d)=>this.mapCB&&this.mapCB(...d)),class:"ptr"},[n("span",Ct,_(this.mapCoords.slice(0,13)),1),v(T,{class:"float-right",name:"place"})])])])])]),_:1})]),_:1})}var Nt=oe(Ze,[["render",Tt]]);const pt=["none","strict","leaf","leaf-filtered"];var qt=ne({name:"QTree",props:{...He,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>pt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:s,emit:g}){const{proxy:q}=re(),{$q:p}=q,$=Ge(e,p),d=f({}),w=f(e.ticked||[]),x=f(e.expanded||[]);let B={};Be(()=>{B={}});const P=y(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+($.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),z=y(()=>e.selected!==void 0),b=y(()=>e.icon||p.iconSet.tree.icon),A=y(()=>e.controlColor||e.color),K=y(()=>e.textColor!==void 0?` text-${e.textColor}`:""),L=y(()=>{const l=e.selectedColor||e.color;return l?` text-${l}`:""}),R=y(()=>e.filterMethod!==void 0?e.filterMethod:(l,i)=>{const t=i.toLowerCase();return l[e.labelKey]&&l[e.labelKey].toLowerCase().indexOf(t)>-1}),S=y(()=>{const l={},i=(t,r)=>{const a=t.tickStrategy||(r?r.tickStrategy:e.tickStrategy),c=t[e.nodeKey],h=t[e.childrenKey]&&t[e.childrenKey].length>0,F=t.disabled!==!0&&z.value===!0&&t.selectable!==!1,k=t.disabled!==!0&&t.expandable!==!1,qe=a!=="none",N=a==="strict",ee=a==="leaf-filtered",W=a==="leaf"||a==="leaf-filtered";let V=t.disabled!==!0&&t.tickable!==!1;W===!0&&V===!0&&r&&r.tickable!==!0&&(V=!1);let I=t.lazy;I===!0&&d.value[c]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(I=d.value[c]);const o={key:c,parent:r,isParent:h,lazy:I,disabled:t.disabled,link:t.disabled!==!0&&(F===!0||k===!0&&(h===!0||I===!0)),children:[],matchesFilter:e.filter?R.value(t,e.filter):!0,selected:c===e.selected&&F===!0,selectable:F,expanded:h===!0?x.value.includes(c):!1,expandable:k,noTick:t.noTick===!0||N!==!0&&I&&I!=="loaded",tickable:V,tickStrategy:a,hasTicking:qe,strictTicking:N,leafFilteredTicking:ee,leafTicking:W,ticked:N===!0?w.value.includes(c):h===!0?!1:w.value.includes(c)};if(l[c]=o,h===!0&&(o.children=t[e.childrenKey].map(m=>i(m,o)),e.filter&&(o.matchesFilter!==!0?o.matchesFilter=o.children.some(m=>m.matchesFilter):o.noTick!==!0&&o.disabled!==!0&&o.tickable===!0&&ee===!0&&o.children.every(m=>m.matchesFilter!==!0||m.noTick===!0||m.tickable!==!0)===!0&&(o.tickable=!1)),o.matchesFilter===!0&&(o.noTick!==!0&&N!==!0&&o.children.every(m=>m.noTick)===!0&&(o.noTick=!0),W))){if(o.ticked=!1,o.indeterminate=o.children.some(m=>m.indeterminate===!0),o.tickable=o.tickable===!0&&o.children.some(m=>m.tickable),o.indeterminate!==!0){const m=o.children.reduce((te,$e)=>$e.ticked===!0?te+1:te,0);m===o.children.length?o.ticked=!0:m>0&&(o.indeterminate=!0)}o.indeterminate===!0&&(o.indeterminateNextState=o.children.every(m=>m.tickable!==!0||m.ticked!==!0))}return o};return e.nodes.forEach(t=>i(t,null)),l});G(()=>e.ticked,l=>{w.value=l}),G(()=>e.expanded,l=>{x.value=l});function E(l){const i=[].reduce,t=(r,a)=>{if(r||!a)return r;if(Array.isArray(a)===!0)return i.call(Object(a),t,r);if(a[e.nodeKey]===l)return a;if(a[e.childrenKey])return t(null,a[e.childrenKey])};return t(null,e.nodes)}function me(){return w.value.map(l=>E(l))}function ve(){return x.value.map(l=>E(l))}function ke(l){return l&&S.value[l]?S.value[l].expanded:!1}function ye(){e.expanded!==void 0?g("update:expanded",[]):x.value=[]}function Y(){const l=x.value,i=t=>{t[e.childrenKey]&&t[e.childrenKey].length>0&&t.expandable!==!1&&t.disabled!==!0&&(l.push(t[e.nodeKey]),t[e.childrenKey].forEach(i))};e.nodes.forEach(i),e.expanded!==void 0?g("update:expanded",l):x.value=l}function M(l,i,t=E(l),r=S.value[l]){if(r.lazy&&r.lazy!=="loaded"){if(r.lazy==="loading")return;d.value[l]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),g("lazyLoad",{node:t,key:l,done:a=>{d.value[l]="loaded",t[e.childrenKey]=Array.isArray(a)===!0?a:[],Pe(()=>{const c=S.value[l];c&&c.isParent===!0&&X(l,!0)})},fail:()=>{delete d.value[l],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else r.isParent===!0&&r.expandable===!0&&X(l,i)}function X(l,i){let t=x.value;const r=e.expanded!==void 0;if(r===!0&&(t=t.slice()),i){if(e.accordion&&S.value[l]){const a=[];S.value[l].parent?S.value[l].parent.children.forEach(c=>{c.key!==l&&c.expandable===!0&&a.push(c.key)}):e.nodes.forEach(c=>{const h=c[e.nodeKey];h!==l&&a.push(h)}),a.length>0&&(t=t.filter(c=>a.includes(c)===!1))}t=t.concat([l]).filter((a,c,h)=>h.indexOf(a)===c)}else t=t.filter(a=>a!==l);r===!0?g("update:expanded",t):x.value=t}function _e(l){return l&&S.value[l]?S.value[l].ticked:!1}function Q(l,i){let t=w.value;const r=e.ticked!==void 0;r===!0&&(t=t.slice()),i?t=t.concat(l).filter((a,c,h)=>h.indexOf(a)===c):t=t.filter(a=>l.includes(a)===!1),r===!0&&g("update:ticked",t)}function xe(l,i,t){const r={tree:q,node:l,key:t,color:e.color,dark:$.value};return ie(r,"expanded",()=>i.expanded,a=>{a!==i.expanded&&M(t,a)}),ie(r,"ticked",()=>i.ticked,a=>{a!==i.ticked&&Q([t],a)}),r}function Z(l){return(e.filter?l.filter(i=>S.value[i[e.nodeKey]].matchesFilter):l).map(i=>Te(i))}function be(l){if(l.icon!==void 0)return u(T,{class:"q-tree__icon q-mr-sm",name:l.icon,color:l.iconColor});const i=l.img||l.avatar;if(i)return u("img",{class:`q-tree__${l.img?"img":"avatar"} q-mr-sm`,src:i})}function Se(){g("afterShow")}function Ce(){g("afterHide")}function Te(l){const i=l[e.nodeKey],t=S.value[i],r=l.header&&s[`header-${l.header}`]||s["default-header"],a=t.isParent===!0?Z(l[e.childrenKey]):[],c=a.length>0||t.lazy&&t.lazy!=="loaded";let h=l.body&&s[`body-${l.body}`]||s["default-body"];const F=r!==void 0||h!==void 0?xe(l,t,i):null;return h!==void 0&&(h=u("div",{class:"q-tree__node-body relative-position"},[u("div",{class:K.value},[h(F)])])),u("div",{key:i,class:`q-tree__node relative-position q-tree__node--${c===!0?"parent":"child"}`},[u("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:k=>{j(l,t,k)},onKeypress(k){ze(k)!==!0&&(k.keyCode===13?j(l,t,k,!0):k.keyCode===32&&U(l,t,k,!0))}},[u("div",{class:"q-focus-helper",tabindex:-1,ref:k=>{B[t.key]=k}}),t.lazy==="loading"?u(Ee,{class:"q-tree__spinner",color:A.value}):c===!0?u(T,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:b.value,onClick(k){U(l,t,k)}}):null,t.hasTicking===!0&&t.noTick!==!0?u(Ve,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:A.value,dark:$.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:le,"onUpdate:modelValue":k=>{pe(t,k)}}):null,u("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?L.value:K.value)},[r?r(F):[be(l),u("div",l[e.labelKey])]])]),c===!0?e.noTransition===!0?u("div",{class:"q-tree__node-collapsible"+K.value,key:`${i}__q`},[h,u("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?a:null)]):u(Me,{duration:e.duration,onShow:Se,onHide:Ce},()=>Qe(u("div",{class:"q-tree__node-collapsible"+K.value,key:`${i}__q`},[h,u("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},a)]),[[Ne,t.expanded]])):h])}function O(l){const i=B[l];i&&i.focus()}function j(l,i,t,r){r!==!0&&O(i.key),z.value&&i.selectable?e.noSelectionUnset===!1?g("update:selected",i.key!==e.selected?i.key:null):i.key!==e.selected&&g("update:selected",i.key===void 0?null:i.key):U(l,i,t,r),typeof l.handler=="function"&&l.handler(l)}function U(l,i,t,r){t!==void 0&&le(t),r!==!0&&O(i.key),M(i.key,!i.expanded,l,i)}function pe(l,i){if(l.indeterminate===!0&&(i=l.indeterminateNextState),l.strictTicking)Q([l.key],i);else if(l.leafTicking){const t=[],r=a=>{a.isParent?(i!==!0&&a.noTick!==!0&&a.tickable===!0&&t.push(a.key),a.leafTicking===!0&&a.children.forEach(r)):a.noTick!==!0&&a.tickable===!0&&(a.leafFilteredTicking!==!0||a.matchesFilter===!0)&&t.push(a.key)};r(l),Q(t,i)}}return e.defaultExpandAll===!0&&Y(),Object.assign(q,{getNodeByKey:E,getTickedNodes:me,getExpandedNodes:ve,isExpanded:ke,collapseAll:ye,expandAll:Y,setExpanded:M,isTicked:_e,setTicked:Q}),()=>{const l=Z(e.nodes);return u("div",{class:P.value},l.length===0?e.filter?e.noResultsLabel||p.lang.tree.noResults:e.noNodesLabel||p.lang.tree.noNodes:l)}}});const $t=se({name:"DocumentationComponent",setup(){return{reStore:ce(),selected:f(null),docTree:[{label:"Welcome",icon:"waving_hand",children:[{label:"What is Reading Edge?"},{label:"Important concepts"}]},{label:"Demo Assignments",icon:"collections_bookmark",children:[{label:"Things to point out"}]},{label:"Your Account",icon:"person",children:[{label:"Why login?"},{label:"Teacher and Student"},{label:"Courses and Assignments"},{label:"Preferences"}]},{label:"Assignment Builder",icon:"build",children:[{label:"Assignment Pieces"},{label:"Assignment Flow"}]},{label:"History of Reading Edge",icon:"history",children:[{label:"Previous incarnations"}]}]}},methods:{updateSelected(e){console.log("updateSelected ",e),e?(e=e.toLowerCase().replace("?","").replaceAll(" ","_"),this.reStore.router.push(`/${this.reStore.role}/doc/${e}`)):this.reStore.router.push(`/${this.reStore.role}/doc/welcome`)}}}),wt={class:"q-pa-md",style:{"max-width":"350px"}};function At(e,s,g,q,p,$){return de(),De("div",wt,[v(We,{bordered:"",class:"rounded-borders"},{default:C(()=>[v(Ue,null,{header:C(()=>[v(ae,{avatar:""},{default:C(()=>[v(Le,{size:"md",icon:"article",color:"positive","text-color":"white"})]),_:1}),v(ae,null,{default:C(()=>[D(" Documentation ")]),_:1})]),default:C(()=>[v(he,null,{default:C(()=>[v(ue,null,{default:C(()=>[v(qt,{nodes:this.docTree,selected:e.selected,"onUpdate:selected":[s[0]||(s[0]=d=>e.selected=d),this.updateSelected],"node-key":"label","no-connectors":""},null,8,["nodes","selected","onUpdate:selected"])]),_:1})]),_:1})]),_:1})]),_:1})])}var Dt=oe($t,[["render",At]]);export{Nt as A,Dt as D,Xe as Q,Je as u};
