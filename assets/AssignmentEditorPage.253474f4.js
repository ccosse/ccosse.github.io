import{Q as y}from"./QPage.f56db6e0.js";import{u as k}from"./re-store.88138da0.js";import{Q as w}from"./QBanner.1651c810.js";import{Q as h}from"./QImg.e9789b03.js";import{Q as p}from"./QCard.01d4c6f5.js";import{Q as _}from"./QTooltip.efa75ebb.js";import{e as v,r as b,u as E,_ as x,o as a,f as m,w as t,k as r,g as o,ar as l,aq as f,j as d,at as $,aH as B,i as A,Q as V,aG as S,l as q}from"./index.dc8d26f6.js";import{Q as P}from"./QCardSection.b6ddc3b1.js";import"./firebase.79bf92f9.js";import"./transform.aea72fbe.js";import"./index.2cf0d985.js";import"./use-dark.f31496cd.js";import"./scroll.8f3977a1.js";const N=v({name:"AssignmentEditor",setup(){return{reStore:k(),assignment:b(null)}},mounted(){console.log("AE mounted"),E(this.reStore.courses,async(e,s)=>{if(console.log("AE watcher ",e,s),!this.assignment||this.assignment.id!==e.aid){const u=this.reStore.courses.ck,g=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[u].assignments[g]))}});try{if(!this.assignment||this.assignment.id!==newObj.aid){const e=this.reStore.courses.ck,s=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[e].assignments[s]))}}catch(e){console.log(e)}},methods:{pgCB(e){console.log("AE pgCB ",e),this.reStore.courses.selectedRHSTab="pagerTab"},dummy(){console.log("dummy")}}}),j={class:"q-pa-md"},T={class:"text-weight-bolder text-center text-h4 q-pa-md"},J={class:"flex flex-row justify-center"},O={key:0,class:"flex flex-row justify-center"},U=r("span",{class:"justify-between"},"p 00",-1),D=r("span",{class:"on-right"},"Cover Page",-1),H=r("span",{class:"float-right"},"1 img",-1),R={class:"absolute-top text-center"},z={class:"text-h6"},F={style:{"font-size":"22pt",width:"100%"},class:"text-center absolute-bottom"};function G(e,s,u,g,C,Q){return a(),m(y,{class:"q-gutter-md bg-primary",style:{width:"100%"}},{default:t(()=>[r("div",j,[o(w,{class:"bg-positive text-white"},{default:t(()=>[r("div",T,l(this.reStore.courses[this.reStore.courses.ck].title)+"."+l(this.reStore.courses[this.reStore.courses.ck].assignments[this.reStore.courses.aid].title),1)]),_:1})]),o(p,{flat:"",class:"q-pa-sm"},{default:t(()=>[r("div",J,[this.reStore.courses.ck&&this.reStore.courses.aid?(a(),m(P,{key:0},{default:t(()=>[this.assignment?(a(),f("div",O,[o(p,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":s[0]||(s[0]=i=>this.assignment.pages=i)},{default:t(()=>[U,d(),D,d(),H,o(h,{fit:"cover",height:"230px",width:"100%",src:this.assignment.coverUrl},null,8,["src"])]),_:1},8,["modelValue"]),(a(!0),f($,null,B(this.assignment.pages,(i,n)=>(a(),m(p,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":s[1]||(s[1]=c=>this.assignment.pages=c),key:n},{default:t(()=>[o(h,{fit:"cover",height:"230px",width:"100%",src:i.imgs[i.imgIdx].url,onClick:c=>this.pgCB(n)},{default:t(()=>[r("div",R,[r("div",z,l(n+1)+" "+l(i.pageTitle.slice(0,10)),1)]),r("div",F,[r("div",null,[o(A,{color:"red",class:"ptr",name:"delete",onClick:c=>this.deletePageCB(n)},{default:t(()=>[o(_,null,{default:t(()=>[d("Delete Page")]),_:1})]),_:2},1032,["onClick"]),o(V,{icon:"edit",onClick:c=>this.editPageCB(n)},{default:t(()=>[o(_,null,{default:t(()=>[d("Edit Page")]),_:1})]),_:2},1032,["onClick"])])])]),_:2},1032,["src","onClick"])]),_:2},1032,["modelValue"]))),128))])):S("",!0)]),_:1})):S("",!0)])]),_:1})]),_:1})}var L=x(N,[["render",G]]);const K=v({name:"AssignmentEditorPage",components:{AssignmentEditor:L},setup(e){const s=k();return{props:e,reStore:s}}});function M(e,s,u,g,C,Q){const i=q("AssignmentEditor");return a(),m(y,{id:"QPage",class:"row justify-center"},{default:t(()=>[o(i)]),_:1})}var ce=x(K,[["render",M]]);export{ce as default};
