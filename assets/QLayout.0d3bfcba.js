import{c as F,a as o,h as b,d as oe,C as O,r as x,t as v,v as fe,D as Le,x as U,E as ne,F as K,u as pe,n as ce,G as Oe,H as de,I as he,J as Pe,K as He,L as N,M as Qe,N as We}from"./index.11470d9d.js";import{a as le,T as te,b as Me}from"./QScrollArea.df132909.js";import{u as De,a as Re}from"./use-prevent-scroll.7dc49ca0.js";import{u as Ve,b as _e,d as Fe,f as Ie}from"./use-timeout.6ba4c3fd.js";import{u as Ae,a as Ne}from"./use-dark.75ee71be.js";import{b as E}from"./re-store.5caa898e.js";import{g as ae}from"./scroll.47d9b2c2.js";var Ze=F({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:C}){const f=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:f.value,role:"toolbar"},oe(C.default))}}),et=F({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:C,emit:f}){const{proxy:{$q:c}}=U(),r=ne(K,O);if(r===O)return console.error("QHeader needs to be child of QLayout"),O;const s=x(parseInt(e.heightHint,10)),S=x(!0),T=o(()=>e.reveal===!0||r.view.value.indexOf("H")>-1||c.platform.is.ios&&r.isContainer.value===!0),B=o(()=>{if(e.modelValue!==!0)return 0;if(T.value===!0)return S.value===!0?s.value:0;const l=s.value-r.scroll.value.position;return l>0?l:0}),g=o(()=>e.modelValue!==!0||T.value===!0&&S.value!==!0),a=o(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),Q=o(()=>"q-header q-layout__section--marginal "+(T.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),k=o(()=>{const l=r.rows.value.top,w={};return l[0]==="l"&&r.left.space===!0&&(w[c.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),l[2]==="r"&&r.right.space===!0&&(w[c.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),w});function m(l,w){r.update("header",l,w)}function d(l,w){l.value!==w&&(l.value=w)}function L({height:l}){d(s,l),m("size",l)}function y(l){a.value===!0&&d(S,!0),f("focusin",l)}v(()=>e.modelValue,l=>{m("space",l),d(S,!0),r.animate()}),v(B,l=>{m("offset",l)}),v(()=>e.reveal,l=>{l===!1&&d(S,e.modelValue)}),v(S,l=>{r.animate(),f("reveal",l)}),v(r.scroll,l=>{e.reveal===!0&&d(S,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const u={};return r.instances.header=u,e.modelValue===!0&&m("size",s.value),m("space",e.modelValue),m("offset",B.value),fe(()=>{r.instances.header===u&&(r.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const l=Le(C.default,[]);return e.elevated===!0&&l.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(b(le,{debounce:0,onResize:L})),b("header",{class:Q.value,style:k.value,onFocusin:y},l)}}});const ve=150;var tt=F({name:"QDrawer",inheritAttrs:!1,props:{...Ve,...Ae,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[..._e,"onLayout","miniState"],setup(e,{slots:C,emit:f,attrs:c}){const r=U(),{proxy:{$q:s}}=r,S=Ne(e,s),{preventBodyScroll:T}=Re(),{registerTimeout:B,removeTimeout:g}=Fe(),a=ne(K,O);if(a===O)return console.error("QDrawer needs to be child of QLayout"),O;let Q,k=null,m;const d=x(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),L=o(()=>e.mini===!0&&d.value!==!0),y=o(()=>L.value===!0?e.miniWidth:e.width),u=x(e.showIfAbove===!0&&d.value===!1?!0:e.modelValue===!0),l=o(()=>e.persistent!==!0&&(d.value===!0||me.value===!0));function w(t,n){if(W(),t!==!1&&a.animate(),z(0),d.value===!0){const q=a.instances[I.value];q!==void 0&&q.belowBreakpoint===!0&&q.hide(!1),P(1),a.isContainer.value!==!0&&T(!0)}else P(0),t!==!1&&Y(!1);B(()=>{t!==!1&&Y(!0),n!==!0&&f("show",t)},ve)}function i(t,n){V(),t!==!1&&a.animate(),P(0),z(D.value*y.value),Z(),n!==!0?B(()=>{f("hide",t)},ve):g()}const{show:h,hide:$}=Ie({showing:u,hideOnRouteChange:l,handleShow:w,handleHide:i}),{addToHistory:W,removeFromHistory:V}=De(u,$,l),M={belowBreakpoint:d,hide:$},p=o(()=>e.side==="right"),D=o(()=>(s.lang.rtl===!0?-1:1)*(p.value===!0?1:-1)),ie=x(0),R=x(!1),j=x(!1),re=x(y.value*D.value),I=o(()=>p.value===!0?"left":"right"),G=o(()=>u.value===!0&&d.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),J=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(p.value?"R":"L")>-1||s.platform.is.ios===!0&&a.isContainer.value===!0),_=o(()=>e.overlay===!1&&u.value===!0&&d.value===!1),me=o(()=>e.overlay===!0&&u.value===!0&&d.value===!1),ye=o(()=>"fullscreen q-drawer__backdrop"+(u.value===!1&&R.value===!1?" hidden":"")),be=o(()=>({backgroundColor:`rgba(0,0,0,${ie.value*.4})`})),ue=o(()=>p.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ge=o(()=>p.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),we=o(()=>{const t={};return a.header.space===!0&&ue.value===!1&&(J.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&ge.value===!1&&(J.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),qe=o(()=>{const t={width:`${y.value}px`,transform:`translateX(${re.value}px)`};return d.value===!0?t:Object.assign(t,we.value)}),xe=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Se=o(()=>`q-drawer q-drawer--${e.side}`+(j.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(S.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":u.value===!0?"":" q-layout--prevent-focus")+(d.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${L.value===!0?"mini":"standard"}`+(J.value===!0||_.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ue.value===!0?" q-drawer--top-padding":""))),$e=o(()=>{const t=s.lang.rtl===!0?e.side:I.value;return[[te,Te,void 0,{[t]:!0,mouse:!0}]]}),ze=o(()=>{const t=s.lang.rtl===!0?I.value:e.side;return[[te,se,void 0,{[t]:!0,mouse:!0}]]}),Ce=o(()=>{const t=s.lang.rtl===!0?I.value:e.side;return[[te,se,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function X(){Be(d,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(d,t=>{t===!0?(Q=u.value,u.value===!0&&$(!1)):e.overlay===!1&&e.behavior!=="mobile"&&Q!==!1&&(u.value===!0?(z(0),P(0),Z()):h(!1))}),v(()=>e.side,(t,n)=>{a.instances[n]===M&&(a.instances[n]=void 0,a[n].space=!1,a[n].offset=0),a.instances[t]=M,a[t].size=y.value,a[t].space=_.value,a[t].offset=G.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&X()}),v(()=>e.behavior+e.breakpoint,X),v(a.isContainer,t=>{u.value===!0&&T(t!==!0),t===!0&&X()}),v(a.scrollbarWidth,()=>{z(u.value===!0?0:void 0)}),v(G,t=>{H("offset",t)}),v(_,t=>{f("onLayout",t),H("space",t)}),v(p,()=>{z()}),v(y,t=>{z(),ee(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{ee(t,y.value)}),v(()=>s.lang.rtl,()=>{z()}),v(()=>e.mini,()=>{e.modelValue===!0&&(ke(),a.animate())}),v(L,t=>{f("miniState",t)});function z(t){t===void 0?ce(()=>{t=u.value===!0?0:y.value,z(D.value*t)}):(a.isContainer.value===!0&&p.value===!0&&(d.value===!0||Math.abs(t)===y.value)&&(t+=D.value*a.scrollbarWidth.value),re.value=t)}function P(t){ie.value=t}function Y(t){const n=t===!0?"remove":a.isContainer.value!==!0?"add":"";n!==""&&document.body.classList[n]("q-body--drawer-toggle")}function ke(){k!==null&&clearTimeout(k),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),j.value=!0,k=setTimeout(()=>{k=null,j.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Te(t){if(u.value!==!1)return;const n=y.value,q=E(t.distance.x,0,n);if(t.isFinal===!0){q>=Math.min(75,n)===!0?h():(a.animate(),P(0),z(D.value*n)),R.value=!1;return}z((s.lang.rtl===!0?p.value!==!0:p.value)?Math.max(n-q,0):Math.min(0,q-n)),P(E(q/n,0,1)),t.isFirst===!0&&(R.value=!0)}function se(t){if(u.value!==!0)return;const n=y.value,q=t.direction===e.side,A=(s.lang.rtl===!0?q!==!0:q)?E(t.distance.x,0,n):0;if(t.isFinal===!0){Math.abs(A)<Math.min(75,n)===!0?(a.animate(),P(1),z(0)):$(),R.value=!1;return}z(D.value*A),P(E(1-A/n,0,1)),t.isFirst===!0&&(R.value=!0)}function Z(){T(!1),Y(!0)}function H(t,n){a.update(e.side,t,n)}function Be(t,n){t.value!==n&&(t.value=n)}function ee(t,n){H("size",t===!0?e.miniWidth:n)}return a.instances[e.side]=M,ee(e.miniToOverlay,y.value),H("space",_.value),H("offset",G.value),e.showIfAbove===!0&&e.modelValue!==!0&&u.value===!0&&e["onUpdate:modelValue"]!==void 0&&f("update:modelValue",!0),pe(()=>{f("onLayout",_.value),f("miniState",L.value),Q=e.showIfAbove===!0;const t=()=>{(u.value===!0?w:i)(!1,!0)};if(a.totalWidth.value!==0){ce(t);return}m=v(a.totalWidth,()=>{m(),m=void 0,u.value===!1&&e.showIfAbove===!0&&d.value===!1?h(!1):t()})}),fe(()=>{m!==void 0&&m(),k!==null&&(clearTimeout(k),k=null),u.value===!0&&Z(),a.instances[e.side]===M&&(a.instances[e.side]=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const t=[];d.value===!0&&(e.noSwipeOpen===!1&&t.push(Oe(b("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),$e.value)),t.push(de("div",{ref:"backdrop",class:ye.value,style:be.value,"aria-hidden":"true",onClick:$},void 0,"backdrop",e.noSwipeBackdrop!==!0&&u.value===!0,()=>Ce.value)));const n=L.value===!0&&C.mini!==void 0,q=[b("div",{...c,key:""+n,class:[xe.value,c.class]},n===!0?C.mini():oe(C.default))];return e.elevated===!0&&u.value===!0&&q.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(de("aside",{ref:"content",class:Se.value,style:qe.value},q,"contentclose",e.noSwipeClose!==!0&&d.value===!0,()=>ze.value)),b("div",{class:"q-drawer-container"},t)}}}),at=F({name:"QPageContainer",setup(e,{slots:C}){const{proxy:{$q:f}}=U(),c=ne(K,O);if(c===O)return console.error("QPageContainer needs to be child of QLayout"),O;he(Pe,!0);const r=o(()=>{const s={};return c.header.space===!0&&(s.paddingTop=`${c.header.size}px`),c.right.space===!0&&(s[`padding${f.lang.rtl===!0?"Left":"Right"}`]=`${c.right.size}px`),c.footer.space===!0&&(s.paddingBottom=`${c.footer.size}px`),c.left.space===!0&&(s[`padding${f.lang.rtl===!0?"Right":"Left"}`]=`${c.left.size}px`),s});return()=>b("div",{class:"q-page-container",style:r.value},oe(C.default))}}),lt=F({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:C,emit:f}){const{proxy:{$q:c}}=U(),r=x(null),s=x(c.screen.height),S=x(e.container===!0?0:c.screen.width),T=x({position:0,direction:"down",inflectionPoint:0}),B=x(0),g=x(He.value===!0?0:ae()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),Q=o(()=>e.container===!1?{minHeight:c.screen.height+"px"}:null),k=o(()=>g.value!==0?{[c.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),m=o(()=>g.value!==0?{[c.lang.rtl===!0?"right":"left"]:0,[c.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function d(i){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:i.position.top,direction:i.direction,directionChanged:i.directionChanged,inflectionPoint:i.inflectionPoint.top,delta:i.delta.top};T.value=h,e.onScroll!==void 0&&f("scroll",h)}}function L(i){const{height:h,width:$}=i;let W=!1;s.value!==h&&(W=!0,s.value=h,e.onScrollHeight!==void 0&&f("scrollHeight",h),u()),S.value!==$&&(W=!0,S.value=$),W===!0&&e.onResize!==void 0&&f("resize",i)}function y({height:i}){B.value!==i&&(B.value=i,u())}function u(){if(e.container===!0){const i=s.value>B.value?ae():0;g.value!==i&&(g.value=i)}}let l=null;const w={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:r,height:s,containerHeight:B,scrollbarWidth:g,totalWidth:o(()=>S.value+g.value),rows:o(()=>{const i=e.view.toLowerCase().split(" ");return{top:i[0].split(""),middle:i[1].split(""),bottom:i[2].split("")}}),header:N({size:0,offset:0,space:!1}),right:N({size:300,offset:0,space:!1}),footer:N({size:0,offset:0,space:!1}),left:N({size:300,offset:0,space:!1}),scroll:T,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(i,h,$){w[i][h]=$}};if(he(K,w),ae()>0){let $=function(){i=null,h.classList.remove("hide-scrollbar")},W=function(){if(i===null){if(h.scrollHeight>c.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout($,300)},V=function(M){i!==null&&M==="remove"&&(clearTimeout(i),$()),window[`${M}EventListener`]("resize",W)},i=null;const h=document.body;v(()=>e.container!==!0?"add":"remove",V),e.container!==!0&&V("add"),Qe(()=>{V("remove")})}return()=>{const i=We(C.default,[b(Me,{onScroll:d}),b(le,{onResize:L})]),h=b("div",{class:a.value,style:Q.value,ref:e.container===!0?void 0:r,tabindex:-1},i);return e.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:r},[b(le,{onResize:y}),b("div",{class:"absolute-full",style:k.value},[b("div",{class:"scroll",style:m.value},[h])])]):h}}});export{Ze as Q,et as a,tt as b,at as c,lt as d};
