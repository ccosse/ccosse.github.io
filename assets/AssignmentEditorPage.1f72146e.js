import{Q as S}from"./QPage.cd9fa1a3.js";import{u as y}from"./re-store.89a69545.js";import{Q as C}from"./QBanner.8a8510b0.js";import{Q as h}from"./QImg.7099fc15.js";import{Q as u}from"./QCard.48f74f10.js";import{Q as E}from"./QCardSection.9a644ae0.js";import{e as x,r as b,u as Q,_ as k,o as a,f as m,w as o,k as t,g as i,ar as n,aq as _,j as c,at as $,aG as A,aF as f,l as V}from"./index.600d8139.js";import"./firebase.0eb8f378.js";import"./transform.aea72fbe.js";import"./index.2cf0d985.js";import"./use-dark.6b8e3cc1.js";const q=x({name:"AssignmentEditor",setup(){return{reStore:y(),assignment:b(null)}},mounted(){console.log("AE mounted"),Q(this.reStore.courses,async(s,e)=>{if(console.log("AE watcher ",s,e),!this.assignment||this.assignment.id!==s.aid){const l=this.reStore.courses.ck,d=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[l].assignments[d]))}});try{if(!this.assignment||this.assignment.id!==newObj.aid){const s=this.reStore.courses.ck,e=this.reStore.courses.aid;this.assignment=JSON.parse(JSON.stringify(this.reStore.courses[s].assignments[e]))}}catch(s){console.log(s)}},methods:{pgCB(s){console.log("AE pgCB ",s),this.reStore.courses.selectedRHSTab="pagerTab"},dummy(){console.log("dummy")}}}),B={class:"q-pa-md"},N={class:"text-weight-bolder text-center text-h4 q-pa-md"},j={class:"flex flex-row justify-center"},P={key:0,class:"flex flex-row justify-center"},J=t("span",{class:"justify-between"},"p 00",-1),O=t("span",{class:"on-right"},"Cover Page",-1),T=t("span",{class:"float-right"},"1 img",-1),U={class:"justify-between"},F={class:"on-right"},R={class:"float-right"};function D(s,e,l,d,v,w){return a(),m(S,{class:"q-gutter-md bg-primary"},{default:o(()=>[t("div",B,[i(C,{class:"bg-positive text-white"},{default:o(()=>[t("div",N,n(this.reStore.courses[this.reStore.courses.ck].title)+"."+n(this.reStore.courses[this.reStore.courses.ck].assignments[this.reStore.courses.aid].title),1)]),_:1})]),i(u,{flat:"",class:"q-pa-sm"},{default:o(()=>[t("div",j,[this.reStore.courses.ck&&this.reStore.courses.aid?(a(),m(E,{key:0},{default:o(()=>[this.assignment?(a(),_("div",P,[i(u,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":e[0]||(e[0]=r=>this.assignment.pages=r)},{default:o(()=>[J,c(),O,c(),T,i(h,{fit:"cover",height:"230px",width:"100%",src:this.assignment.coverUrl},null,8,["src"])]),_:1},8,["modelValue"]),(a(!0),_($,null,A(this.assignment.pages,(r,g)=>(a(),m(u,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.assignment.pages,"onUpdate:modelValue":e[1]||(e[1]=p=>this.assignment.pages=p),key:g},{default:o(()=>[t("span",U,"p "+n(g),1),c(),t("span",F,n(r.pageTitle.slice(0,10)),1),c(),t("span",R,n(r.imgs.length)+" imgs",1),i(h,{fit:"cover",height:"230px",width:"100%",src:r.imgs[r.imgIdx].url,onClick:p=>this.pgCB(g)},null,8,["src","onClick"])]),_:2},1032,["modelValue"]))),128))])):f("",!0)]),_:1})):f("",!0)])]),_:1})]),_:1})}var G=k(q,[["render",D]]);const H=x({name:"AssignmentEditorPage",components:{AssignmentEditor:G},setup(s){const e=y();return{props:s,reStore:e}}});function L(s,e,l,d,v,w){const r=V("AssignmentEditor");return a(),m(S,{id:"QPage",class:"row justify-center"},{default:o(()=>[i(r)]),_:1})}var rs=k(H,[["render",L]]);export{rs as default};
