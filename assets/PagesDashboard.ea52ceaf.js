import{Q as y}from"./QCardSection.862a8d6a.js";import{Q as w}from"./QCard.3be6014c.js";import{Q as g}from"./QInput.c864b00d.js";import{b as P,a as V,c as x,Q as h}from"./QCarousel.006a47b3.js";import{_ as k,d as b,v as _,o as i,c as f,w as o,E as c,a as s,G as n,F as e,ai as l,Q as d,I as C,R as Q,V as T,T as v,S as $}from"./index.75ce3f9e.js";import{Q as I}from"./QPage.7ce681d8.js";import{u as U}from"./store.eabfb0c8.js";import"./use-dark.f6f8b257.js";import"./uid.42677368.js";import"./focusout.755806d2.js";import"./use-form.a034d4ea.js";import"./QMenu.417ec07b.js";import"./position-engine.dd15efb9.js";import"./touch.b059422d.js";import"./scroll.42015229.js";import"./use-model-toggle.bb69684b.js";import"./firebase.f7873474.js";import"./axios.84ae42e4.js";const S=b({name:"AssignmentDashboard",components:{},setup(){return{store:U(),slide:_(0),autoplay:_(!1)}},mounted(){console.log("AssignmentDashboard mounted")},methods:{editPage(){console.log("editPage"),this.store.router.push("/page")},viewPage(){console.log("viewPage"),this.store.router.push("/viewer")}}}),K={key:0,class:"text-center"},N={key:1,class:"full-width text-center absolute-top"},B={key:0,class:"q-pa-md absolute-top"},D={class:"text-h6"},q={class:"row"},E={vertical:"",class:"embed-panel text-weight-light"},A=e("tr",{style:{"background-color":"seagreen",color:"white"}},[e("td",{class:"text-center text-weight-regular",colSpan:"2"},"Page")],-1),R=e("th",{class:"key"},"Page",-1),F={class:"val"},L=e("th",{class:"key"},"Title",-1),z={class:"val cursor-pointer"},G=e("th",{class:"key"},"Image",-1),J={class:"val"},O=e("th",{class:"key"},"Caption",-1),j={class:"val cursor-pointer"},H=e("th",{class:"key"},"Updated",-1),M={class:"val"},W=e("th",{class:"key"},"Language",-1),X={class:"val"},Y=e("th",{class:"key"},"Replace",-1),Z={class:"val"},ee={id:"slideTextDiv",class:"embed-panel assignment text-white font-weight-thin vertical-top on-right q-pa-md",contenteditable:"true",style:{"max-width":"40vw"}},te={class:"",style:{width:"100px"}},se={style:{width:"500px",overflow:"hidden"},class:"q-ma-md hidden"};function oe(u,t,ae,le,re,ne){return i(),f(I,{class:"flex flex-center"},{default:o(()=>[this.store.pgIdx==null?(i(),c("div",K,[s(w,{flat:"",bordered:"",class:"text-panel"},{default:o(()=>[s(y,null,{default:o(()=>[n(" Please select or create a page ")]),_:1})]),_:1})])):(i(),c("div",N,[this.store.currentPage&&this.store.currentPage.imgs.length>0?(i(),c("div",B,[e("div",D,l(this.store.currentPage.pageTitle),1),s(V,{swipeable:"",animated:"",modelValue:u.slide,"onUpdate:modelValue":t[4]||(t[4]=r=>u.slide=r),thumbnails:"",infinite:"","control-type":"arrows",autoplay:u.autoplay,ref:"carousel",style:{height:"750px"}},{control:o(()=>[s(P,{position:"bottom-right",offset:[18,18],class:"q-gutter-xs"},{default:o(()=>[s(d,{push:"",round:"",dense:"",color:"primary","text-color":"white",icon:"arrow_left",onClick:t[2]||(t[2]=r=>u.$refs.carousel.previous())}),s(d,{push:"",round:"",dense:"",color:"primary","text-color":"white",icon:"arrow_right",onClick:t[3]||(t[3]=r=>u.$refs.carousel.next())})]),_:1})]),default:o(()=>[(i(!0),c(C,null,Q(this.store.currentPage.imgs,(r,p)=>(i(),f(x,{key:p,name:p,"img-src":r.url,class:"text-panel"},{default:o(()=>[e("div",q,[e("table",E,[A,e("tr",null,[R,e("td",F,l(this.store.pgIdx+1)+" / "+l(this.store.currentAssignment.pages.length),1)]),e("tr",null,[L,e("td",z,[n(l(this.store.currentPage.pageTitle)+" ",1),s(h,{modelValue:this.store.currentPage.pageTitle,"onUpdate:modelValue":t[0]||(t[0]=a=>this.store.currentPage.pageTitle=a),"auto-save":""},{default:o(a=>[s(g,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:v(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])]),e("tr",null,[G,e("td",J,l(p+1)+" / "+l(this.store.currentPage.imgs.length),1)]),e("tr",null,[O,e("td",j,[n(l(r.cap)+" ",1),s(h,{modelValue:r.cap,"onUpdate:modelValue":a=>r.cap=a,"auto-save":""},{default:o(a=>[s(g,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:v(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),e("tr",null,[H,e("td",M,l(this.store.currentPage.updated),1)]),e("tr",null,[W,e("td",X,l(this.store.currentPage.langVoiceKey),1)]),e("tr",null,[Y,e("td",Z,l(this.store.currentPage.pctReplace)+"%",1)])]),e("div",ee,[n(l(this.store.currentPage.pageText)+" ",1),e("span",te,[s(d,{dense:"",round:"",class:"speak-button float-right",onClick:t[1]||(t[1]=a=>this.store.speakText(this.store.currentPage.pageText))},{default:o(()=>[s($,{name:"volume_up",size:"md"})]),_:1})])])])]),_:2},1032,["name","img-src"]))),128))]),_:1},8,["modelValue","autoplay"]),s(d,{"no-caps":"",class:"bg-primary",onClick:t[5]||(t[5]=r=>this.editPage())},{default:o(()=>[n("Edit Text & Images")]),_:1}),s(d,{"no-caps":"",class:"bg-primary on-right",onClick:t[6]||(t[6]=r=>this.viewPage())},{default:o(()=>[n("View Page")]),_:1}),s(d,{"no-caps":"",class:"bg-primary on-right",onClick:t[7]||(t[7]=r=>this.store.newImage())},{default:o(()=>[n("New Image")]),_:1})])):T("",!0),e("div",null,[e("div",se,[e("pre",null,l(JSON.stringify(this.store.currentPage,null,2)),1)])])]))]),_:1})}var Ce=k(S,[["render",oe]]);export{Ce as default};
