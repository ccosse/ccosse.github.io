import{a as f,Q as K}from"./QCardSection.7a8e8198.js";import{Q as A}from"./QInput.eb11786c.js";import{_ as q,r as C,o as n,f as v,w as e,g as t,aO as E,J as k,Q as m,k as s,j as i,aq as Q,an as a,ar as g,as as S,ap as p,i as x,at as P}from"./index.89842271.js";import{d as N,Q as $,C as b}from"./ClosePopup.8f1204f3.js";import{Q as y}from"./QCard.42ec64f3.js";import{Q as z}from"./QBanner.3d72183c.js";import{Q as _}from"./QTooltip.59ddce99.js";import{Q as T}from"./QBtnGroup.235877a2.js";import{Q as w}from"./QExpansionItem.e30fa5be.js";import{Q as U}from"./QList.771e5069.js";import{Q as D}from"./QPage.7d47aa6a.js";import{u as I}from"./re-store.dee276a0.js";import"./use-key-composition.f856fd0d.js";import"./use-dark.1ee1890c.js";import"./uid.4f7d2bc7.js";import"./use-form.24c9bae0.js";import"./use-prevent-scroll.86379370.js";import"./firebase.79bf92f9.js";import"./transform.aea72fbe.js";import"./index.2cf0d985.js";const j=I(),L={setup(){return{prompt:C(!1),courseKey:C(null),reStore:j,mval:C(!0)}},mounted(){this.reStore.unloadCurrent()},methods:{selectAssignment(d,o){console.log("StudentPage selectAssignment ",d,o)},takeAssignment(d,o){console.log("takeAssignment: ",d,o),this.reStore.loadAssignment(d,o),this.reStore.router.push("/student/assignment")},enrollCB(){console.log("StudentPage.enrollCB",this.courseKey);const d=this.reStore.enroll(this.courseKey);console.log(d)}}},M=s("div",{class:"text-h6"},"Enter a course-key",-1),F={class:"q-pa-md"},G=s("div",{class:"text-weight-bolder text-center text-h4 q-pa-md"}," Student ",-1),H={class:"q-ma-sm"},J=s("br",null,null,-1),O={key:0},R={class:"q-pa-md"},W={class:"hidden"},X=s("br",null,null,-1),Y=s("br",null,null,-1),Z={class:"flex flex-row justify-center"},ee={class:"absolute-top text-center"},te={class:"text-h6"},se={class:"text-subtitle2"},oe={key:0},le={key:1},ne={style:{"font-size":"22pt",width:"100%"},class:"text-center absolute-bottom"},re={class:"hidden"},ae={width:"100%"},ie=s("tr",null,[s("th",{colSpan:"100"},"My Score Sheet")],-1),de=s("th",null,"Student",-1),ue={style:{"text-align":"center"}},ce={key:0},pe={key:1};function me(d,o,_e,c,he,fe){return n(),v(D,{class:"q-gutter-md"},{default:e(()=>[t($,{modelValue:c.prompt,"onUpdate:modelValue":o[3]||(o[3]=r=>c.prompt=r),persistent:""},{default:e(()=>[t(y,{style:{"min-width":"350px"}},{default:e(()=>[t(f,null,{default:e(()=>[M]),_:1}),t(f,{class:"q-pt-none"},{default:e(()=>[t(A,{dense:"",modelValue:c.courseKey,"onUpdate:modelValue":o[0]||(o[0]=r=>c.courseKey=r),autofocus:"",onKeyup:o[1]||(o[1]=E(r=>{c.prompt=!1,this.enrollCB()},["enter"]))},null,8,["modelValue"])]),_:1}),t(N,{align:"right",class:"text-white"},{default:e(()=>[k(t(m,{flat:"",label:"Cancel"},null,512),[[b]]),k(t(m,{flat:"",label:"Enroll",onClick:o[2]||(o[2]=r=>this.enrollCB())},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",F,[t(w,{class:"bg-positive",modelValue:d.defaultExpanded,"onUpdate:modelValue":o[6]||(o[6]=r=>d.defaultExpanded=r)},{header:e(()=>[t(z,{class:"bg-positive text-white",style:{width:"100%"}},{default:e(()=>[G]),_:1})]),default:e(()=>[t(y,{flat:""},{default:e(()=>[t(f,{class:"text-center",style:{fontSize:"12pt"}},{default:e(()=>[s("div",H,[t(T,null,{default:e(()=>[t(m,{class:"on-left",icon:"group_add",onClick:o[4]||(o[4]=r=>c.prompt=!0)},{default:e(()=>[t(_,null,{default:e(()=>[i("Have a course-key? Enter it here"),J,i("to join your course.")]),_:1})]),_:1}),this.reStore.authenticated?(n(),v(m,{key:0,class:"on-right",onClick:o[5]||(o[5]=r=>this.reStore.router.push("/teacher")),icon:"switch_account"},{default:e(()=>[t(_,null,{default:e(()=>[i(" Switch to Teacher-role ")]),_:1})]),_:1})):Q("",!0)]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),this.reStore.userSnapshot.taking?(n(),a("div",O,[(n(!0),a(g,null,S(this.reStore.userSnapshot.taking,(r,u,V)=>(n(),v(y,{flat:"",key:V,style:{opacity:"1.0"}},{default:e(()=>[s("div",R,[t(U,{bordered:"",class:"rounded-borders"},{default:e(()=>[t(w,{label:"Course",modelValue:c.mval,"onUpdate:modelValue":o[8]||(o[8]=l=>c.mval=l),"header-style":{fontSize:"16pt"}},{default:e(()=>[t(y,{flat:""},{default:e(()=>[t(f,{class:"text-center",style:{fontSize:"12pt"}},{default:e(()=>[i(" Title: "+p(this.reStore.courses[u].title)+" ",1),s("span",W,[i(" Course-Key: "+p(u)+" ",1),t(x,{class:"ptr",name:"content_copy",onClick:l=>this.copyCK(u)},null,8,["onClick"]),s("div",null,[t(m,{icon:"delete",onClick:l=>this.deleteCourseCB(r.ck)},{default:e(()=>[t(_,null,{default:e(()=>[i("Delete Course")]),_:1})]),_:2},1032,["onClick"]),t(m,{icon:"post_add",onClick:l=>this.newAssignmentCB(r.ck)},{default:e(()=>[t(_,null,{default:e(()=>[i("New Assignment")]),_:1})]),_:2},1032,["onClick"]),t(m,{icon:"content_copy",onClick:l=>this.copyCK(u)},{default:e(()=>[t(_,null,{default:e(()=>[i("Copy this course-key to clipboard. Enroll "),X,i("in this course using this course-key from "),Y,i("the Student Page.")]),_:1})]),_:2},1032,["onClick"])])])]),_:2},1024),s("div",Z,[(n(!0),a(g,null,S(this.reStore.courses[u].assignments,(l,h)=>(n(),a("div",{key:l},[t(y,{bordered:"",flat:"",class:"ccard q-mx-sm q-my-md"},{default:e(()=>[t(K,{fit:d.cover,src:l.coverUrl,height:"100%",onClick:B=>this.selectAssignment(u,l.id)},{default:e(()=>[s("div",ee,[s("div",te,p(l.title.slice(0,18)),1),s("div",se,[l.pages?(n(),a("span",oe,"Pages: "+p(l.pages.length),1)):(n(),a("span",le,"Pages: None"))])]),s("div",ne,[t(x,{onClick:[B=>this.takeAssignment(u,l.id),o[7]||(o[7]=P(()=>{},["stop","prevent"]))],name:"play_circle",class:"ptr z-top"},{default:e(()=>[t(_,null,{default:e(()=>[i("Take Assignment")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["fit","src","onClick"])]),_:2},1024),s("span",re,p(h),1)]))),128))]),t(f,null,{default:e(()=>[s("table",ae,[ie,s("tr",null,[de,(n(!0),a(g,null,S(this.reStore.courses[u].assignments,(l,h)=>(n(),a("th",{key:h},[s("span",null,p(l.title),1)]))),128))]),s("tr",null,[s("td",ue,p(this.reStore.userSnapshot.profile.name),1),(n(!0),a(g,null,S(this.reStore.courses[u].assignments,(l,h)=>(n(),a("td",{style:{"text-align":"center"},key:h},[l.scores&&l.scores[this.reStore.userSnapshot.profile.emailKey]?(n(),a("span",ce,p(l.scores[this.reStore.userSnapshot.profile.emailKey]),1)):(n(),a("span",pe," -- "))]))),128))])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1024)])]),_:2},1024))),128))])):Q("",!0)]),_:1})}var Te=q(L,[["render",me]]);export{Te as default};
