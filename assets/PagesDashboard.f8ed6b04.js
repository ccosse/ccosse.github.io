import{e as j,g as O,h as E,i as W,_ as F,d as J,v as c,n as M,o as u,E as p,a as e,w as t,H as q,r as $,aM as H,a0 as w,Q as i,F as a,G as n,c as v,W as m,a4 as P,aN as U,X as _,U as Q,V as X}from"./index.1b8c9d2e.js";import{d as k,Q as f,c as S,C as b}from"./ClosePopup.4c41ec04.js";import{Q as d}from"./QCard.98e1aeba.js";import{Q as N}from"./QItemLabel.d0570ca8.js";import{Q as Y}from"./QSelect.62cbba95.js";import{Q as C}from"./QMenu.f5259b18.js";import{c as Z,Q as T,a as K,b as ee,d as D}from"./copy-to-clipboard.d286f951.js";import{a as g,Q as L}from"./QBar.b507785a.js";import{Q as te}from"./QExpansionItem.90becfda.js";import{Q as se}from"./QSpace.fcfd6cc6.js";import{Q as oe}from"./QPage.de4e96ab.js";import{u as le}from"./store.b97da161.js";import"./transform.9aa67f3e.js";import{s as z}from"./selectAll.be636dd1.js";import"./use-prevent-scroll.0890b6a1.js";import"./scroll.4f958157.js";import"./use-dark.7249b04a.js";import"./TouchPan.92dbefd0.js";import"./touch.4babd8fe.js";import"./firebase.84a31673.js";import"./axios.84ae42e4.js";var R=j({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(l,{slots:o}){const x=O(()=>{const V=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(I=>l[I]===!0).map(I=>`q-btn-group--${I}`).join(" ");return`q-btn-group row no-wrap${V.length>0?" "+V:""}`+(l.spread===!0?" q-btn-group--spread":" inline")});return()=>E("div",{class:x.value},W(o.default))}});const ae=J({name:"PagesDashboard",setup(){return{store:le(),slide:c(0),showText:c(!1),showCap:c(!1),showGoal:c(!1),showPct:c(!1),showLanguage:c(!1),showAddImage:c(!1),confirm:c(!1),carousel:c(""),flagName:c(""),newImageUrl:c(""),langNames:c(["en","th","es","fr","it","de","zh","ja","sw","pt","ru","id","ke"])}},mounted(){this.store.pgIdx||this.store.currentAssignment.pages.length>0&&(this.store.pgIdx=this.store.currentAssignment.pages.length-1,console.log("PagesDashboard.mounted set pgIdx",this.store.pgIdx)),console.log("PagesDashboard mounted setting slide ",this.store.pgIdx),this.slide=this.store.pgIdx,z("#slideTextDiv").style("font-size",this.store.userSnapshot.preferences.pageFontSize+"pt"),M(this.store.pgIdx,async(l,o)=>{console.log("PagesDashboard.watcher pgIdx ",this.store.pgIdx),this.slide=this.store.pgIdx,this.store.imgIdx=this.store.currentPage.imgIdx},{immediate:!0})},methods:{bookmarkImage(){this.store.saveImage()},bookmarkPage(){this.store.saveBookmark()},addImageCB(){const l={url:this.newImageUrl,cap:"Caption"};this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgs.push(l);const o=this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgs.length;this.store.courses[this.store.ck].assignments[this.store.aid].pages[this.store.pgIdx].imgIdx=o-1},copyImageUrl(l){Z(l),this.store.notify("Current image url copied to clipboard")},langLinkCB(l){console.log(l.url),window.open(l.url,"_blank")},wpCB(l){const o=this.store.langVoices[this.store.currentPage.langVoiceKey].langName,x="https://"+o+".wikipedia.org/wiki?curid="+l;window.open(x,"_blank")},mapCB(){const l="https://maps.google.com/?ll="+this.store.currentPage.mapCoords.split(",")[0]+","+this.store.currentPage.mapCoords.split(",")[1];window.open(l,"_blank")},viewerCB(){console.log("AssignmentDash viewerCB setting pgIdx 0 before /viewwer"),this.store.pgIdx=0,this.store.router.replace("/viewer")},langChangeCB(l){const o=this.flagName;z(".pfi").classed(o,!1),this.flagName=this.store.langVoices[l].flagName,z(".pfi").classed(this.flagName,!0)},setAssignmentCoverURL(){try{this.store.currentAssignment.coverUrl=this.store.currentAssignment.pages[this.store.pgIdx].imgs[this.store.imgIdx].url}catch(l){console.log(l)}},editPageText(l){this.store.pgIdx=l,this.showText=!0},editImageCaption(){this.showCap=!0},incImgIdx(l){l.imgIdx+1>l.imgs.length-1?l.imgIdx=0:l.imgIdx+=1,this.store.imgIdx=l.imgIdx},decImgIdx(l){l.imgIdx-1<0?l.imgIdx=l.imgs.length-1:l.imgIdx-=1,this.store.imgIdx=l.imgIdx},test(l,o){console.log("test set ",l,o);const x=this.store.currentAssignment.pages[l];try{x.imgIdx=o}catch(V){console.log(V)}},insertPage(){const l=JSON.parse(JSON.stringify(this.store.pageTemplate));l.langVoiceKey=this.store.userSnapshot.preferences.langVoiceKey,l.pctReplace=this.store.userSnapshot.preferences.pctReplace,this.store.currentAssignment.pages.splice(this.store.pgIdx,0,l)},appendPage(){const l=JSON.parse(JSON.stringify(this.store.pageTemplate));l.langVoiceKey=this.store.userSnapshot.preferences.langVoiceKey,l.pctReplace=this.store.userSnapshot.preferences.pctReplace,this.store.currentAssignment.pages.push(l),this.carousel.goTo(this.store.currentAssignment.pages.length-1)},removePage(){this.store.currentAssignment.pages.splice(this.store.pgIdx,1),this.store.currentAssignment.pages.length<=this.store.pgIdx&&(this.store.pgIdx-=1,this.slide=this.store.pgIdx)},slideChanged(l){this.store.pgIdx=l},slideTransitioned(l,o){console.log(l,o);const x=this.store.currentAssignment.pages[this.store.pgIdx].langVoiceKey;console.log("slideChanged calling langChangeCB with ",x),this.langChangeCB(x)}}}),ne=a("span",{class:"q-ml-sm"},"Confirm delete current page?",-1),ie=a("div",{class:"text-h6"},"Points Goal of Assignment",-1),re=a("div",{class:"text-h6"},"Set Lang-Voice This Page",-1),de=a("div",null," Play with this but don't save as a different language, ie change it back to whatever it originally was. This is because the Wikipedia page link is coupled to the language. By changing this you can speak English with a French accent, for example, but saving the page with a different language will prevent the page from displaying. It is left on the user to ensure the original language is ultimately saved. ",-1),ue=a("span",{class:"on-right pfi"},null,-1),ge={width:"100%",class:"z-max"},me=a("div",{class:"text-h6"},"Percent Replace",-1),ce={key:0},pe={style:{"background-color":"#333"}},he=a("td",{class:"key q-px-md"},"Course:",-1),fe={class:"val q-px-md"},xe=a("td",{class:"key q-px-md"},"Assignment:",-1),_e={class:"val q-px-md"},ye=a("td",{class:"key q-px-md"},"Page:",-1),we={class:"val q-px-md"},ke={key:1,class:"justify-center absolute-top"},be={class:"text-panel justify-center q-mx-md q-mb-xs q-mt-md"},Ce={class:"cursor-pointer"},ve={class:"q-px-md row content-center"},Ve={class:"embed-panel col-12 col-md-4 assignment",style:{"z-index":"5",height:"50vh","max-height":"50vh"}},Ie={class:"q-px-sm row content-start"},qe={dense:"",class:"meta-table",width:"100%"},Pe=a("td",{class:"key"},"Title",-1),Ue={class:"val cursor-pointer"},Se={class:"no-wrap"},Te=a("td",{class:"key"},"Replace %",-1),Ae={class:"val cursor-pointer"},Be=a("td",{class:"key"},"Images",-1),Qe={class:"val"},ze=a("td",{class:"key"},"Language",-1),$e={class:"pfi"},Ne=a("tr",null,[a("td",{class:"key",colSpan:"2"},"More Page Actions")],-1),Ke={colSpan:"2"},De={class:"text-center"},Le=a("br",null,null,-1),Re={class:"text-primary",colSpan:"2"},Ge=["onClick"],je={key:0,style:{cursor:"pointer"}},Oe={dense:"",class:"embed-panel col-12 col-md-6 on-right assignment",style:{"z-index":"5",height:"50vh","max-height":"50vh"}},Ee={style:{height:"30px"}},We={key:0,class:"ellipsis"},Fe={key:1,class:"ellipsis"},Je={class:"ellipsis"},Me={style:{"vertical-align":"top"}},He={class:"text-white q-pa-md",contenteditable:"true",id:"slideTextDiv",style:{overflow:"auto"}},Xe={class:"",style:{width:"100px"}},Ye={class:"control-panel q-pa-sm row no-wrap flex flex-center",style:{overflow:"auto"}},Ze={key:1},et=a("br",null,null,-1),tt={key:2,class:"on-right flex flex-center"};function st(l,o,x,V,I,ot){const A=$("router-link"),G=$("nobr");return u(),p(q,null,[e(k,{modelValue:l.confirm,"onUpdate:modelValue":o[1]||(o[1]=s=>l.confirm=s),persistent:"",class:"z-max"},{default:t(()=>[e(d,null,{default:t(()=>[e(f,{class:"row items-center"},{default:t(()=>[e(H,{icon:"delete",color:"primary","text-color":"white"}),ne]),_:1}),e(S,{align:"right",class:"text-white"},{default:t(()=>[w(e(i,{flat:"",label:"Cancel"},null,512),[[b]]),w(e(i,{flat:"",label:"Delete",onClick:o[0]||(o[0]=s=>this.removePage())},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:l.showGoal,"onUpdate:modelValue":o[3]||(o[3]=s=>l.showGoal=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,{align:"center"},{default:t(()=>[ie]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:t(()=>[e(N,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.store.currentAssignment.goal,"onUpdate:modelValue":o[2]||(o[2]=s=>this.store.currentAssignment.goal=s)},null,8,["thickness","modelValue"])]),_:1}),e(S,{align:"center",class:"text-white"},{default:t(()=>[w(e(i,{flat:"",label:"Done"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:l.showLanguage,"onUpdate:modelValue":o[5]||(o[5]=s=>l.showLanguage=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,null,{default:t(()=>[re,de,ue]),_:1}),e(f,{class:"q-pt-none"},{default:t(()=>[a("table",ge,[a("tr",null,[a("td",null,[e(Y,{class:"z-max",outlined:"",modelValue:this.store.currentPage.langVoiceKey,"onUpdate:modelValue":[o[4]||(o[4]=s=>this.store.currentPage.langVoiceKey=s),this.langChangeCB],options:this.store.userSnapshot.preferences.langVoices},null,8,["modelValue","options","onUpdate:modelValue"])])])])]),_:1}),e(S,{align:"right",class:"text-white"},{default:t(()=>[w(e(i,{outline:"",flat:"",label:"Done"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:l.showPct,"onUpdate:modelValue":o[7]||(o[7]=s=>l.showPct=s),persistent:""},{default:t(()=>[e(d,{style:{"min-width":"350px"}},{default:t(()=>[e(f,{align:"center"},{default:t(()=>[me]),_:1}),e(f,{class:"q-pt-none",align:"center"},{default:t(()=>[e(N,{"show-value":"",size:"140px",thickness:.5,color:"positive","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:this.store.currentPage.pctReplace,"onUpdate:modelValue":o[6]||(o[6]=s=>this.store.currentPage.pctReplace=s)},null,8,["thickness","modelValue"])]),_:1}),e(S,{align:"center",class:"text-white"},{default:t(()=>[w(e(i,{flat:"",label:"Done"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:l.showText,"onUpdate:modelValue":o[10]||(o[10]=s=>l.showText=s)},{default:t(()=>[a("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px"}},{default:t(()=>[e(C,{modelValue:this.store.currentPage.pageText,"onUpdate:modelValue":o[8]||(o[8]=s=>this.store.currentPage.pageText=s),type:"textarea",clearable:"",dense:"",autofocus:"",filled:"",autogrow:"",counter:""},null,8,["modelValue"]),e(i,{onClick:o[9]||(o[9]=s=>l.showText=!1)},{default:t(()=>[n("Close")]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e(k,{modelValue:l.showCap,"onUpdate:modelValue":o[13]||(o[13]=s=>l.showCap=s)},{default:t(()=>[a("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px",height:"200px"}},{default:t(()=>[e(C,{modelValue:this.store.currentPage.imgs[this.store.currentPage.imgIdx].cap,"onUpdate:modelValue":o[11]||(o[11]=s=>this.store.currentPage.imgs[this.store.currentPage.imgIdx].cap=s),type:"textarea",clearable:"",dense:"",autofocus:"",counter:""},null,8,["modelValue"]),e(i,{onClick:o[12]||(o[12]=s=>l.showCap=!1)},{default:t(()=>[n("Close")]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e(k,{modelValue:l.showAddImage,"onUpdate:modelValue":o[15]||(o[15]=s=>l.showAddImage=s)},{default:t(()=>[a("div",null,[e(d,{class:"q-pa-md outlined q-ma-lg text-white text-center",style:{width:"400px",height:"200px"}},{default:t(()=>[e(f,null,{default:t(()=>[n("Enter image url")]),_:1}),e(C,{modelValue:this.newImageUrl,"onUpdate:modelValue":o[14]||(o[14]=s=>this.newImageUrl=s),type:"input",clearable:"",dense:"",autofocus:"",counter:""},null,8,["modelValue"]),w((u(),v(i,null,{default:t(()=>[n("Close")]),_:1})),[[b]]),w((u(),v(i,{onClick:l.addImageCB},{default:t(()=>[n("Add")]),_:1},8,["onClick"])),[[b]])]),_:1})])]),_:1},8,["modelValue"]),e(oe,{class:"flex flex-center"},{default:t(()=>[this.store.pgIdx===null||this.store.pgIdx===-1?(u(),p("div",ce,[e(d,{flat:"",bordered:"",class:"text-panel q-ma-md"},{default:t(()=>[e(f,null,{default:t(()=>[a("table",pe,[a("tr",null,[he,a("td",fe,[e(A,{to:"/courses",class:"text-white"},{default:t(()=>{var s;return[n(m((s=this.store.currentCourse)==null?void 0:s.title),1)]}),_:1})])]),a("tr",null,[xe,a("td",_e,[e(A,{to:"/courses/assignments",class:"text-white"},{default:t(()=>{var s;return[n(m((s=this.store.currentAssignment)==null?void 0:s.title),1)]}),_:1})])]),a("tr",null,[ye,a("td",we,[e(A,{to:"/courses/assignments/pages",class:"text-white"},{default:t(()=>{var s;return[n(m((s=this.store.currentPage)==null?void 0:s.pageTitle),1)]}),_:1})])])])]),_:1}),e(f,{class:"text-center"},{default:t(()=>[n(" Please select an page ")]),_:1})]),_:1})])):this.store.currentPage?(u(),p("div",ke,[a("div",be,[n(" Page "+m(this.store.pgIdx+1)+": ",1),a("span",Ce,[n(m(this.store.currentPage.pageTitle)+" ",1),e(T,{modelValue:this.store.currentPage.pageTitle,"onUpdate:modelValue":o[16]||(o[16]=s=>this.store.currentPage.pageTitle=s),"auto-save":"",style:{maxWidth:"320px"}},{default:t(s=>[e(C,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:P(s.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])]),a("div",ve,[e(K,{class:"q-mx-md q-mt-md full-width",animated:"",swipeable:"",thumbnails:"","navigation-position":"top",modelValue:l.slide,"onUpdate:modelValue":[o[31]||(o[31]=s=>l.slide=s),this.slideChanged],infinite:"","control-type":"arrows",ref:"carousel",height:"82vh",onTransition:this.slideTransitioned},{control:t(()=>[e(ee,{position:"bottom",offset:[0,0]},{default:t(()=>[a("div",Ye,[e(i,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_left",style:U({height:"33.5px",width:"33.5px"}),onClick:o[20]||(o[20]=s=>l.$refs.carousel.previous())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Previous page ")]),_:1})]),_:1})]),_:1},8,["style"]),e(i,{push:"",round:"",class:"on-right dash-button","text-color":"white",icon:"arrow_right",style:U({height:"33.5px",width:"33.5px"}),onClick:o[21]||(o[21]=s=>l.$refs.carousel.next())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Next page ")]),_:1})]),_:1})]),_:1},8,["style"]),this.store.currentAssignment.pages.length>0?(u(),v(i,{key:0,"no-caps":"",class:"dash-button on-right",onClick:o[22]||(o[22]=s=>this.viewerCB()),icon:"smart_display"},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Test assignment in Viewer ")]),_:1})]),_:1})]),_:1})):_("",!0),this.store.role==="teacher"?(u(),p("span",Ze,[e(i,{"no-caps":"",class:"dash-button on-right",onClick:o[23]||(o[23]=s=>this.setAssignmentCoverURL()),icon:"wallpaper"},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Use the image currently showing as"),et,n("the cover image for the assignment ")]),_:1})]),_:1})]),_:1}),e(i,{"no-caps":"",class:"dash-button on-right",onClick:o[24]||(o[24]=s=>this.insertPage())},{default:t(()=>[n("| "),e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Insert new page at current position ")]),_:1})]),_:1})]),_:1}),e(i,{"no-caps":"",icon:"add",class:"dash-button on-right",onClick:o[25]||(o[25]=s=>this.appendPage())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Append a new page ")]),_:1})]),_:1})]),_:1}),e(i,{"no-caps":"",icon:"save",class:"dash-button on-right",onClick:o[26]||(o[26]=s=>this.store.commitCurrentAssignment())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Save assignment to cloud database ")]),_:1})]),_:1})]),_:1}),e(i,{"no-caps":"",icon:"delete",class:"dash-button on-right",onClick:o[27]||(o[27]=s=>this.removePage())},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Delete the current page ")]),_:1})]),_:1})]),_:1})])):_("",!0),this.store.currentPage?(u(),p("span",tt,[e(K,{class:"hidden",infinite:"",autoplay:this.store.autoplay,style:{height:"44px",width:"95px",backgroundColor:"#3330"},modelValue:this.store.currentPage.imgIdx,"onUpdate:modelValue":o[28]||(o[28]=s=>this.store.currentPage.imgIdx=s)},{default:t(()=>[(u(!0),p(q,null,Q(this.store.currentPage.imgs,(s,h)=>(u(),v(D,{key:h,name:h,"img-src":this.store.currentPage.imgs[h].url,onClick:B=>this.test(l.pidx,h)},null,8,["name","img-src","onClick"]))),128))]),_:1},8,["autoplay","modelValue"])])):_("",!0),e(i,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_left",style:U({height:"33.5px",width:"33.5px"}),onClick:o[29]||(o[29]=s=>this.decImgIdx(this.store.currentPage))},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Previous image ")]),_:1})]),_:1})]),_:1},8,["style"]),e(i,{push:"",round:"",class:"dash-button","text-color":"white",icon:"arrow_right",style:U({height:"33.5px",width:"33.5px"}),onClick:o[30]||(o[30]=s=>this.incImgIdx(this.store.currentPage))},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Next image ")]),_:1})]),_:1})]),_:1},8,["style"])])]),_:1})]),default:t(()=>[(u(!0),p(q,null,Q(this.store.currentAssignment.pages,(s,h)=>{var B;return u(),v(D,{class:"text-panel items-center justify-center row",key:h,name:h,"img-src":(B=s==null?void 0:s.imgs[s==null?void 0:s.imgIdx])==null?void 0:B.url},{default:t(()=>[a("table",Ve,[e(L,null,{default:t(()=>[n("Page "+m(h+1)+" / "+m(this.store.currentAssignment.pages.length),1)]),_:2},1024),a("tr",null,[a("td",Ie,[a("table",qe,[a("tr",null,[Pe,a("td",Ue,[a("div",Se,[e(G,null,{default:t(()=>[n(m(s.pageTitle.slice(0,25))+" ...",1)]),_:2},1024)]),e(T,{modelValue:s.pageTitle,"onUpdate:modelValue":r=>s.pageTitle=r,"auto-save":""},{default:t(r=>[e(C,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:P(r.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),a("tr",null,[Te,a("td",Ae,[this.store.currentPage?(u(),v(i,{key:0,dense:"",round:"",flat:"",onClick:o[17]||(o[17]=r=>this.showPct=!0)},{default:t(()=>[n(m(this.store.currentPage.pctReplace)+"% ",1),e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Percentage of words to replace on this page ")]),_:1})]),_:1})]),_:1})):_("",!0)])]),a("tr",null,[Be,a("td",Qe,[e(R,{flat:""},{default:t(()=>[e(i,{flat:"",dense:""},{default:t(()=>[n(m(s.imgIdx+1)+"/"+m(s.imgs.length),1)]),_:2},1024),e(i,{flat:"",round:"",dense:"",icon:"add",onClick:o[18]||(o[18]=r=>l.showAddImage=!0)},{default:t(()=>[e(g,null,{default:t(()=>[n("Add an image to this page")]),_:1})]),_:1})]),_:2},1024)])]),a("tr",null,[ze,a("td",{class:"val cursor-pointer",onClick:o[19]||(o[19]=r=>this.showLanguage=!0)},[a("span",$e,[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(m(s.langVoiceKey),1)]),_:2},1024)]),_:2},1024)])])]),Ne,a("tr",null,[a("td",Ke,[a("div",De,[e(R,null,{default:t(()=>[e(i,{dense:"",icon:"content_copy",onClick:r=>this.copyImageUrl(s.imgs[s.imgIdx].url)},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Copy the url of image currently"),Le,n(" displayed to the clipboard. ")]),_:1})]),_:1})]),_:2},1032,["onClick"]),e(i,{icon:"link",onClick:r=>this.wpCB(s.pageid)},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" View the full Wikipedia article in a new tab ")]),_:1})]),_:1})]),_:2},1032,["onClick"]),e(i,{icon:"place",onClick:this.mapCB},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" View associated location on Google Maps, if applicable ")]),_:1})]),_:1})]),_:1},8,["onClick"]),e(i,{icon:"bookmark",onClick:this.bookmarkImage},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Bookmark the current image ")]),_:1})]),_:1})]),_:1},8,["onClick"]),e(i,{dense:"",icon:"bookmark",onClick:this.bookmarkPage},{default:t(()=>[e(g,{style:{backgroundColor:"#222",fontSize:"12pt"}},{default:t(()=>[e(d,{bordered:"",flat:"",class:"q-ma-xs q-pa-sm"},{default:t(()=>[n(" Bookmark the current page ")]),_:1})]),_:1})]),_:1},8,["onClick"])]),_:2},1024)])])]),a("tr",null,[a("td",Re,[e(te,{label:"Alternate Languages","header-style":{color:"seagreen",padding:"0px 0px"}},{default:t(()=>[(u(!0),p(q,null,Q(s.currentLangLinks,(r,y)=>(u(),p("span",{key:y,onClick:lt=>this.langLinkCB(r)},[this.langNames.indexOf(r.lang)>-1?(u(),p("span",je,[a("u",null,m(r.lang),1),n(",\xA0 ")])):_("",!0)],8,Ge))),128))]),_:2},1024)])])])])])]),a("table",Oe,[a("tr",Ee,[a("td",null,[e(L,null,{default:t(()=>[this.store.currentAssignment?(u(),p("span",We,[n(m(s.pageTitle.slice(0,20))+" ",1),e(T,{modelValue:s.pageTitle,"onUpdate:modelValue":r=>s.pageTitle=r,"auto-save":"",style:{maxWidth:"320px"}},{default:t(r=>[e(C,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:P(r.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):_("",!0),e(se),s.imgs[this.store.imgIdx]&&s.imgs[this.store.imgIdx].cap?(u(),p("span",Fe,[a("span",Je,[n(m(s.imgs[this.store.imgIdx].cap.slice(0,30))+" ",1),e(T,{modelValue:s.imgs[this.store.imgIdx].cap,"onUpdate:modelValue":r=>s.imgs[this.store.imgIdx].cap=r,"auto-save":"",style:{maxWidth:"320px"}},{default:t(r=>[e(C,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,clearable:"",dense:"",autofocus:"",counter:"",onKeyup:P(r.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])])):_("",!0)]),_:2},1024)])]),a("tr",null,[a("td",Me,[a("div",He,[n(m(s.pageText)+" ",1),a("span",Xe,[e(i,{dense:"",round:"",class:"speak-button float-right",onClick:r=>this.store.speakText(s.pageText)},{default:t(()=>[e(X,{name:"volume_up",size:"md"})]),_:2},1032,["onClick"])])])])])])]),_:2},1032,["name","img-src"])}),128))]),_:1},8,["modelValue","onUpdate:modelValue","onTransition"])])])):_("",!0)]),_:1})],64)}var It=F(ae,[["render",st]]);export{It as default};
