import{Q as _}from"./QPage.13ea1f3b.js";import{u as m,s as v,a as g}from"./re-store.7a033c6e.js";import{Q as C}from"./QImg.083416c6.js";import{g as E,h as b,i as y,j as B,d as h,r as n,v as k,_ as S,o as f,ag as T,a as s,w as a,e as l,aj as p,af as u,Q as c,ah as $,c as I,f as F}from"./index.79af6c58.js";import{Q}from"./QPageSticky.c456d0f1.js";import"./firebase.0eb8f378.js";import"./index.2cf0d985.js";var w=E({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const i=b(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>t[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${o.length>0?" "+o:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>y("div",{class:i.value},B(e.default))}});const D=h({name:"EditorComponent",setup(){return{reStore:m(),imgCap:n(""),imgSrc:n(""),imgFit:n(""),pageText:n("")}},mounted(){console.log("EditorComponent.mounted"),k(this.reStore.courses,async(e,i)=>{console.log("Editor.watch"),this.reStore.courses.ck,this.reStore.courses.aid,this.reStore.courses.pgIdx;const o=this.reStore.courses.imgIdx;try{this.imgFit=this.reStore.page.imgFit,this.pageText=this.reStore.page.pageText,this.imgSrc=this.reStore.page.imgs[o].url,this.imgCap=this.reStore.page.imgs[o].cap}catch(r){console.log("ERROR Editor watch ",r,o,this.reStore.page.imgs),this.imgSrc=this.reStore.page.imgs[0].url,this.imgCap=this.reStore.page.imgs[0].cap}},{immediate:!0,deep:!0}),this.reStore.courses.ck,this.reStore.courses.aid,this.reStore.courses.pgIdx;const t=this.reStore.courses.imgIdx;try{this.imgFit=this.reStore.page.imgFit,this.pageText=this.reStore.page.pageText,this.imgSrc=this.reStore.page.imgs[t].url,this.imgCap=this.reStore.page.imgs[t].cap}catch(e){console.log("ERROR Editor mounted",e)}this.reStore.loadCover()},methods:{toggleText(){v("#slideTextDiv").classed("hidden")?g("#slideTextDiv").classed("hidden",!1):g("#slideTextDiv").classed("hidden",!0)},cycleFitMode(){const t=["scale-down","cover"];let e=t.indexOf(this.imgFit);e+=1,e>t.length-1&&(e=0),this.reStore.page.imgFit=t[e],this.reStore.courses.trigger+=1},setCover(){const t=this.reStore.courses.ck,e=this.reStore.courses.aid;this.reStore.courses.pgIdx;const i=this.reStore.courses.imgIdx,o=this.reStore.page.imgs[i].url;this.reStore.courses[t].assignments[e].coverUrl=o,console.log("coverUrl ",o)}}}),R={id:"slideCaptionDiv",class:"absolute-top text-subtitle1 text-center q-my-xl",contentEditable:"true"},j={id:"slideTextDiv",class:"text-panel text-center absolute-center",contentEditable:"true"},q={id:"coverSlideDiv",class:"text-panel text-center absolute-center hidden",contentEditable:"true"};function O(t,e,i,o,r,x){return f(),T($,null,[s(C,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},{default:a(()=>[l("div",R,p(this.imgCap),1)]),_:1},8,["src","fit"]),l("div",j,p(this.pageText),1),l("div",q,[u(" COVER SLIDE DIV "),s(c,{icon:"play",onClick:e[0]||(e[0]=d=>this.reStore.startAssignment())},{default:a(()=>[u("Start")]),_:1})]),s(Q,{position:"bottom-right"},{default:a(()=>[s(w,null,{default:a(()=>[s(c,{fab:"","label-position":"right",color:"primary",icon:"title",onClick:this.setCover,padding:"sm"},null,8,["onClick"]),s(c,{fab:"","label-position":"right",color:"primary",icon:"article",onClick:this.toggleText,padding:"sm"},null,8,["onClick"]),s(c,{fab:"","label-position":"right",color:"primary",icon:"fit_screen",onClick:this.cycleFitMode,padding:"sm"},null,8,["onClick"])]),_:1})]),_:1})],64)}var V=S(D,[["render",O]]);const P=h({name:"EditorPage",components:{EditorComponent:V},setup(t){const e=m();return{props:t,reStore:e}}});function N(t,e,i,o,r,x){const d=F("EditorComponent");return f(),I(_,{id:"QPage",class:"row justify-center"},{default:a(()=>[s(d)]),_:1})}var J=S(P,[["render",N]]);export{J as default};
