import{g as Ve,h as D,i as v,z as Ue,aI as ka,B as Pt,r as k,D as P,l as Ma,p as Ie,au as xa,j as ht,x as H,q as $a,d as Se,_ as be,o as I,ar as K,a as c,w as _,Q as B,e as y,ac as ne,ad as O,aH as Ta,c as E,as as ue,aJ as qe,aG as De,aK as jt,aL as Zt,aM as Ia,ai as Va,aj as Te,G as Yt,P as Ht,s as ot,aF as qa,f as te}from"./index.f4f9efa2.js";import{Q as ft,p as $,m as Ya,a as Ha,b as Oa,c as Qe,d as Ba,e as Re,f as Ot,g as Fa,h as La}from"./QLayout.7f28e246.js";import{Q as Wt}from"./QTooltip.56461497.js";import{u as we,s as Qa,a as Bt}from"./re-store.c16341ab.js";import{a as Z,Q as ae,i as Jt,C as Ne,h as Gt,u as Ra,b as za,c as Aa}from"./ClosePopup.f291eace.js";import{a as Na,b as Ua,c as Ft,d as rt,e as Ea,u as Pa,f as ja,D as Za,P as Wa}from"./DocumentationComponent.0e6a0889.js";import{Q as Ja}from"./QInput.f7ac7b39.js";import{d as Ee,f as Pe,c as Ga,e as Ka,u as Lt,g as Xa}from"./use-dark.2034d19c.js";import{Q as gt}from"./QImg.c484a4f4.js";import"./selection.5c82efac.js";import"./position-engine.f49226b8.js";import"./use-portal.93e21770.js";import"./firebase.ea708b63.js";import"./use-key-composition.e963dfbe.js";import"./QCheckbox.a71d6ba4.js";const en={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},lt={xs:2,sm:4,md:8,lg:16,xl:24};var Qt=Ve({name:"QSeparator",props:{...Ee,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Ue(),l=Pe(e,t.proxy.$q),o=D(()=>e.vertical===!0?"vertical":"horizontal"),i=D(()=>` q-separator--${o.value}`),s=D(()=>e.inset!==!1?`${i.value}-${en[e.inset]}`:""),u=D(()=>`q-separator${i.value}${s.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),d=D(()=>{const m={};if(e.size!==void 0&&(m[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const x=e.spaced===!0?`${lt.md}px`:e.spaced in lt?`${lt[e.spaced]}px`:e.spaced,f=e.vertical===!0?["Left","Right"]:["Top","Bottom"];m[`margin${f[0]}`]=m[`margin${f[1]}`]=x}return m});return()=>v("hr",{class:u.value,style:d.value,"aria-orientation":o.value})}});const ce=ka({}),tn=Object.keys(Pt);var Ye=Ve({name:"QExpansionItem",props:{...Pt,...Ga,...Ee,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ka,"click","afterShow","afterHide"],setup(e,{slots:t,emit:l}){const{proxy:{$q:o}}=Ue(),i=Pe(e,o),s=k(e.modelValue!==null?e.modelValue:e.defaultOpened),u=k(null),d=Lt(),{show:m,hide:x,toggle:f}=Xa({showing:s});let w,F;const z=D(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),A=D(()=>{if(e.contentInsetLevel===void 0)return null;const S=o.lang.rtl===!0?"Right":"Left";return{["padding"+S]:e.contentInsetLevel*56+"px"}}),q=D(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),Y=D(()=>{const S={};return tn.forEach(R=>{S[R]=e[R]}),S}),je=D(()=>q.value===!0||e.expandIconToggle!==!0),Ze=D(()=>e.expandedIcon!==void 0&&s.value===!0?e.expandedIcon:e.expandIcon||o.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),J=D(()=>e.disable!==!0&&(q.value===!0||e.expandIconToggle===!0)),b=D(()=>({expanded:s.value===!0,detailsId:e.targetUid,toggle:f,show:m,hide:x})),Q=D(()=>{const S=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:o.lang.label[s.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":s.value===!0?"true":"false","aria-controls":d,"aria-label":S}});P(()=>e.group,S=>{F!==void 0&&F(),S!==void 0&&L()});function Oe(S){q.value!==!0&&f(S),l("click",S)}function he(S){S.keyCode===13&&fe(S,!0)}function fe(S,R){R!==!0&&u.value!==null&&u.value.focus(),f(S),$a(S)}function Ce(){l("afterShow")}function ge(){l("afterHide")}function L(){w===void 0&&(w=Lt()),s.value===!0&&(ce[e.group]=w);const S=P(s,ee=>{ee===!0?ce[e.group]=w:ce[e.group]===w&&delete ce[e.group]}),R=P(()=>ce[e.group],(ee,Me)=>{Me===w&&ee!==void 0&&ee!==w&&x()});F=()=>{S(),R(),ce[e.group]===w&&delete ce[e.group],F=void 0}}function We(){const S={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},R=[v(H,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:Ze.value})];return J.value===!0&&(Object.assign(S,{tabindex:0,...Q.value,onClick:fe,onKeyup:he}),R.unshift(v("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(rt,S,()=>R)}function X(){let S;return t.header!==void 0?S=[].concat(t.header(b.value)):(S=[v(rt,()=>[v(Ft,{lines:e.labelLines},()=>e.label||""),e.caption?v(Ft,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&S[e.switchToggleSide===!0?"push":"unshift"](v(rt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(H,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&S[e.switchToggleSide===!0?"unshift":"push"](We()),S}function oe(){const S={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return je.value===!0&&(S.clickable=!0,S.onClick=Oe,Object.assign(S,q.value===!0?Y.value:Q.value)),v(Ua,S,X)}function ve(){return Ie(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:d},ht(t.default)),[[xa,s.value]])}function ke(){const S=[oe(),v(Na,{duration:e.duration,onShow:Ce,onHide:ge},ve)];return e.expandSeparator===!0&&S.push(v(Qt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),v(Qt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),S}return e.group!==void 0&&L(),Ma(()=>{F!==void 0&&F()}),()=>v("div",{class:z.value},[v("div",{class:"q-expansion-item__container relative-position"},ke())])}}),He=Ve({name:"QList",props:{...Ee,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=Ue(),o=Pe(e,l.proxy.$q),i=D(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(o.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>v(e.tag,{class:i.value},ht(t.default))}});const an=Se({name:"SearchComponent",setup(){const e=we(),t=k("");return{reStore:e,searchTerms:t,searchSize:k(e.preferences.resLimit),searchResults:k([]),promptSearchSize:k(!1)}},mounted(){P(this.reStore.preferences,async(e,t)=>{console.log("watcher ",e,t),this.searchSize=e.resLimit})},methods:{updateSearchSize(){},update(){this.searchTerms=this.searchTerms},remove(e){this.searchResults.splice(e,1)},load(e){console.log(e),console.log(this.searchResults[e]);const t=this.reStore.langVoices[this.reStore.preferences.langVoice];this.reStore.loadPageId(this.searchResults[e].pageid,t)},async doSearch(){const e=this.reStore.langVoices[this.reStore.preferences.langVoice];this.reStore.wiki.setLang(e.langName);const t=await this.reStore.wiki.search(this.searchTerms,{suggestion:!1,limit:this.searchSize});console.log("res.results.length: ",t.results.length),this.searchResults=t.results},clearSearchResults(){for(;this.searchResults.length;)this.searchResults.pop()}}}),nn=y("div",{class:"text-h6"},"Search Results Size",-1),on={class:"q-gutter-y-sm column"},rn={key:0},ln={class:"row cardheader ptr justify-between"},sn=["onClick"],un={class:"history-remove"};function dn(e,t,l,o,i,s){return I(),K(ue,null,[c(Gt,{modelValue:e.promptSearchSize,"onUpdate:modelValue":t[2]||(t[2]=u=>e.promptSearchSize=u),persistent:""},{default:_(()=>[c(Z,{style:{"min-width":"350px"}},{default:_(()=>[c(ae,{align:"center"},{default:_(()=>[nn]),_:1}),c(ae,{class:"q-pt-none",align:"center"},{default:_(()=>[c(Ea,{"show-value":"",size:"140px",thickness:.5,color:"green","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.searchSize,"onUpdate:modelValue":t[0]||(t[0]=u=>e.searchSize=u)},null,8,["modelValue"])]),_:1}),c(Jt,{align:"center",class:"text-primary"},{default:_(()=>[Ie(c(B,{flat:"",label:"Cancel"},null,512),[[Ne]]),Ie(c(B,{flat:"",label:"Update results size",onClick:t[1]||(t[1]=u=>this.updateSearchSize())},null,512),[[Ne]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[c(He,{padding:"",bordered:"",class:"rounded-borders"},{default:_(()=>[c(Ye,{"header-style":{border:"0px solid gray"},label:"Search & Results"},{default:_(()=>[y("div",on,[c(ft,{class:"bg-primary text-white rounded-borders q-my-md"},{default:_(()=>[c(B,{dark:"",standout:"",onClick:t[3]||(t[3]=u=>e.promptSearchSize=!0)},{default:_(()=>[ne(O(this.searchResults.length)+" ",1),c(Wt,null,{default:_(()=>[ne("Change results limit ("+O(this.searchSize)+")",1)]),_:1})]),_:1}),c(Ja,{dark:"",dense:"",standout:"",modelValue:e.searchTerms,"onUpdate:modelValue":t[6]||(t[6]=u=>e.searchTerms=u),"input-class":"text-right",class:"q-ml-md",onKeyup:[t[7]||(t[7]=u=>this.update()),t[8]||(t[8]=Ta(u=>this.doSearch(),["enter"]))]},{append:_(()=>[e.searchTerms===""?(I(),E(H,{key:0,name:"search",onClick:t[4]||(t[4]=u=>this.doSearch())})):(I(),E(H,{key:1,name:"clear",class:"cursor-pointer",onClick:t[5]||(t[5]=u=>{this.searchTerms="",this.clearSearchResults()})}))]),_:1},8,["modelValue"])]),_:1})]),this.searchResults.length?(I(),K("div",rn,[(I(!0),K(ue,null,qe(this.searchResults,(u,d)=>(I(),E(Z,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.searchResults,"onUpdate:modelValue":t[9]||(t[9]=m=>this.searchResults=m),key:d},{default:_(()=>[y("div",ln,[y("span",{class:"history-title col-grow",onClick:m=>this.load(d)},O(d)+". "+O(u.title.slice(0,25)),9,sn),y("span",un,[c(H,{class:"primary",size:e.xl,color:e.primary,name:"close",onClick:m=>this.remove(d)},null,8,["size","color","onClick"])])])]),_:2},1032,["modelValue"]))),128))])):De("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var cn=be(an,[["render",dn]]);const mn=Se({name:"CurrentPage",props:{},setup(e){const t=we();return{reStore:t,courseid:k("---"),assignmentTitle:k("---"),pageTitle:k(t.page.pageTitle),lang:k(t.page.langVoice.longName),imgIdx:k(t.page.imgIdx),imgs:k(t.page.imgs),imgTot:k(t.page.imgs.length),imgFit:k(t.page.imgFit),guideWords:k(t.page.guideWords),mapCoords:k(t.page.mapCoords),pageid:k(t.page.pageid),pctReplace:k(t.page.pctReplace),canonicalUrl:k(t.page.canonicalUrl),props:e}},mounted(){console.log(this.props),P(this.reStore.page,async(e,t)=>{console.log("watcher ",e,t),this.pageTitle=e.pageTitle,this.imgIdx=e.imgIdx,this.imgs=e.imgs,this.imgTot=e.imgs.length,this.imgFit=e.imgFit,this.guideWords=e.guideWords,this.mapCoords=e.mapCoords,this.pageid=e.pageid,this.lang=e.langVoice.longName,this.pctReplace=e.pctReplace,this.canonicalUrl=e.canonicalUrl})},methods:{speak(){console.log("CurrentPage.speak",this.reStore),this.reStore.speak()},cycleFitMode(){const e=["scale-down","cover"];let t=e.indexOf(this.imgFit);t+=1,t>e.length-1&&(t=0),this.imgFit=e[t],this.reStore.page.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgs.length-1?0:this.imgIdx+1,this.reStore.page.imgIdx=this.imgIdx},imgCB(e,t){console.log(e,t),this.reStore.page.imgIdx=e},loadURL(e){console.log("loadURL ",e),window.open(e,"_blank")},mapCB(){const e="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(e,"_blank")},saveImage(e,t){console.log("saveImage: ",e,t),this.reStore.saveImage(t)},saveCurrentImage(){const e=this.imgs[this.imgIdx];console.log("saveCurrentImage: ",e),this.reStore.saveImage(e)},remove(e,t){console.log("remove: ",e,t),this.imgs.splice(e,1),this.reStore.page.imgs.splice(e,1)},toggleText(){Qa("#slideTextDiv").classed("hidden")?Bt("#slideTextDiv").classed("hidden",!1):Bt("#slideTextDiv").classed("hidden",!0)},addBookmark(){console.log("addBookmark"),this.reStore.saveBookmark()}}}),hn={class:"text-weight-bolder text-center q-pa-md"},fn={style:{border:"1px solid gray","border-radius":"5px"}},gn={width:"100%"},vn=y("td",{style:{width:"50%"}},null,-1),yn=y("tr",null,[y("td"),y("td",null,"Speak Text")],-1),pn={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},_n={width:"100%"},Dn=y("td",null,"WP Page Id",-1),Sn={style:{width:"50%"}},bn=y("td",null,"Language",-1),wn={style:{width:"50%"}},Cn={class:"float-left"},kn=y("td",null,"Current Image",-1),Mn={class:"float-left"},xn={class:"float-right"},$n=y("td",null,"Image Fit",-1),Tn={class:"align-left"},In=y("td",null,"Guide Words",-1),Vn={style:{width:"50%"}},qn=y("td",null,"Percent Replace",-1),Yn={class:"float-left"},Hn=y("td",null,"Map Coords",-1),On={class:"float-left"},Bn=y("td",null,"Toggle Text",-1),Fn={key:0},Ln={class:"row cardheader justify-between"},Qn={class:"history-remove"},Rn={class:"history-remove ptr"};function zn(e,t,l,o,i,s){return I(),K(ue,null,[c(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[y("div",hn,O(this.pageTitle),1),y("div",fn,[y("table",gn,[y("tr",null,[vn,y("td",null,[c(B,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:t[0]||(t[0]=u=>this.speak())})])]),yn])]),y("div",pn,[y("table",_n,[y("tr",null,[Dn,y("td",Sn,[y("a",{class:"bold_ptr float-left",onClick:t[1]||(t[1]=u=>this.loadURL(this.canonicalUrl))},O(this.pageid),1),c(H,{name:"bookmark",onClick:this.addBookmark,class:"float-right"},null,8,["onClick"])])]),y("tr",null,[bn,y("td",wn,[y("span",Cn,O(this.lang),1),c(H,{class:"float-right",name:"translate"})])]),y("tr",null,[kn,y("td",{style:{width:"50%",cursor:"pointer"},onClick:t[2]||(t[2]=(...u)=>this.nextImg&&this.nextImg(...u))},[y("span",Mn,O(this.imgIdx+1)+" / "+O(this.imgTot),1),y("span",xn,[c(H,{name:"bookmark",onClick:this.saveCurrentImage},null,8,["onClick"])])])]),y("tr",{class:"ptr",onClick:t[3]||(t[3]=(...u)=>this.cycleFitMode&&this.cycleFitMode(...u))},[$n,y("td",null,[y("span",Tn,O(this.imgFit),1),c(H,{class:"float-right",name:"fit_screen"})])]),y("tr",null,[In,y("td",Vn,[ne(O(this.guideWords.replaceAll(",",", "))+" ",1),c(H,{class:"float-right",name:"tune"})])]),y("tr",null,[qn,y("td",null,[y("span",Yn,O(this.pctReplace)+" %",1),c(H,{class:"float-right",name:"tune"})])]),y("tr",null,[Hn,y("td",{onClick:t[4]||(t[4]=(...u)=>this.mapCB&&this.mapCB(...u)),class:"ptr"},[y("span",On,O(this.mapCoords),1),c(H,{class:"float-right",name:"place"})])]),y("tr",null,[Bn,y("td",{onClick:t[5]||(t[5]=(...u)=>this.toggleText&&this.toggleText(...u)),class:"ptr"},[c(H,{class:"float-right",name:"article"})])])])])]),_:1})]),_:1}),c(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[c(He,{padding:"",bordered:"",class:"rounded-borders"},{default:_(()=>[c(Ye,{"header-style":{border:"0px solid gray"},label:"Page Images"},{default:_(()=>[this.imgs.length?(I(),K("div",Fn,[(I(!0),K(ue,null,qe(this.imgs,(u,d)=>(I(),E(Z,{bordered:"",class:"q-ma-sm",flat:"",modelValue:this.imgs,"onUpdate:modelValue":t[6]||(t[6]=m=>this.imgs=m),key:d},{default:_(()=>[y("div",Ln,[y("span",Qn,[c(H,{name:"bookmark",onClick:m=>this.saveImage(d,u)},null,8,["onClick"]),c(H,{name:"article",onClick:this.toggleText},null,8,["onClick"]),c(H,{name:"fit_screen",onClick:this.cycleFitMode},null,8,["onClick"])]),ne(" "+O(u.cap.slice(0,25))+" ",1),y("span",Rn,[c(H,{name:"close",onClick:m=>this.remove(d,u)},null,8,["onClick"])])]),c(gt,{class:"cardimage",onClick:m=>this.imgCB(d,u),src:u.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])):De("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var An=be(mn,[["render",zn]]);const Nn=Se({name:"ImagesComponent",setup(){return{reStore:we()}},mounted(){P(this.reStore.userSnapshot.images,async(e,t)=>{console.log("watcher ",e,t)})},methods:{imgCB(e,t){this.reStore.router.push("/teacher/editor"),console.log(e,t);const l={url:t.url,cap:t.desc};this.reStore.page.imgs.push(l),this.reStore.page.imgIdx=this.reStore.page.imgs.length-1},remove(e,t){console.log(e,t),this.reStore.removeImage(e)}}}),Un={class:"row cardheader justify-between"},En={class:"history-remove hidden"},Pn={class:"history-remove ptr"};function jn(e,t,l,o,i,s){return I(),E(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[c(He,{padding:"",bordered:"",class:"rounded-borders"},{default:_(()=>[this.reStore.userSnapshot.images?(I(),E(Ye,{key:0,"header-style":{border:"0px solid gray"},label:"My Images"},{default:_(()=>[y("div",null,[(I(!0),K(ue,null,qe(this.reStore.userSnapshot.images,(u,d)=>(I(),E(Z,{bordered:"",class:"q-ma-md",flat:"",modelValue:this.reStore.userSnapshot.images,"onUpdate:modelValue":t[0]||(t[0]=m=>this.reStore.userSnapshot.images=m),key:d},{default:_(()=>[y("div",Un,[y("span",En,[c(H)]),ne(" "+O(u.desc.slice(0,25))+" ",1),y("span",Pn,[c(H,{name:"close",onClick:m=>this.remove(d,u)},null,8,["onClick"])])]),c(gt,{class:"cardimage",onClick:m=>this.imgCB(d,u),src:u.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})):De("",!0)]),_:1})]),_:1})]),_:1})}var Zn=be(Nn,[["render",jn]]);const Wn=Se({name:"BookmarksComponent",setup(){return{reStore:we()}},mounted(){P(this.reStore.userSnapshot.bookmarks,async(e,t)=>{console.log("watcher ",e,t)})},methods:{imgCB(e,t){this.reStore.page.imgs=JSON.parse(JSON.stringify(t.imgs)),this.reStore.router.push("/teacher/editor")},remove(e,t){console.log(e,t),this.reStore.removeBookmark(e)}}}),Jn={class:"row cardheader justify-between"},Gn={class:"history-remove hidden"},Kn={class:"history-remove ptr"};function Xn(e,t,l,o,i,s){return I(),E(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[c(He,{padding:"",bordered:"",class:"rounded-borders"},{default:_(()=>[this.reStore.userSnapshot.bookmarks?(I(),E(Ye,{key:0,"header-style":{border:"0px solid gray"},label:"My bookmarks"},{default:_(()=>[y("div",null,[(I(!0),K(ue,null,qe(this.reStore.userSnapshot.bookmarks,(u,d)=>(I(),E(Z,{bordered:"",class:"q-ma-md",flat:"",modelValue:this.reStore.userSnapshot.bookmarks,"onUpdate:modelValue":t[0]||(t[0]=m=>this.reStore.userSnapshot.bookmarks=m),key:d},{default:_(()=>[y("div",Jn,[y("span",Gn,[c(H)]),ne(" "+O(u.pageTitle.slice(0,25))+" ",1),y("span",Kn,[c(H,{name:"close",onClick:m=>this.remove(d,u)},null,8,["onClick"])])]),c(gt,{class:"cardimage",onClick:m=>this.imgCB(d,u),src:u.imgs[0].url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})):De("",!0)]),_:1})]),_:1})]),_:1})}var eo=be(Wn,[["render",Xn]]);const ie=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function to(e,t,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),ro(vt(e,t,l))}function Rt(e,t,l){return Xt(oo(e,t,l))}function ao(e){return no(e)===0}function Ae(e,t){return t<=6?31:t<=11||ao(e)?30:29}function no(e){const t=ie.length;let l=ie[0],o,i,s,u,d;if(e<l||e>=ie[t-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<t&&(o=ie[d],i=o-l,!(e<o));d+=1)l=o;return u=e-l,i-u<6&&(u=u-i+T(i+4,33)*33),s=j(j(u+1,33)-1,4),s===-1&&(s=4),s}function Kt(e,t){const l=ie.length,o=e+621;let i=-14,s=ie[0],u,d,m,x,f;if(e<s||e>=ie[l-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<l&&(u=ie[f],d=u-s,!(e<u));f+=1)i=i+T(d,33)*8+T(j(d,33),4),s=u;x=e-s,i=i+T(x,33)*8+T(j(x,33)+3,4),j(d,33)===4&&d-x===4&&(i+=1);const w=T(o,4)-T((T(o,100)+1)*3,4)-150,F=20+i-w;return t||(d-x<6&&(x=x-d+T(d+4,33)*33),m=j(j(x+1,33)-1,4),m===-1&&(m=4)),{leap:m,gy:o,march:F}}function oo(e,t,l){const o=Kt(e,!0);return vt(o.gy,3,o.march)+(t-1)*31-T(t,7)*(t-7)+l-1}function ro(e){const t=Xt(e).gy;let l=t-621,o,i,s;const u=Kt(l,!1),d=vt(t,3,u.march);if(s=e-d,s>=0){if(s<=185)return i=1+T(s,31),o=j(s,31)+1,{jy:l,jm:i,jd:o};s-=186}else l-=1,s+=179,u.leap===1&&(s+=1);return i=7+T(s,30),o=j(s,30)+1,{jy:l,jm:i,jd:o}}function vt(e,t,l){let o=T((e+T(t-8,6)+100100)*1461,4)+T(153*j(t+9,12)+2,5)+l-34840408;return o=o-T(T(e+100100+T(t-8,6),100)*3,4)+752,o}function Xt(e){let t=4*e+139361631;t=t+T(T(4*e+183187720,146097)*3,4)*4-3908;const l=T(j(t,1461),4)*5+308,o=T(j(l,153),5)+1,i=j(T(l,153),12)+1;return{gy:T(t,1461)-100100+T(8-i,6),gm:i,gd:o}}function T(e,t){return~~(e/t)}function j(e,t){return e-~~(e/t)*t}const lo=["gregorian","persian"],so={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>lo.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},io=["update:modelValue"];function le(e){return e.year+"/"+$(e.month)+"/"+$(e.day)}function uo(e,t){const l=D(()=>e.disable!==!0&&e.readonly!==!0),o=D(()=>e.editable===!0?0:-1),i=D(()=>{const d=[];return e.color!==void 0&&d.push(`bg-${e.color}`),e.textColor!==void 0&&d.push(`text-${e.textColor}`),d.join(" ")});function s(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function u(d){const m=new Date,x=d===!0?null:0;if(e.calendar==="persian"){const f=to(m);return{year:f.jy,month:f.jm,day:f.jd}}return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate(),hour:x,minute:x,second:x,millisecond:x}}return{editable:l,tabindex:o,headerClass:i,getLocale:s,getCurrentDate:u}}const ea=864e5,co=36e5,dt=6e4,ta="YYYY-MM-DDTHH:mm:ss.SSSZ",mo=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ho=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,st={};function fo(e,t){const l="("+t.days.join("|")+")",o=e+l;if(st[o]!==void 0)return st[o];const i="("+t.daysShort.join("|")+")",s="("+t.months.join("|")+")",u="("+t.monthsShort.join("|")+")",d={};let m=0;const x=e.replace(ho,w=>{switch(m++,w){case"YY":return d.YY=m,"(-?\\d{1,2})";case"YYYY":return d.YYYY=m,"(-?\\d{1,4})";case"M":return d.M=m,"(\\d{1,2})";case"MM":return d.M=m,"(\\d{2})";case"MMM":return d.MMM=m,u;case"MMMM":return d.MMMM=m,s;case"D":return d.D=m,"(\\d{1,2})";case"Do":return d.D=m++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return d.D=m,"(\\d{2})";case"H":return d.H=m,"(\\d{1,2})";case"HH":return d.H=m,"(\\d{2})";case"h":return d.h=m,"(\\d{1,2})";case"hh":return d.h=m,"(\\d{2})";case"m":return d.m=m,"(\\d{1,2})";case"mm":return d.m=m,"(\\d{2})";case"s":return d.s=m,"(\\d{1,2})";case"ss":return d.s=m,"(\\d{2})";case"S":return d.S=m,"(\\d{1})";case"SS":return d.S=m,"(\\d{2})";case"SSS":return d.S=m,"(\\d{3})";case"A":return d.A=m,"(AM|PM)";case"a":return d.a=m,"(am|pm)";case"aa":return d.aa=m,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return d.Z=m,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return d.ZZ=m,"(Z|[+-]\\d{2}\\d{2})";case"X":return d.X=m,"(-?\\d+)";case"x":return d.x=m,"(-?\\d{4,})";default:return m--,w[0]==="["&&(w=w.substring(1,w.length-1)),w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:d,regex:new RegExp("^"+x)};return st[o]=f,f}function aa(e,t){return e!==void 0?e:t!==void 0?t.date:Ia.date}function zt(e,t=""){const l=e>0?"-":"+",o=Math.abs(e),i=Math.floor(o/60),s=o%60;return l+$(i)+t+$(s)}function go(e,t,l){let o=e.getFullYear(),i=e.getMonth();const s=e.getDate();return t.year!==void 0&&(o+=l*t.year,delete t.year),t.month!==void 0&&(i+=l*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(o),e.setMonth(i),e.setDate(Math.min(s,_t(e))),t.date!==void 0&&(e.setDate(e.getDate()+l*t.date),delete t.date),e}function vo(e,t,l){const o=t.year!==void 0?t.year:e[`get${l}FullYear`](),i=t.month!==void 0?t.month-1:e[`get${l}Month`](),s=new Date(o,i+1,0).getDate(),u=Math.min(s,t.date!==void 0?t.date:e[`get${l}Date`]());return e[`set${l}Date`](1),e[`set${l}Month`](2),e[`set${l}FullYear`](o),e[`set${l}Month`](i),e[`set${l}Date`](u),delete t.year,delete t.month,delete t.date,e}function yt(e,t,l){const o=na(t),i=new Date(e),s=o.year!==void 0||o.month!==void 0||o.date!==void 0?go(i,o,l):i;for(const u in o){const d=Ya(u);s[`set${d}`](s[`get${d}`]()+l*o[u])}return s}function na(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function oa(e,t,l){const o=na(t),i=l===!0?"UTC":"",s=new Date(e),u=o.year!==void 0||o.month!==void 0||o.date!==void 0?vo(s,o,i):s;for(const d in o){const m=d.charAt(0).toUpperCase()+d.slice(1);u[`set${i}${m}`](o[d])}return u}function yo(e,t,l){const o=ra(e,t,l),i=new Date(o.year,o.month===null?null:o.month-1,o.day===null?1:o.day,o.hour,o.minute,o.second,o.millisecond),s=i.getTimezoneOffset();return o.timezoneOffset===null||o.timezoneOffset===s?i:yt(i,{minutes:o.timezoneOffset-s},1)}function ra(e,t,l,o,i){const s={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(s,i),e==null||e===""||typeof e!="string")return s;t===void 0&&(t=ta);const u=aa(l,jt.props),d=u.months,m=u.monthsShort,{regex:x,map:f}=fo(t,u),w=e.match(x);if(w===null)return s;let F="";if(f.X!==void 0||f.x!==void 0){const z=parseInt(w[f.X!==void 0?f.X:f.x],10);if(isNaN(z)===!0||z<0)return s;const A=new Date(z*(f.X!==void 0?1e3:1));s.year=A.getFullYear(),s.month=A.getMonth()+1,s.day=A.getDate(),s.hour=A.getHours(),s.minute=A.getMinutes(),s.second=A.getSeconds(),s.millisecond=A.getMilliseconds()}else{if(f.YYYY!==void 0)s.year=parseInt(w[f.YYYY],10);else if(f.YY!==void 0){const z=parseInt(w[f.YY],10);s.year=z<0?z:2e3+z}if(f.M!==void 0){if(s.month=parseInt(w[f.M],10),s.month<1||s.month>12)return s}else f.MMM!==void 0?s.month=m.indexOf(w[f.MMM])+1:f.MMMM!==void 0&&(s.month=d.indexOf(w[f.MMMM])+1);if(f.D!==void 0){if(s.day=parseInt(w[f.D],10),s.year===null||s.month===null||s.day<1)return s;const z=o!=="persian"?new Date(s.year,s.month,0).getDate():Ae(s.year,s.month);if(s.day>z)return s}f.H!==void 0?s.hour=parseInt(w[f.H],10)%24:f.h!==void 0&&(s.hour=parseInt(w[f.h],10)%12,(f.A&&w[f.A]==="PM"||f.a&&w[f.a]==="pm"||f.aa&&w[f.aa]==="p.m.")&&(s.hour+=12),s.hour=s.hour%24),f.m!==void 0&&(s.minute=parseInt(w[f.m],10)%60),f.s!==void 0&&(s.second=parseInt(w[f.s],10)%60),f.S!==void 0&&(s.millisecond=parseInt(w[f.S],10)*10**(3-w[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(F=f.Z!==void 0?w[f.Z].replace(":",""):w[f.ZZ],s.timezoneOffset=(F[0]==="+"?-1:1)*(60*F.slice(1,3)+1*F.slice(3,5)))}return s.dateHash=$(s.year,6)+"/"+$(s.month)+"/"+$(s.day),s.timeHash=$(s.hour)+":"+$(s.minute)+":"+$(s.second)+F,s}function po(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function _o(e,t){return oa(new Date,e,t)}function Do(e){const t=new Date(e).getDay();return t===0?7:t}function ct(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const l=new Date(t.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const o=t.getTimezoneOffset()-l.getTimezoneOffset();t.setHours(t.getHours()-o);const i=(t-l)/(ea*7);return 1+Math.floor(i)}function So(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function it(e,t){const l=new Date(e);return t===!0?So(l):l.getTime()}function bo(e,t,l,o={}){const i=it(t,o.onlyDate),s=it(l,o.onlyDate),u=it(e,o.onlyDate);return(u>i||o.inclusiveFrom===!0&&u===i)&&(u<s||o.inclusiveTo===!0&&u===s)}function wo(e,t){return yt(e,t,1)}function Co(e,t){return yt(e,t,-1)}function G(e,t,l){const o=new Date(e),i=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":o[`${i}Month`](0);case"month":case"months":o[`${i}Date`](1);case"day":case"days":case"date":o[`${i}Hours`](0);case"hour":case"hours":o[`${i}Minutes`](0);case"minute":case"minutes":o[`${i}Seconds`](0);case"second":case"seconds":o[`${i}Milliseconds`](0)}return o}function ko(e,t,l){const o=new Date(e),i=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":o[`${i}Month`](11);case"month":case"months":o[`${i}Date`](_t(o));case"day":case"days":case"date":o[`${i}Hours`](23);case"hour":case"hours":o[`${i}Minutes`](59);case"minute":case"minutes":o[`${i}Seconds`](59);case"second":case"seconds":o[`${i}Milliseconds`](999)}return o}function Mo(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(l=>{t=Math.max(t,new Date(l))}),t}function xo(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(l=>{t=Math.min(t,new Date(l))}),t}function ze(e,t,l){return(e.getTime()-e.getTimezoneOffset()*dt-(t.getTime()-t.getTimezoneOffset()*dt))/l}function pt(e,t,l="days"){const o=new Date(e),i=new Date(t);switch(l){case"years":case"year":return o.getFullYear()-i.getFullYear();case"months":case"month":return(o.getFullYear()-i.getFullYear())*12+o.getMonth()-i.getMonth();case"days":case"day":case"date":return ze(G(o,"day"),G(i,"day"),ea);case"hours":case"hour":return ze(G(o,"hour"),G(i,"hour"),co);case"minutes":case"minute":return ze(G(o,"minute"),G(i,"minute"),dt);case"seconds":case"second":return ze(G(o,"second"),G(i,"second"),1e3)}}function mt(e){return pt(e,G(e,"year"),"days")+1}function $o(e){return Zt(e)===!0?"date":typeof e=="number"?"number":"string"}function To(e,t,l){const o=new Date(e);if(t){const i=new Date(t);if(o<i)return i}if(l){const i=new Date(l);if(o>i)return i}return o}function Io(e,t,l){const o=new Date(e),i=new Date(t);if(l===void 0)return o.getTime()===i.getTime();switch(l){case"second":case"seconds":if(o.getSeconds()!==i.getSeconds())return!1;case"minute":case"minutes":if(o.getMinutes()!==i.getMinutes())return!1;case"hour":case"hours":if(o.getHours()!==i.getHours())return!1;case"day":case"days":case"date":if(o.getDate()!==i.getDate())return!1;case"month":case"months":if(o.getMonth()!==i.getMonth())return!1;case"year":case"years":if(o.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${l}`)}return!0}function _t(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function At(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Nt={YY(e,t,l){const o=this.YYYY(e,t,l)%100;return o>=0?$(o):"-"+$(Math.abs(o))},YYYY(e,t,l){return l!=null?l:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return $(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return At(this.Q(e))},D(e){return e.getDate()},Do(e){return At(e.getDate())},DD(e){return $(e.getDate())},DDD(e){return mt(e)},DDDD(e){return $(mt(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return ct(e)},ww(e){return $(ct(e))},H(e){return e.getHours()},HH(e){return $(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return $(this.h(e))},m(e){return e.getMinutes()},mm(e){return $(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return $(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return $(Math.floor(e.getMilliseconds()/10))},SSS(e){return $(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,l,o){const i=o==null?e.getTimezoneOffset():o;return zt(i,":")},ZZ(e,t,l,o){const i=o==null?e.getTimezoneOffset():o;return zt(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function la(e,t,l,o,i){if(e!==0&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;t===void 0&&(t=ta);const u=aa(l,jt.props);return t.replace(mo,(d,m)=>d in Nt?Nt[d](s,u,o,i):m===void 0?d:m.split("\\]").join("]"))}function Vo(e){return Zt(e)===!0?new Date(e.getTime()):e}var Ut={isValid:po,extractDate:yo,buildDate:_o,getDayOfWeek:Do,getWeekOfYear:ct,isBetweenDates:bo,addToDate:wo,subtractFromDate:Co,adjustDate:oa,startOfDate:G,endOfDate:ko,getMaxDate:Mo,getMinDate:xo,getDateDiff:pt,getDayOfYear:mt,inferDateFormat:$o,getDateBetween:To,isSameDate:Io,daysInMonth:_t,formatDate:la,clone:Vo};const me=20,qo=["Calendar","Years","Months"],Et=e=>qo.includes(e),ut=e=>/^-?[\d]+\/[0-1]\d$/.test(e),_e=" \u2014 ";function se(e){return e.year+"/"+$(e.month)}var Yo=Ve({name:"QDate",props:{...so,...Ra,...Ee,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:ut},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:ut},navigationMaxYearMonth:{type:String,validator:ut},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Et}},emits:[...io,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:l}){const{proxy:o}=Ue(),{$q:i}=o,s=Pe(e,i),{getCache:u}=Pa(),{tabindex:d,headerClass:m,getLocale:x,getCurrentDate:f}=uo(e,i);let w;const F=za(e),z=Aa(F),A=k(null),q=k(Mt()),Y=k(x()),je=D(()=>Mt()),Ze=D(()=>x()),J=D(()=>f()),b=k(xt(q.value,Y.value)),Q=k(e.defaultView),Oe=i.lang.rtl===!0?"right":"left",he=k(Oe.value),fe=k(Oe.value),Ce=b.value.year,ge=k(Ce-Ce%me-(Ce<0?me:0)),L=k(null),We=D(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(s.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),X=D(()=>e.color||"primary"),oe=D(()=>e.textColor||"white"),ve=D(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ke=D(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),S=D(()=>ke.value.filter(a=>typeof a=="string").map(a=>Ke(a,q.value,Y.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),R=D(()=>{const a=n=>Ke(n,q.value,Y.value);return ke.value.filter(n=>Va(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:a(n.from),to:a(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),ee=D(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const n=Rt(a.year,a.month,a.day);return new Date(n.gy,n.gm-1,n.gd)}),Me=D(()=>e.calendar==="persian"?le:(a,n,r)=>la(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),n===void 0?q.value:n,r===void 0?Y.value:r,a.year,a.timezoneOffset)),xe=D(()=>S.value.length+R.value.reduce((a,n)=>a+1+pt(ee.value(n.to),ee.value(n.from)),0)),Dt=D(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(L.value!==null){const r=L.value.init,g=ee.value(r);return Y.value.daysShort[g.getDay()]+", "+Y.value.monthsShort[r.month-1]+" "+r.day+_e+"?"}if(xe.value===0)return _e;if(xe.value>1)return`${xe.value} ${Y.value.pluralDay}`;const a=S.value[0],n=ee.value(a);return isNaN(n.valueOf())===!0?_e:Y.value.headerTitle!==void 0?Y.value.headerTitle(n,a):Y.value.daysShort[n.getDay()]+", "+Y.value.monthsShort[a.month-1]+" "+a.day}),sa=D(()=>S.value.concat(R.value.map(n=>n.from)).sort((n,r)=>n.year-r.year||n.month-r.month)[0]),ia=D(()=>S.value.concat(R.value.map(n=>n.to)).sort((n,r)=>r.year-n.year||r.month-n.month)[0]),St=D(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(xe.value===0)return _e;if(xe.value>1){const a=sa.value,n=ia.value,r=Y.value.monthsShort;return r[a.month-1]+(a.year!==n.year?" "+a.year+_e+r[n.month-1]+" ":a.month!==n.month?_e+r[n.month-1]:"")+" "+n.year}return S.value[0].year}),Be=D(()=>{const a=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?a.reverse():a}),bt=D(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):Y.value.firstDayOfWeek),ua=D(()=>{const a=Y.value.daysShort,n=bt.value;return n>0?a.slice(n,7).concat(a.slice(0,n)):a}),re=D(()=>{const a=b.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Ae(a.year,a.month)}),da=D(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),N=D(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),U=D(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),Je=D(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return N.value!==null&&N.value.year>=b.value.year&&(a.year.prev=!1,N.value.year===b.value.year&&N.value.month>=b.value.month&&(a.month.prev=!1)),U.value!==null&&U.value.year<=b.value.year&&(a.year.next=!1,U.value.year===b.value.year&&U.value.month<=b.value.month&&(a.month.next=!1)),a}),Fe=D(()=>{const a={};return S.value.forEach(n=>{const r=se(n);a[r]===void 0&&(a[r]=[]),a[r].push(n.day)}),a}),wt=D(()=>{const a={};return R.value.forEach(n=>{const r=se(n.from),g=se(n.to);if(a[r]===void 0&&(a[r]=[]),a[r].push({from:n.from.day,to:r===g?n.to.day:void 0,range:n}),r<g){let h;const{year:M,month:p}=n.from,C=p<12?{year:M,month:p+1}:{year:M+1,month:1};for(;(h=se(C))<=g;)a[h]===void 0&&(a[h]=[]),a[h].push({from:void 0,to:h===g?n.to.day:void 0,range:n}),C.month++,C.month>12&&(C.year++,C.month=1)}}),a}),$e=D(()=>{if(L.value===null)return;const{init:a,initHash:n,final:r,finalHash:g}=L.value,[h,M]=n<=g?[a,r]:[r,a],p=se(h),C=se(M);if(p!==W.value&&C!==W.value)return;const V={};return p===W.value?(V.from=h.day,V.includeFrom=!0):V.from=1,C===W.value?(V.to=M.day,V.includeTo=!0):V.to=re.value,V}),W=D(()=>se(b.value)),ca=D(()=>{const a={};if(e.options===void 0){for(let r=1;r<=re.value;r++)a[r]=!0;return a}const n=typeof e.options=="function"?e.options:r=>e.options.includes(r);for(let r=1;r<=re.value;r++){const g=W.value+"/"+$(r);a[r]=n(g)}return a}),ma=D(()=>{const a={};if(e.events===void 0)for(let n=1;n<=re.value;n++)a[n]=!1;else{const n=typeof e.events=="function"?e.events:r=>e.events.includes(r);for(let r=1;r<=re.value;r++){const g=W.value+"/"+$(r);a[r]=n(g)===!0&&da.value(g)}}return a}),ha=D(()=>{let a,n;const{year:r,month:g}=b.value;if(e.calendar!=="persian")a=new Date(r,g-1,1),n=new Date(r,g-1,0).getDate();else{const h=Rt(r,g,1);a=new Date(h.gy,h.gm-1,h.gd);let M=g-1,p=r;M===0&&(M=12,p--),n=Ae(p,M)}return{days:a.getDay()-bt.value-1,endDay:n}}),Ct=D(()=>{const a=[],{days:n,endDay:r}=ha.value,g=n<0?n+7:n;if(g<6)for(let p=r-g;p<=r;p++)a.push({i:p,fill:!0});const h=a.length;for(let p=1;p<=re.value;p++){const C={i:p,event:ma.value[p],classes:[]};ca.value[p]===!0&&(C.in=!0,C.flat=!0),a.push(C)}if(Fe.value[W.value]!==void 0&&Fe.value[W.value].forEach(p=>{const C=h+p-1;Object.assign(a[C],{selected:!0,unelevated:!0,flat:!1,color:X.value,textColor:oe.value})}),wt.value[W.value]!==void 0&&wt.value[W.value].forEach(p=>{if(p.from!==void 0){const C=h+p.from-1,V=h+(p.to||re.value)-1;for(let nt=C;nt<=V;nt++)Object.assign(a[nt],{range:p.range,unelevated:!0,color:X.value,textColor:oe.value});Object.assign(a[C],{rangeFrom:!0,flat:!1}),p.to!==void 0&&Object.assign(a[V],{rangeTo:!0,flat:!1})}else if(p.to!==void 0){const C=h+p.to-1;for(let V=h;V<=C;V++)Object.assign(a[V],{range:p.range,unelevated:!0,color:X.value,textColor:oe.value});Object.assign(a[C],{flat:!1,rangeTo:!0})}else{const C=h+re.value-1;for(let V=h;V<=C;V++)Object.assign(a[V],{range:p.range,unelevated:!0,color:X.value,textColor:oe.value})}}),$e.value!==void 0){const p=h+$e.value.from-1,C=h+$e.value.to-1;for(let V=p;V<=C;V++)a[V].color=X.value,a[V].editRange=!0;$e.value.includeFrom===!0&&(a[p].editRangeFrom=!0),$e.value.includeTo===!0&&(a[C].editRangeTo=!0)}b.value.year===J.value.year&&b.value.month===J.value.month&&(a[h+J.value.day-1].today=!0);const M=a.length%7;if(M>0){const p=7-M;for(let C=1;C<=p;C++)a.push({i:C,fill:!0})}return a.forEach(p=>{let C="q-date__calendar-item ";p.fill===!0?C+="q-date__calendar-item--fill":(C+=`q-date__calendar-item--${p.in===!0?"in":"out"}`,p.range!==void 0&&(C+=` q-date__range${p.rangeTo===!0?"-to":p.rangeFrom===!0?"-from":""}`),p.editRange===!0&&(C+=` q-date__edit-range${p.editRangeFrom===!0?"-from":""}${p.editRangeTo===!0?"-to":""}`),(p.range!==void 0||p.editRange===!0)&&(C+=` text-${p.color}`)),p.classes=C}),a}),fa=D(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});P(()=>e.modelValue,a=>{if(w===a)w=0;else{const{year:n,month:r}=xt(q.value,Y.value);ye(n,r)}}),P(Q,()=>{A.value!==null&&o.$el.contains(document.activeElement)===!0&&A.value.focus()}),P(()=>b.value.year,a=>{l("navigation",{year:a,month:b.value.month})}),P(()=>b.value.month,a=>{l("navigation",{year:b.value.year,month:a})}),P(je,a=>{qt(a,Y.value,"mask"),q.value=a}),P(Ze,a=>{qt(q.value,a,"locale"),Y.value=a});function kt(){const a=J.value,n=Fe.value[se(a)];(n===void 0||n.includes(a.day)===!1)&&et(a),Ge(a.year,a.month)}function ga(a){Et(a)===!0&&(Q.value=a)}function va(a,n){["month","year"].includes(a)&&(a==="month"?Tt:Xe)(n===!0?-1:1)}function Ge(a,n){Q.value="Calendar",ye(a,n)}function ya(a,n){if(e.range===!1||!a){L.value=null;return}const r=Object.assign({...b.value},a),g=n!==void 0?Object.assign({...b.value},n):r;L.value={init:r,initHash:le(r),final:g,finalHash:le(g)},Ge(r.year,r.month)}function Mt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ke(a,n,r){return ra(a,n,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function xt(a,n){const r=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(r.length===0)return $t();const g=r[r.length-1],h=Ke(g.from!==void 0?g.from:g,a,n);return h.dateHash===null?$t():h}function $t(){let a,n;if(e.defaultYearMonth!==void 0){const r=e.defaultYearMonth.split("/");a=parseInt(r[0],10),n=parseInt(r[1],10)}else{const r=J.value!==void 0?J.value:f();a=r.year,n=r.month}return{year:a,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+$(n)+"/01"}}function Tt(a){let n=b.value.year,r=Number(b.value.month)+a;r===13?(r=1,n++):r===0&&(r=12,n--),ye(n,r),ve.value===!0&&Le("month")}function Xe(a){const n=Number(b.value.year)+a;ye(n,b.value.month),ve.value===!0&&Le("year")}function pa(a){ye(a,b.value.month),Q.value=e.defaultView==="Years"?"Months":"Calendar",ve.value===!0&&Le("year")}function _a(a){ye(b.value.year,a),Q.value="Calendar",ve.value===!0&&Le("month")}function Da(a,n){const r=Fe.value[n];(r!==void 0&&r.includes(a.day)===!0?tt:et)(a)}function de(a){return{year:a.year,month:a.month,day:a.day}}function ye(a,n){N.value!==null&&a<=N.value.year&&(a=N.value.year,n<N.value.month&&(n=N.value.month)),U.value!==null&&a>=U.value.year&&(a=U.value.year,n>U.value.month&&(n=U.value.month));const r=a+"/"+$(n)+"/01";r!==b.value.dateHash&&(he.value=b.value.dateHash<r==(i.lang.rtl!==!0)?"left":"right",a!==b.value.year&&(fe.value=he.value),Yt(()=>{ge.value=a-a%me-(a<0?me:0),Object.assign(b.value,{year:a,month:n,day:1,dateHash:r})}))}function It(a,n,r){const g=a!==null&&a.length===1&&e.multiple===!1?a[0]:a;w=g;const{reason:h,details:M}=Vt(n,r);l("update:modelValue",g,h,M)}function Le(a){const n=S.value[0]!==void 0&&S.value[0].dateHash!==null?{...S.value[0]}:{...b.value};Yt(()=>{n.year=b.value.year,n.month=b.value.month;const r=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():Ae(n.year,n.month);n.day=Math.min(Math.max(1,n.day),r);const g=pe(n);w=g;const{details:h}=Vt("",n);l("update:modelValue",g,a,h)})}function Vt(a,n){return n.from!==void 0?{reason:`${a}-range`,details:{...de(n.target),from:de(n.from),to:de(n.to)}}:{reason:`${a}-day`,details:de(n)}}function pe(a,n,r){return a.from!==void 0?{from:Me.value(a.from,n,r),to:Me.value(a.to,n,r)}:Me.value(a,n,r)}function et(a){let n;if(e.multiple===!0)if(a.from!==void 0){const r=le(a.from),g=le(a.to),h=S.value.filter(p=>p.dateHash<r||p.dateHash>g),M=R.value.filter(({from:p,to:C})=>C.dateHash<r||p.dateHash>g);n=h.concat(M).concat(a).map(p=>pe(p))}else{const r=ke.value.slice();r.push(pe(a)),n=r}else n=pe(a);It(n,"add",a)}function tt(a){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const r=pe(a);a.from!==void 0?n=e.modelValue.filter(g=>g.from!==void 0?g.from!==r.from&&g.to!==r.to:!0):n=e.modelValue.filter(g=>g!==r),n.length===0&&(n=null)}It(n,"remove",a)}function qt(a,n,r){const g=S.value.concat(R.value).map(h=>pe(h,a,n)).filter(h=>h.from!==void 0?h.from.dateHash!==null&&h.to.dateHash!==null:h.dateHash!==null);l("update:modelValue",(e.multiple===!0?g:g[0])||null,r)}function Sa(){if(e.minimal!==!0)return v("div",{class:"q-date__header "+m.value},[v("div",{class:"relative-position"},[v(Te,{name:"q-transition--fade"},()=>v("div",{key:"h-yr-"+St.value,class:"q-date__header-subtitle q-date__header-link "+(Q.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...u("vY",{onClick(){Q.value="Years"},onKeyup(a){a.keyCode===13&&(Q.value="Years")}})},[St.value]))]),v("div",{class:"q-date__header-title relative-position flex no-wrap"},[v("div",{class:"relative-position col"},[v(Te,{name:"q-transition--fade"},()=>v("div",{key:"h-sub"+Dt.value,class:"q-date__header-title-label q-date__header-link "+(Q.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...u("vC",{onClick(){Q.value="Calendar"},onKeyup(a){a.keyCode===13&&(Q.value="Calendar")}})},[Dt.value]))]),e.todayBtn===!0?v(B,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:d.value,onClick:kt}):null])])}function at({label:a,type:n,key:r,dir:g,goTo:h,boundaries:M,cls:p}){return[v("div",{class:"row items-center q-date__arrow"},[v(B,{round:!0,dense:!0,size:"sm",flat:!0,icon:Be.value[0],tabindex:d.value,disable:M.prev===!1,...u("go-#"+n,{onClick(){h(-1)}})})]),v("div",{class:"relative-position overflow-hidden flex flex-center"+p},[v(Te,{name:"q-transition--jump-"+g},()=>v("div",{key:r},[v(B,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:d.value,...u("view#"+n,{onClick:()=>{Q.value=n}})})]))]),v("div",{class:"row items-center q-date__arrow"},[v(B,{round:!0,dense:!0,size:"sm",flat:!0,icon:Be.value[1],tabindex:d.value,disable:M.next===!1,...u("go+#"+n,{onClick(){h(1)}})})])]}const ba={Calendar:()=>[v("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[v("div",{class:"q-date__navigation row items-center no-wrap"},at({label:Y.value.months[b.value.month-1],type:"Months",key:b.value.month,dir:he.value,goTo:Tt,boundaries:Je.value.month,cls:" col"}).concat(at({label:b.value.year,type:"Years",key:b.value.year,dir:fe.value,goTo:Xe,boundaries:Je.value.year,cls:""}))),v("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ua.value.map(a=>v("div",{class:"q-date__calendar-item"},[v("div",a)]))),v("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[v(Te,{name:"q-transition--slide-"+he.value},()=>v("div",{key:W.value,class:"q-date__calendar-days fit"},Ct.value.map(a=>v("div",{class:a.classes},[a.in===!0?v(B,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:d.value,...u("day#"+a.i,{onClick:()=>{wa(a.i)},onMouseover:()=>{Ca(a.i)}})},a.event!==!1?()=>v("div",{class:"q-date__event bg-"+a.event}):null):v("div",""+a.i)]))))])])],Months(){const a=b.value.year===J.value.year,n=g=>N.value!==null&&b.value.year===N.value.year&&N.value.month>g||U.value!==null&&b.value.year===U.value.year&&U.value.month<g,r=Y.value.monthsShort.map((g,h)=>{const M=b.value.month===h+1;return v("div",{class:"q-date__months-item flex flex-center"},[v(B,{class:a===!0&&J.value.month===h+1?"q-date__today":null,flat:M!==!0,label:g,unelevated:M,color:M===!0?X.value:null,textColor:M===!0?oe.value:null,tabindex:d.value,disable:n(h+1),...u("month#"+h,{onClick:()=>{_a(h+1)}})})])});return e.yearsInMonthView===!0&&r.unshift(v("div",{class:"row no-wrap full-width"},[at({label:b.value.year,type:"Years",key:b.value.year,dir:fe.value,goTo:Xe,boundaries:Je.value.year,cls:" col"})])),v("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},r)},Years(){const a=ge.value,n=a+me,r=[],g=h=>N.value!==null&&N.value.year>h||U.value!==null&&U.value.year<h;for(let h=a;h<=n;h++){const M=b.value.year===h;r.push(v("div",{class:"q-date__years-item flex flex-center"},[v(B,{key:"yr"+h,class:J.value.year===h?"q-date__today":null,flat:!M,label:h,dense:!0,unelevated:M,color:M===!0?X.value:null,textColor:M===!0?oe.value:null,tabindex:d.value,disable:g(h),...u("yr#"+h,{onClick:()=>{pa(h)}})})]))}return v("div",{class:"q-date__view q-date__years flex flex-center"},[v("div",{class:"col-auto"},[v(B,{round:!0,dense:!0,flat:!0,icon:Be.value[0],tabindex:d.value,disable:g(a),...u("y-",{onClick:()=>{ge.value-=me}})})]),v("div",{class:"q-date__years-content col self-stretch row items-center"},r),v("div",{class:"col-auto"},[v(B,{round:!0,dense:!0,flat:!0,icon:Be.value[1],tabindex:d.value,disable:g(n),...u("y+",{onClick:()=>{ge.value+=me}})})])])}};function wa(a){const n={...b.value,day:a};if(e.range===!1){Da(n,W.value);return}if(L.value===null){const r=Ct.value.find(h=>h.fill!==!0&&h.i===a);if(e.noUnset!==!0&&r.range!==void 0){tt({target:n,from:r.range.from,to:r.range.to});return}if(r.selected===!0){tt(n);return}const g=le(n);L.value={init:n,initHash:g,final:n,finalHash:g},l("rangeStart",de(n))}else{const r=L.value.initHash,g=le(n),h=r<=g?{from:L.value.init,to:n}:{from:n,to:L.value.init};L.value=null,et(r===g?n:{target:n,...h}),l("rangeEnd",{from:de(h.from),to:de(h.to)})}}function Ca(a){if(L.value!==null){const n={...b.value,day:a};Object.assign(L.value,{final:n,finalHash:le(n)})}}return Object.assign(o,{setToday:kt,setView:ga,offsetCalendar:va,setCalendarTo:Ge,setEditingRange:ya}),()=>{const a=[v("div",{class:"q-date__content col relative-position"},[v(Te,{name:"q-transition--fade"},ba[Q.value])])],n=ht(t.default);return n!==void 0&&a.push(v("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&z(a,"push"),v("div",{class:We.value,...fa.value},[Sa(),v("div",{ref:A,class:"q-date__main col column",tabindex:-1},a)])}}});const Ho=v("div",{class:"q-space"});var Oo=Ve({name:"QSpace",setup(){return()=>Ho}});const Bo=Se({name:"OTDComponent",setup(){const e=we(),t=Date.now(),l=Ut.formatDate(t,"MM/DD");return{reStore:e,otditems:k([]),promptOTDDate:k(!1),otddate:k(Date.now()),otdlabel:k(l),otdtype:k("selected")}},mounted(){this.init()},methods:{async init(){const e=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=e[this.otdtype],console.log(this.otditems)},async load(e){console.log("load",this.otditems[e].text),console.log("load",this.otditems[e]);const t=this.reStore.langVoices[this.reStore.preferences.langVoice];this.reStore.loadPageId(this.otditems[e].pages[0].pageid,t),this.reStore.router.push("/teacher/editor")},async updateOTDDate(){console.log("updateOTDDate: ",this.otddate);const e=await this.reStore.wiki.onThisDay({type:"selected",month:this.otddate.split("/")[1],day:this.otddate.split("/")[2]});this.otditems=e.selected,console.log(this.otditems),this.otdtype="selected",this.otdlabel=Ut.formatDate(this.otddate,"MM/DD")},async otdOptionsCB(e){console.log("otdOptionsCB",this.otdtype);const t=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=t[this.otdtype]}}}),Fo=y("div",{class:"text-h6"},"Select Date",-1),Lo={class:"q-gutter-y-sm column"},Qo={class:""};function Ro(e,t,l,o,i,s){return I(),K(ue,null,[c(Gt,{modelValue:e.promptOTDDate,"onUpdate:modelValue":t[2]||(t[2]=u=>e.promptOTDDate=u),persistent:""},{default:_(()=>[c(Z,{style:{"min-width":"350px"}},{default:_(()=>[c(ae,{align:"center"},{default:_(()=>[Fo]),_:1}),c(Yo,{modelValue:e.otddate,"onUpdate:modelValue":t[0]||(t[0]=u=>e.otddate=u),minimal:""},null,8,["modelValue"]),c(Jt,{align:"center",class:"text-white"},{default:_(()=>[Ie(c(B,{flat:"",label:"Cancel"},null,512),[[Ne]]),Ie(c(B,{flat:"",label:"Update OTD date",onClick:t[1]||(t[1]=u=>this.updateOTDDate())},null,512),[[Ne]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(Z,{flat:""},{default:_(()=>[c(ae,null,{default:_(()=>[c(He,{padding:"",bordered:"",class:"rounded-borders"},{default:_(()=>[c(Ye,{"header-style":{border:"0px solid gray"},label:"On This Day"},{default:_(()=>[y("div",Lo,[c(ft,{class:"bg-primary text-white rounded-borders q-my-md"},{default:_(()=>[c(B,{dark:"",standout:"",onClick:t[3]||(t[3]=u=>e.promptOTDDate=!0)},{default:_(()=>[ne(O(e.otdlabel),1)]),_:1}),c(Oo),c(ja,{dark:"",outlined:"",dense:"",modelValue:this.otdtype,"onUpdate:modelValue":t[4]||(t[4]=u=>this.otdtype=u),options:["events","holidays","births","deaths","selected"],"emit-value":"",onPopupHide:t[5]||(t[5]=u=>this.otdOptionsCB())},null,8,["modelValue"])]),_:1})]),y("div",Qo,[(I(!0),K(ue,null,qe(e.otditems,(u,d)=>(I(),E(Z,{class:"bg-primary otdcard q-pa-sm q-ma-md",flat:"",bordered:"",modelValue:e.otditems,"onUpdate:modelValue":t[6]||(t[6]=m=>e.otditems=m),key:d,onClick:m=>this.load(d)},{default:_(()=>[ne(O(d)+". "+O(u.year)+" "+O(u.text),1)]),_:2},1032,["modelValue","onClick"]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})],64)}var zo=be(Bo,[["render",Ro]]);const Ao=Se({name:"TeacherLayout",components:{DocumentationComponent:Za,SearchComponent:cn,PreferencesComponent:Wa,CurrentPage:An,ImagesComponent:Zn,BookmarksComponent:eo,OTDComponent:zo},setup(){const e=k(!1),t=k(!1),l=we(),o=l.preferences;return{step:k(1),reStore:l,initialValues:k(o),leftDrawerOpen:e,rightDrawerOpen:t,toggleLeftDrawer(){e.value=!e.value},toggleRightDrawer(){t.value=!t.value}}},mounted(){Ht.isActive||(Ht.toggle(),ot("primary","#333"),ot("secondary",this.reStore.preferences.secondaryColor),ot("accent",this.reStore.preferences.accentColor))}}),No=y("img",{src:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/reading_edge_200x200.png"},null,-1),Uo={class:"dashboard-wrapper"};function Eo(e,t,l,o,i,s){const u=te("router-link"),d=te("DocumentationComponent"),m=te("SearchComponent"),x=te("ImagesComponent"),f=te("BookmarksComponent"),w=te("OTDComponent"),F=te("PreferencesComponent"),z=te("CurrentPage"),A=te("router-view");return I(),E(La,{view:"hHh lpR fFf"},{default:_(()=>[c(Ba,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:_(()=>[c(ft,null,{default:_(()=>[c(B,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),c(Ha,null,{default:_(()=>[c(u,{to:"/"},{default:_(()=>[c(qa,{size:"25px"},{default:_(()=>[No]),_:1})]),_:1})]),_:1}),this.reStore.authenticated?(I(),E(B,{key:0,onClick:t[0]||(t[0]=q=>this.reStore.router.push("/student")),icon:"switch_account"},{default:_(()=>[c(Wt,null,{default:_(()=>[ne(" Switch between Teacher or Student role ")]),_:1})]),_:1})):De("",!0),this.reStore.authenticated?(I(),E(B,{key:1,icon:"logout",onClick:t[1]||(t[1]=q=>this.reStore.logout())})):De("",!0),c(B,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1}),c(Oa,{align:"left",class:"hidden"},{default:_(()=>[c(Qe,{to:"/logo",label:"Logo"}),c(Qe,{to:"/teaching",label:"Teaching"}),c(Qe,{to:"/taking",label:"Taking"}),c(Qe,{to:"/gradebook",label:"Gradebook"})]),_:1})]),_:1}),c(Re,{"show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=q=>e.leftDrawerOpen=q),side:"left",bordered:""},null,8,["modelValue"]),c(Re,{"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=q=>e.rightDrawerOpen=q),side:"right",bordered:""},null,8,["modelValue"]),c(Fa,{class:"container-fluid"},{default:_(()=>[c(Re,{bordered:"","show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[4]||(t[4]=q=>e.leftDrawerOpen=q),side:"left"},{default:_(()=>[c(Ot,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:_(()=>[c(d),c(m),c(x),c(f),c(w)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),c(Re,{bordered:"","show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=q=>e.rightDrawerOpen=q),side:"right"},{default:_(()=>[c(Ot,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:_(()=>[c(F,{initialValues:this.initialValues},null,8,["initialValues"]),c(z)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),y("div",Uo,[c(A)])]),_:1})]),_:1})}var sr=be(Ao,[["render",Eo]]);export{sr as default};
