import{Q as Ne}from"./QPage.d43faace.js";import{u as pe,s as w,a as D}from"./re-store.12d0d955.js";import{u as He,o as Ue,c as Ge,d as Je,e as Xe,f as Ye,g as Ze,b as et,a as tt,Q as le}from"./QCheckbox.3814e490.js";import{i as r,g as F,ad as it,ae as st,r as h,h as u,am as re,x as N,y as ae,j as L,z as Q,q as ue,an as at,ao as ot,u as ve,S as be,D as ie,l as xe,ah as se,ap as nt,aj as lt,Q as B,n as ye,F as rt,aq as Se,K as ut,k as ee,M as dt,O as ct,d as ke,_ as _e,o as we,ar as gt,a as b,w as $,e as K,p as mt,ag as de,as as ht,c as ft,f as pt}from"./index.e6f62602.js";import{d as Ce,f as qe,c as Ie,e as Be,b as vt,a as bt,g as Te,h as xt,i as yt,u as St}from"./use-dark.2392976e.js";import{u as kt,a as _t,b as wt,c as Ct,g as qt,d as It}from"./use-portal.a3848b04.js";import"./firebase.8ff914f0.js";const Bt=r("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[r("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),r("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Tt=F({name:"QRadio",props:{...Ce,...it,...He,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:i}){const{proxy:s}=Q(),n=qe(e,s.$q),d=st(e,Ue),a=h(null),{refocusTargetEl:c,refocusTarget:v}=Ge(e,a),f=u(()=>re(e.modelValue)===re(e.val)),o=u(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(n.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),l=u(()=>{const p=e.color!==void 0&&(e.keepColor===!0||f.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${f.value===!0?"truthy":"falsy"}${p}`}),x=u(()=>(f.value===!0?e.checkedIcon:e.uncheckedIcon)||null),_=u(()=>e.disable===!0?-1:e.tabindex||0),q=u(()=>{const p={type:"radio"};return e.name!==void 0&&Object.assign(p,{".checked":f.value===!0,"^checked":f.value===!0?"checked":void 0,name:e.name,value:e.val}),p}),S=Je(q);function C(p){p!==void 0&&(ue(p),v(p)),e.disable!==!0&&f.value!==!0&&i("update:modelValue",e.val,p)}function P(p){(p.keyCode===13||p.keyCode===32)&&ue(p)}function y(p){(p.keyCode===13||p.keyCode===32)&&C(p)}return Object.assign(s,{set:C}),()=>{const p=x.value!==null?[r("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[r(N,{class:"q-radio__icon",name:x.value})])]:[Bt];e.disable!==!0&&S(p,"unshift"," q-radio__native q-ma-none q-pa-none");const I=[r("div",{class:l.value,style:d.value,"aria-hidden":"true"},p)];c.value!==null&&I.push(c.value);const T=e.label!==void 0?ae(t.default,[e.label]):L(t.default);return T!==void 0&&I.push(r("div",{class:"q-radio__label q-anchor--skip"},T)),r("div",{ref:a,class:o.value,tabindex:_.value,role:"radio","aria-label":e.label,"aria-checked":f.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:C,onKeydown:P,onKeyup:y},I)}}}),$t=F({name:"QToggle",props:{...Xe,icon:String,iconColor:String},emits:Ye,setup(e){function t(i,s){const n=u(()=>(i.value===!0?e.checkedIcon:s.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),d=u(()=>i.value===!0?e.iconColor:null);return()=>[r("div",{class:"q-toggle__track"}),r("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},n.value!==void 0?[r(N,{name:n.value,color:d.value})]:void 0)]}return Ze("toggle",t)}});const $e={radio:Tt,checkbox:et,toggle:$t},Pt=Object.keys($e);var Ft=F({name:"QOptionGroup",props:{...Ce,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Pt.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:i}){const{proxy:{$q:s}}=Q(),n=Array.isArray(e.modelValue);e.type==="radio"?n===!0&&console.error("q-option-group: model should not be array"):n===!1&&console.error("q-option-group: model should be array in your case");const d=qe(e,s),a=u(()=>$e[e.type]),c=u(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),v=u(()=>{const o={role:"group"};return e.type==="radio"&&(o.role="radiogroup",e.disable===!0&&(o["aria-disabled"]="true")),o});function f(o){t("update:modelValue",o)}return()=>r("div",{class:c.value,...v.value},e.options.map((o,l)=>{const x=i["label-"+l]!==void 0?()=>i["label-"+l](o):i.label!==void 0?()=>i.label(o):void 0;return r("div",[r(a.value,{modelValue:e.modelValue,val:o.value,name:o.name===void 0?e.name:o.name,disable:e.disable||o.disable,label:x===void 0?o.label:null,leftLabel:o.leftLabel===void 0?e.leftLabel:o.leftLabel,color:o.color===void 0?e.color:o.color,checkedIcon:o.checkedIcon,uncheckedIcon:o.uncheckedIcon,dark:o.dark||d.value,size:o.size===void 0?e.size:o.size,dense:e.dense,keepColor:o.keepColor===void 0?e.keepColor:o.keepColor,"onUpdate:modelValue":f},x)])}))}}),Dt=F({name:"QCardActions",props:{...at,vertical:Boolean},setup(e,{slots:t}){const i=ot(e),s=u(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>r("div",{class:s.value},L(t.default))}});const E=[];let O;function Et(e){O=e.keyCode===27}function jt(){O===!0&&(O=!1)}function Rt(e){O===!0&&(O=!1,ve(e,27)===!0&&E[E.length-1](e))}function Pe(e){window[e]("keydown",Et),window[e]("blur",jt),window[e]("keyup",Rt),O=!1}function zt(e){be.is.desktop===!0&&(E.push(e),E.length===1&&Pe("addEventListener"))}function ce(e){const t=E.indexOf(e);t>-1&&(E.splice(t,1),E.length===0&&Pe("removeEventListener"))}const j=[];function Fe(e){j[j.length-1](e)}function Ot(e){be.is.desktop===!0&&(j.push(e),j.length===1&&document.body.addEventListener("focusin",Fe))}function ge(e){const t=j.indexOf(e);t>-1&&(j.splice(t,1),j.length===0&&document.body.removeEventListener("focusin",Fe))}let M=0;const Lt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},me={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Qt=F({name:"QDialog",inheritAttrs:!1,props:{...Ie,...kt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Be,"shake","click","escapeKey"],setup(e,{slots:t,emit:i,attrs:s}){const n=Q(),{proxy:{$q:d}}=n,a=h(null),c=h(!1),v=h(!1);let f=null,o=null,l,x;const _=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:q}=yt(),{registerTimeout:S}=vt(),{registerTick:C,removeTick:P}=bt(),{transitionProps:y,transitionStyle:p}=_t(e,()=>me[e.position][0],()=>me[e.position][1]),{showPortal:I,hidePortal:T,portalIsAccessible:V,renderPortal:H}=wt(n,a,Ke,"dialog"),{hide:g}=Te({showing:c,hideOnRouteChange:_,handleShow:Qe,handleHide:Ae,processOnMount:!0}),{addToHistory:R,removeFromHistory:z}=xt(c,g,_),ze=u(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Lt[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),W=u(()=>c.value===!0&&e.seamless!==!0),Oe=u(()=>e.autoClose===!0?{onClick:Ve}:{}),Le=u(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${W.value===!0?"modal":"seamless"}`,s.class]);ie(()=>e.maximized,m=>{c.value===!0&&J(m)}),ie(W,m=>{q(m),m===!0?(Ot(X),zt(G)):(ge(X),ce(G))});function Qe(m){R(),o=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,J(e.maximized),I(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),C(A)):P(),S(()=>{if(n.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:k,bottom:Y}=document.activeElement.getBoundingClientRect(),{innerHeight:ne}=window,Z=window.visualViewport!==void 0?window.visualViewport.height:ne;k>0&&Y>Z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Z,Y>=ne?1/0:Math.ceil(document.scrollingElement.scrollTop+Y-Z/2))),document.activeElement.scrollIntoView()}x=!0,a.value.click(),x=!1}I(!0),v.value=!1,i("show",m)},e.transitionDuration)}function Ae(m){P(),z(),oe(!0),v.value=!0,T(),o!==null&&(((m&&m.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),S(()=>{T(!0),v.value=!1,i("hide",m)},e.transitionDuration)}function A(m){Ct(()=>{let k=a.value;k===null||k.contains(document.activeElement)===!0||(k=(m!==""?k.querySelector(m):null)||k.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||k.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||k.querySelector("[autofocus], [data-autofocus]")||k,k.focus({preventScroll:!0}))})}function U(m){m&&typeof m.focus=="function"?m.focus({preventScroll:!0}):A(),i("shake");const k=a.value;k!==null&&(k.classList.remove("q-animate--scale"),k.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,a.value!==null&&(k.classList.remove("q-animate--scale"),A())},170))}function G(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&U():(i("escapeKey"),g()))}function oe(m){f!==null&&(clearTimeout(f),f=null),(m===!0||c.value===!0)&&(J(!1),e.seamless!==!0&&(q(!1),ge(X),ce(G))),m!==!0&&(o=null)}function J(m){m===!0?l!==!0&&(M<1&&document.body.classList.add("q-body--dialog"),M++,l=!0):l===!0&&(M<2&&document.body.classList.remove("q-body--dialog"),M--,l=!1)}function Ve(m){x!==!0&&(g(m),i("click",m))}function We(m){e.persistent!==!0&&e.noBackdropDismiss!==!0?g(m):e.noShake!==!0&&U(m.relatedTarget)}function X(m){e.allowFocusOutside!==!0&&V.value===!0&&nt(a.value,m.target)!==!0&&A('[tabindex]:not([tabindex="-1"])')}Object.assign(n.proxy,{focus:A,shake:U,__updateRefocusTarget(m){o=m||null}}),xe(oe);const Me=d.platform.is.ios===!0||d.platform.is.safari?"onClick":"onFocusin";function Ke(){return r("div",{role:"dialog","aria-modal":W.value===!0?"true":"false",...s,class:Le.value},[r(se,{name:"q-transition--fade",appear:!0},()=>W.value===!0?r("div",{class:"q-dialog__backdrop fixed-full",style:p.value,"aria-hidden":"true",tabindex:-1,[Me]:We}):null),r(se,y.value,()=>c.value===!0?r("div",{ref:a,class:ze.value,style:p.value,tabindex:-1,...Oe.value},L(t.default)):null)])}return H}});const At={ratio:[String,Number]};function Vt(e,t){return u(()=>{const i=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Wt=16/9;var Mt=F({name:"QImg",props:{...At,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Wt},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:i}){const s=h(e.initialRatio),n=Vt(e,s);let d=null,a=!1;const c=[h(null),h(C())],v=h(0),f=h(!1),o=h(!1),l=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=u(()=>({width:e.width,height:e.height})),_=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),q=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));ie(()=>S(),P);function S(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function C(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function P(g){d!==null&&(clearTimeout(d),d=null),o.value=!1,g===null?(f.value=!1,c[v.value^1].value=C()):f.value=!0,c[v.value].value=g}function y({target:g}){a!==!0&&(d!==null&&(clearTimeout(d),d=null),s.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,p(g,1))}function p(g,R){a===!0||R===1e3||(g.complete===!0?I(g):d=setTimeout(()=>{d=null,p(g,R+1)},50))}function I(g){a!==!0&&(v.value=v.value^1,c[v.value].value=null,f.value=!1,o.value=!1,i("load",g.currentSrc||g.src))}function T(g){d!==null&&(clearTimeout(d),d=null),f.value=!1,o.value=!0,c[v.value].value=null,c[v.value^1].value=C(),i("error",g)}function V(g){const R=c[g].value,z={key:"img_"+g,class:_.value,style:q.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...R};return v.value===g?(z.class+=" q-img__image--waiting",Object.assign(z,{onLoad:y,onError:T})):z.class+=" q-img__image--loaded",r("div",{class:"q-img__container absolute-full",key:"img"+g},r("img",z))}function H(){return f.value!==!0?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},L(t[o.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[r(lt,{color:e.spinnerColor,size:e.spinnerSize})])}return P(S()),xe(()=>{a=!0,d!==null&&(clearTimeout(d),d=null)}),()=>{const g=[];return n.value!==null&&g.push(r("div",{key:"filler",style:n.value})),o.value!==!0&&(c[0].value!==null&&g.push(V(0)),c[1].value!==null&&g.push(V(1))),g.push(r(se,{name:"q-transition--fade"},H)),r("div",{class:l.value,style:x.value,role:"img","aria-label":e.alt},g)}}});const Kt=["top","right","bottom","left"],De={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Kt.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Ee(e,t){return{formClass:u(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:u(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:u(()=>{if(e.externalLabel===!0){const i=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(i===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const je={start:"self-end",center:"self-center",end:"self-start"},Nt=Object.keys(je);var te=F({name:"QFabAction",props:{...De,icon:{type:String,default:""},anchor:{type:String,validator:e=>Nt.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:i}){const s=ye(Se,()=>({showing:{value:!0},onChildClick:rt})),{formClass:n,labelProps:d}=Ee(e,s.showing),a=u(()=>{const l=je[e.anchor];return n.value+(l!==void 0?` ${l}`:"")}),c=u(()=>e.disable===!0||s.showing.value!==!0);function v(l){s.onChildClick(l),i("click",l)}function f(){const l=[];return t.icon!==void 0?l.push(t.icon()):e.icon!==""&&l.push(r(N,{name:e.icon})),(e.label!==""||t.label!==void 0)&&l[d.value.action](r("div",d.value.data,t.label!==void 0?t.label():[e.label])),ae(t.default,l)}const o=Q();return Object.assign(o.proxy,{click:v}),()=>r(B,{class:a.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:c.value,onClick:v},f)}});const Ht=["up","right","down","left"],Ut=["left","center","right"];var Gt=F({name:"QFab",props:{...De,...Ie,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>Ht.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Ut.includes(e)}},emits:Be,setup(e,{slots:t}){const i=h(null),s=h(e.modelValue===!0),n=St(),{proxy:{$q:d}}=Q(),{formClass:a,labelProps:c}=Ee(e,s),v=u(()=>e.persistent!==!0),{hide:f,toggle:o}=Te({showing:s,hideOnRouteChange:v}),l=u(()=>({opened:s.value})),x=u(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${a.value}`+(s.value===!0?" q-fab--opened":" q-fab--closed")),_=u(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${s.value===!0?"opened":"closed"}`),q=u(()=>{const y={id:n,role:"menu"};return s.value!==!0&&(y["aria-hidden"]="true"),y}),S=u(()=>`q-fab__icon-holder  q-fab__icon-holder--${s.value===!0?"opened":"closed"}`);function C(y,p){const I=t[y],T=`q-fab__${y} absolute-full`;return I===void 0?r(N,{class:T,name:e[p]||d.iconSet.fab[p]}):r("div",{class:T},I(l.value))}function P(){const y=[];return e.hideIcon!==!0&&y.push(r("div",{class:S.value},[C("icon","icon"),C("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&y[c.value.action](r("div",c.value.data,t.label!==void 0?t.label(l.value):[e.label])),ae(t.tooltip,y)}return ut(Se,{showing:s,onChildClick(y){f(y),i.value!==null&&i.value.$el.focus()}}),()=>r("div",{class:x.value},[r(B,{ref:i,class:a.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":s.value===!0?"true":"false","aria-haspopup":"true","aria-controls":n,onClick:o},P),r("div",{class:_.value,...q.value},L(t.default))])}});const Jt={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Xt(){const{props:e,proxy:{$q:t}}=Q(),i=ye(dt,ee);if(i===ee)return console.error("QPageSticky needs to be child of QLayout"),ee;const s=u(()=>{const l=e.position;return{top:l.indexOf("top")>-1,right:l.indexOf("right")>-1,bottom:l.indexOf("bottom")>-1,left:l.indexOf("left")>-1,vertical:l==="top"||l==="bottom",horizontal:l==="left"||l==="right"}}),n=u(()=>i.header.offset),d=u(()=>i.right.offset),a=u(()=>i.footer.offset),c=u(()=>i.left.offset),v=u(()=>{let l=0,x=0;const _=s.value,q=t.lang.rtl===!0?-1:1;_.top===!0&&n.value!==0?x=`${n.value}px`:_.bottom===!0&&a.value!==0&&(x=`${-a.value}px`),_.left===!0&&c.value!==0?l=`${q*c.value}px`:_.right===!0&&d.value!==0&&(l=`${-q*d.value}px`);const S={transform:`translate(${l}, ${x})`};return e.offset&&(S.margin=`${e.offset[1]}px ${e.offset[0]}px`),_.vertical===!0?(c.value!==0&&(S[t.lang.rtl===!0?"right":"left"]=`${c.value}px`),d.value!==0&&(S[t.lang.rtl===!0?"left":"right"]=`${d.value}px`)):_.horizontal===!0&&(n.value!==0&&(S.top=`${n.value}px`),a.value!==0&&(S.bottom=`${a.value}px`)),S}),f=u(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function o(l){const x=L(l.default);return r("div",{class:f.value,style:v.value},e.expand===!0?x:[r("div",x)])}return{$layout:i,getStickyContent:o}}var he=F({name:"QPageSticky",props:Jt,setup(e,{slots:t}){const{getStickyContent:i}=Xt();return()=>i(t)}});function fe(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Yt=ct({name:"close-popup",beforeMount(e,{value:t}){const i={depth:fe(t),handler(s){i.depth!==0&&setTimeout(()=>{const n=qt(e);n!==void 0&&It(n,s,i.depth)})},handlerKey(s){ve(s,13)===!0&&i.handler(s)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:t,oldValue:i}){t!==i&&(e.__qclosepopup.depth=fe(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Zt=ke({name:"StepperComponent",props:{initialImgSrc:{type:String,required:!0},initialImgFit:{type:String},initialPageText:{type:String,required:!1,default:"This is the paragraph to be reconstructed."},initialPageObj:{type:Object,required:!1,default:h({imgIdx:0,imgs:[{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"}],pageText:"This is the paragraph to be reconstructed (default text)",imgFit:"cover",pctReplace:25})},assignmentObj:{type:Object,required:!0}},setup(e){const t=pe();return{props:e,reStore:t,group:h(""),imgs:h([]),imgIdx:h(0),imgSrc:h(""),imgCap:h(""),imgFit:h(""),pgIdx:h(0),pageText:h(""),pctReplace:h(15),assignment:h(e.assignmentObj),step:h(1),words:h([]),options:h([]),answers:h([]),targetIdx:h(0),showWordChoices:h(!1),slideShowInterval:h(null)}},mounted(){console.log("Stepper.mounted ",this.props),this.reStore.setStatus("points",this.assignment.points),this.reStore.setStatus("goal",this.assignment.goal),this.reStore.setStatus("title",this.assignment.title),this.reStore.setStatus("pgIdx",this.assignment.pgIdx),this.reStore.setStatus("pgTot",this.assignment.pages.length),this.reStore.setStatus("courseid",this.assignment.courseid),this.step1()},methods:{stringify(){const e=JSON.stringify(this.assignment);console.log(e)},prevImg(){this.imgIdx=this.imgIdx-1<0?this.imgs.length-1:0,this.imgSrc=this.imgs[this.imgIdx].url,this.imgCap=this.imgs[this.imgIdx].cap,console.log("stepper nextImg",this.imgIdx),this.reStore.setStatus("imgIdx",this.imgIdx)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgs.length-1?0:this.imgIdx+1,this.imgSrc=this.imgs[this.imgIdx].url,this.imgCap=this.imgs[this.imgIdx].cap,console.log("stepper nextImg",this.imgIdx,this.imgs),this.reStore.setStatus("imgIdx",this.imgIdx)},cycleFit(){const e=["scale-down","cover"];let t=e.indexOf(this.imgFit);this.imgFit=t+1>=e.length?e[0]:e[t+1],this.reStore.setStatus("imgFit",this.imgFit)},loadPage(e){this.imgs=e.imgs,this.imgIdx=e.imgIdx,this.imgSrc=e.imgs.length?e.imgs[0].url:null,this.imgCap=e.imgs.length?e.imgs[0].cap:null,this.imgFit=e.imgFit,this.pageText=e.pageText,this.pctReplace=e.pctReplace,w("#slideTextDiv").html(this.pageText),this.reStore.setStatus("imgIdx",this.imgIdx),this.reStore.setStatus("imgTot",this.imgs.length),this.reStore.setStatus("guideWords",this.assignment.pages[this.pgIdx].guideWords),this.reStore.setStatus("imgFit",this.imgFit),this.reStore.setStatus("pageid",e.pageid),this.reStore.setStatus("pctReplace",this.pctReplace),this.reStore.setStatus("pageTitle",e.pageTitle)},step1(){this.step=1,console.log("step",this.step),D(".stepB").classed("readyBorder",!1),D(".stepB").classed("notreadyBorder",!1),w("#slideTextDiv").classed("border-red",!1),w("#slideTextDiv").classed("border-green",!1),w("#step1B").classed("readyBorder",!0);let e;if(this.assignment.pages[this.pgIdx].isCustom===!0)e=this.assignment.pages[this.pgIdx],this.loadPage(e);else if(this.assignment.pages[this.pgIdx].pageid){if(this.assignment.pages[this.pgIdx].pageid){const t="",i=this.assignment.pages[this.pgIdx].pageid,s=this.reStore.getPage(t,i);console.log("received promise ",s),s.then(n=>{this.loadPage(n)})}}else{const t=this.assignment.pages[this.pgIdx].guideWords,i=this.assignment.pages[this.pgIdx].pageid;console.log("guideWords",t,"pageid ",i);const s=this.reStore.getPage(t,i);console.log("received promise ",s),s.then(n=>{this.loadPage(n)})}},step2(){if(D(".stepB").classed("readyBorder",!1),D(".stepB").classed("notreadyBorder",!1),this.step===2)return;for(this.step=2,w("#step2B").classed("readyBorder",!0),console.log("step",this.step),w("#slideTextDiv").classed("border-red",!1),w("#slideTextDiv").classed("border-green",!1);this.words.length>0;)this.words.pop();for(;this.answers.length>0;)this.answers.pop();for(;this.options.length>0;)this.options.pop();const e=this.pageText.replaceAll("  "," ").split(" ");console.log("rtext: ",e);let t="";for(const s in e){let n;try{n=this.pctReplace}catch{n=10}if(Math.random()*100<=n){if(e[s]===" "){t+=e[s]+" ";continue}t+=' <b class="choose" id="pop_'+this.words.length+'">[choose]</b> ',this.words.push(e[s]),this.answers.push("")}else t+=e[s]+" "}console.log(t),w("#slideTextDiv").html(t);const i=5;for(const s in this.words){const n="#pop_"+s;w(n).on("click",d=>{for(;this.options.length>0;)this.options.pop();const a=[];this.targetIdx=s,console.log("onclick: targetIdx = ",this.targetIdx,this.targetIdx.value,s,this.words.length),this.options.push({label:this.words[s],value:this.words[s]}),a.push(this.words[s]);for(let c=0;c<Math.min(i,this.words.length);c++)a.indexOf(this.words[c])>-1||(this.options.push({label:this.words[c],value:this.words[c]}),a.push(this.words[c]));console.log(a),this.showWordChoices=!0})}},step3(){if(D(".stepB").classed("readyBorder",!1),D(".stepB").classed("notreadyBorder",!1),this.step===3)return;this.step=3,console.log("step",this.step);let e=!0;for(const t in this.words)this.words[t]!==this.answers[t]&&(e=!1);e===!0?(w("#slideTextDiv").classed("border-green",!0),w("#step3B").classed("readyBorder",!0),this.assignment.score+=this.words.length,this.reStore.assignmentStatus.points+=this.words.length,this.step=4):(w("#slideTextDiv").classed("border-red",!0),w("#step3B").classed("notreadyBorder",!0))},step4(){D(".stepB").classed("readyBorder",!1),D(".stepB").classed("notreadyBorder",!1),console.log("step ",this.step),this.step===4&&(w("#step4B").classed("readyBorder",!0),this.pgIdx===this.assignment.pages.length-1&&this.assignment.pages[this.pgIdx].isCustom===!1?console.log("Pages array ended with random. pgIdx "):this.pgIdx=this.pgIdx+1<=this.assignment.pages.length-1?this.pgIdx+1:0,console.log("Proceeding to next page",this.pgIdx),this.reStore.setStatus("pgIdx",this.pgIdx),this.step1())},update(e){console.log("targetIdx: ",this.targetIdx,"val: ",e),this.answers[this.targetIdx]=e;const t="#pop_"+this.targetIdx;w(t).html(e),console.log(this.answers),this.showWordChoices=!1,this.group=""},toggleSlideShow(){this.slideShowInterval?(window.clearInterval(this.slideShowInterval),this.slideShowInterval=null):this.slideShowInterval=window.setInterval(()=>{console.log("tick"),this.nextImg()},5e3)},saveImage(){console.log("saveImage")},saveBookmark(){console.log("saveBookmark")}}}),ei=K("div",{class:"text-h6"},"Choose correct word:",-1),ti={class:"q-pa-lg"},ii={id:"slideCaptionDiv",class:"absolute-top text-subtitle1 text-center q-my-xl"},si={id:"slideTextDiv",class:"text-panel text-center absolute-center",contentEditable:"false"};function ai(e,t,i,s,n,d){return we(),gt(ht,null,[b(Qt,{modelValue:this.showWordChoices,"onUpdate:modelValue":t[1]||(t[1]=a=>this.showWordChoices=a)},{default:$(()=>[b(tt,null,{default:$(()=>[b(le,null,{default:$(()=>[ei]),_:1}),b(le,{class:"q-pt-none"},{default:$(()=>[K("div",ti,[b(Ft,{modelValue:e.group,"onUpdate:modelValue":[t[0]||(t[0]=a=>e.group=a),this.update],options:this.options,color:"primary"},null,8,["modelValue","options","onUpdate:modelValue"])])]),_:1}),b(Dt,{align:"right"},{default:$(()=>[mt(b(B,{flat:"",label:"OK",color:"primary"},null,512),[[Yt]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(Mt,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},{default:$(()=>[K("div",ii,de(this.imgCap),1)]),_:1},8,["src","fit"]),K("div",si,de(this.pageText),1),b(he,{position:"bottom",offset:[0,10]},{default:$(()=>[b(B,{color:"accent",onClick:t[2]||(t[2]=a=>this.prevImg()),icon:"start",class:"rotate-180 q-pa-sm q-mx-sm"}),b(Gt,{square:"",color:"accent",icon:"keyboard_arrow_up",direction:"up",padding:"sm",class:"q-pa-sm q-mx-sm"},{default:$(()=>[b(te,{color:"accent",onClick:t[3]||(t[3]=a=>this.saveImage()),icon:"photo_album"}),b(te,{color:"accent",onClick:t[4]||(t[4]=a=>this.saveBookmark()),icon:"bookmark_border",class:"q-pa-sm q-mx-sm"}),b(te,{color:"accent",onClick:t[5]||(t[5]=a=>this.toggleSlideShow()),icon:"slideshow"})]),_:1}),b(B,{color:"accent",onClick:t[6]||(t[6]=a=>this.stringify()),icon:"star",class:"q-pa-sm q-mx-sm"}),b(B,{color:"accent",onClick:t[7]||(t[7]=a=>this.cycleFit()),icon:"fit_screen",class:"q-pa-sm q-mx-sm"}),b(B,{color:"accent",onClick:t[8]||(t[8]=a=>this.nextImg()),icon:"start",class:"q-pa-sm q-mx-sm"})]),_:1}),b(he,{position:"bottom",offset:[0,70]},{default:$(()=>[b(B,{id:"step1B",round:"",color:"secondary",class:"stepB q-mx-sm readyBorder",onClick:t[9]||(t[9]=a=>this.step1()),icon:"local_library",stack:"","no-caps":"",label:"Read",padding:"sm md"}),b(B,{id:"step2B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[10]||(t[10]=a=>this.step2()),icon:"handyman",stack:"","no-caps":"",label:"Fix it",padding:"sm md"}),b(B,{id:"step3B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[11]||(t[11]=a=>this.step3()),icon:"spellcheck",stack:"","no-caps":"",label:"Check",padding:"sm md"}),b(B,{id:"step4B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[12]||(t[12]=a=>this.step4()),icon:"navigate_next",stack:"","no-caps":"",label:"Next",padding:"sm md"})]),_:1})],64)}var oi=_e(Zt,[["render",ai]]);const Re={isCustom:!0,pageTitle:"Page 1",lang:"English",pageid:null,guideWords:"",imgIdx:0,imgs:[{url:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/readingedge_cover.png",cap:"Welcome to Reading Edge"},{url:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Cataratas.jpg",cap:"Iguazu Falls, Brazil"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Rainforest_-_Ituri_%2820874628148%29.jpg/1920px-Rainforest_-_Ituri_%2820874628148%29.jpg",cap:"Ituri Forest, Congo Basin"}],imgFit:"cover",pctReplace:15,pageText:"Welcome to Reading Edge! Read this paragraph carefully, then proceed to Step 2 where you will be asked to reconstruct this same paragraph in order to earn points. The following pages will provide an overview of how everything works.  "},ni={isCustom:!0,pageTitle:"Page 2",lang:"English",pageid:null,guideWords:"",imgIdx:0,imgs:[{url:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Cataratas.jpg",cap:"Iguazu Falls, Brazil"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Rainforest_-_Ituri_%2820874628148%29.jpg/1920px-Rainforest_-_Ituri_%2820874628148%29.jpg",cap:"Ituri Forest, Congo Basin"},{url:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/readingedge_cover.png",cap:"Welcome to Reading Edge"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"}],imgFit:"cover",pctReplace:15,pageText:"By default Reading Edge gets content from Wikipedia. Each page can be completely random, semi-random (based on guidewords), a specific Wikipedia page, or your own custom composition of text and images. The only caveat with images is that they must have a valid url on the internet.  Reading Edge does not store images, just links to the target content. The following slides will continue indefinitely guided by the current guideWords, which you can modify from the control on the right sidebar (TBD).  "},li={isCustom:!1,pageTitle:"Page 4",lang:"English",pageid:null,guideWords:"helicopter, commercial airliner,boeing airliner, airline",imgIdx:0,imgs:[],imgFit:"scale-down",pctReplace:15,pageText:""},ri={courseid:"---",title:"Demo Assignment",lang:"English",goal:100,points:0,pgIdx:0,pages:[Re,ni,li]},ui=ke({name:"GuestPage",components:{StepperComponent:oi},setup(e){const t=pe();return{props:e,reStore:t,demoPage:h(Re),demoAssignment:h(ri)}}});function di(e,t,i,s,n,d){const a=pt("StepperComponent");return we(),ft(Ne,{id:"QPage",class:"row justify-center"},{default:$(()=>[b(a,{"initial-img-src":this.imgSrc,"initial-img-fit":this.imgFit,"initial-page-obj":this.demoPage,"assignment-obj":this.demoAssignment},null,8,["initial-img-src","initial-img-fit","initial-page-obj","assignment-obj"])]),_:1})}var bi=_e(ui,[["render",di]]);export{bi as default};
