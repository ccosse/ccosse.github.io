import{Q as h}from"./DocumentationComponent.8ace37e0.js";import{d as g,r as i,v as p,_ as m,o as u,c as _,w as c,a as l,e as t,ak as o,Q as x,a1 as d,ag as n}from"./index.6f3b0f63.js";import{Q as f}from"./use-form.47e132c2.js";import{Q as C}from"./QCard.57ca1b97.js";import{u as T}from"./re-store.918964ea.js";import{s as r}from"./transform.aea72fbe.js";const k=g({name:"AssignmentStatus",props:{},setup(s){return{reStore:T(),aid:i("-"),ck:i("-"),assignmentTitle:i("-"),pageTitle:i("-"),pctComplete:i(0),points:i(0),goal:i(100),pgIdx:i(0),pgTot:i(0),imgIdx:i(0),imgTot:i(0),imgFit:i("-"),guideWords:i("-"),mapCoords:i("36.11,-115.17"),pageid:i("-"),pctReplace:i("-"),props:s}},mounted(){console.log(this.props),p(this.reStore.assignmentStatus,async(s,e)=>{console.log("watcher ",s,e),this.pctComplete=parseInt(parseFloat(s.points)/parseFloat(s.goal)*100),this.assignmentTitle=s.assignmentTitle,this.pageTitle=s.pageTitle,this.points=s.points,this.goal=s.goal,this.pgIdx=s.pgIdx,this.pgTot=s.pgTot,this.imgIdx=s.imgIdx,this.imgTot=s.imgTot,this.imgFit=s.imgFit,this.guideWords=s.guideWords,this.mapCoords=s.mapCoords,this.pageid=s.pageid,this.ck=s.ck,this.aid=s.aid,this.pctReplace=s.pctReplace})},methods:{speak(){console.log("AssignmentStatus.speak",this.reStore),this.reStore.speak()},mapCB(){const s="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(s,"_blank")},cycleFitMode(){const s=["scale-down","cover"];let e=s.indexOf(this.imgFit);e+=1,e>s.length-1&&(e=0),this.imgFit=s[e],this.reStore.page.imgFit=this.imgFit,this.reStore.assignmentStatus.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgTot-1?0:this.imgIdx+1,console.log("AssignmentStatus nextImg",this.imgIdx,this.imgTot),this.reStore.setStatus("imgIdx",this.imgIdx)},toggleText(){r("#slideTextDiv").classed("hidden")===!0?r("#slideTextDiv").classed("hidden",!1):r("#slideTextDiv").classed("hidden",!0)},loadURL(s){console.log("loadURL ",s),window.open(s,"_blank")}}}),y={class:"text-weight-bolder text-center q-pa-md"},I={style:{border:"1px solid gray","border-radius":"5px"}},S={width:"100%"},F={style:{width:"50%","text-align":"center"}},v={style:{"text-align":"center"}},Q=t("tr",null,[t("td",{style:{"text-align":"center"}},"% Complete"),t("td",{style:{"text-align":"center"}},"Speak Text")],-1),R={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md hidden"},A={width:"100%"},B=t("td",null,"Page Title",-1),P={style:{width:"50%"}},W=t("td",null,"Course-Key",-1),$={style:{width:"50%"}},q=t("td",null,"Assgnmt Id",-1),w={style:{width:"50%"}},D=t("td",null,"WP Page Id",-1),M={style:{width:"50%"}},U=t("td",null,"Current Page",-1),V=t("td",null,"Current Image",-1),L={class:"float-left"},N=t("td",null,"Image Fit",-1),G={class:"align-left"},z=t("td",null,"Guide Words",-1),E={style:{width:"50%"}},K=t("td",null,"Percent Replace",-1),H=t("td",null,"Map Coords",-1),J={class:"float-left"};function X(s,e,Y,Z,b,O){return u(),_(C,{flat:""},{default:c(()=>[l(f,null,{default:c(()=>[t("div",y,"Points/Goal: "+o(this.points)+"/"+o(this.goal),1),t("div",I,[t("table",S,[t("tr",null,[t("td",F,[l(h,{"show-value":"","instant-feedback":"",value:this.pctComplete,size:"55px",thickness:.4,color:"grey-5","track-color":"secondary","center-color":"green-5",class:"q-ma-md"},null,8,["value","thickness"])]),t("td",v,[l(x,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:e[0]||(e[0]=a=>this.speak())})])]),Q])]),t("div",R,[t("table",A,[t("tr",null,[B,t("td",P,o(this.pageTitle),1)]),t("tr",null,[W,t("td",$,o(this.ck),1)]),t("tr",null,[q,t("td",w,o(this.aid),1)]),t("tr",null,[D,t("td",M,[t("a",{class:"bold_ptr float-left",onClick:e[1]||(e[1]=a=>this.loadURL(this.canonicalUrl))},o(this.pageid),1),l(d,{name:"link",class:"float-right"})])]),t("tr",null,[U,t("td",{style:{width:"50%"},class:"ptr",onClick:e[2]||(e[2]=(...a)=>this.toggleText&&this.toggleText(...a))},[n(o(this.pgIdx+1)+" / "+o(this.pgTot)+" ",1),l(d,{name:"article",class:"float-right"})])]),t("tr",null,[V,t("td",{style:{width:"50%"},class:"ptr",onClick:e[3]||(e[3]=(...a)=>this.nextImg&&this.nextImg(...a))},[t("span",L,o(this.imgIdx+1)+" / "+o(this.imgTot),1),l(d,{name:"image",class:"float-right"})])]),t("tr",{class:"ptr",onClick:e[4]||(e[4]=(...a)=>this.cycleFitMode&&this.cycleFitMode(...a))},[N,t("td",null,[t("span",G,o(this.imgFit),1),l(d,{class:"float-right",name:"fit_screen"})])]),t("tr",null,[z,t("td",E,[n(o(this.guideWords.replaceAll(",",", "))+" ",1),l(d,{name:"tune",class:"float-right"})])]),t("tr",null,[K,t("td",null,[n(o(this.pctReplace)+" % ",1),l(d,{name:"tune",class:"float-right"})])]),t("tr",null,[H,t("td",{onClick:e[5]||(e[5]=(...a)=>this.mapCB&&this.mapCB(...a)),class:"ptr"},[t("span",J,o(this.mapCoords.slice(0,13)),1),l(d,{class:"float-right",name:"place"})])])])])]),_:1})]),_:1})}var lt=m(k,[["render",X]]);export{lt as A};
