import{w as A,t as ve,o as W,f as Se,g as E,as as _e,r as y,a as s,ac as Be,a1 as ke,at as Re,Y as me,v as we,a5 as Ae,ad as Fe,i as Pe,d as i,T as U,a9 as ne,Z as Te,y as V,X as ge,W as Ve,c as pe,au as Ee,am as Oe}from"./index.e18f05ee.js";import{u as G,a as ee}from"./use-dark.17157aa0.js";import{u as $e}from"./QItemLabel.3688ec7d.js";import{d as he,r as Me,u as De,a as He,b as Ie,c as Ue,f as ze}from"./use-tick.17f949cf.js";import{u as Ke,v as re,a as Le,b as Qe,c as je,r as ue,s as We,p as ae,d as Ze}from"./QTooltip.aa53ee2d.js";import{u as Ne,a as Je,b as Xe}from"./use-model-toggle.d083611f.js";import{u as Ye}from"./use-timeout.bcdfaf26.js";import{g as Ge}from"./scroll.d8e09647.js";import{f as eo,r as oo,g as ie,h as to}from"./ClosePopup.e3e55076.js";function lo({validate:e,resetValidation:o,requiresQForm:l}){const n=Se(_e,!1);if(n!==!1){const{props:d,proxy:c}=E();Object.assign(c,{validate:e,resetValidation:o}),A(()=>d.disable,u=>{u===!0?(typeof o=="function"&&o(),n.unbindComponent(c)):n.bindComponent(c)}),ve(()=>{d.disable!==!0&&n.bindComponent(c)}),W(()=>{d.disable!==!0&&n.unbindComponent(c)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const se=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,de=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ce=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Q=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,j=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,X={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>se.test(e),hexaColor:e=>de.test(e),hexOrHexaColor:e=>ce.test(e),rgbColor:e=>Q.test(e),rgbaColor:e=>j.test(e),rgbOrRgbaColor:e=>Q.test(e)||j.test(e),hexOrRgbColor:e=>se.test(e)||Q.test(e),hexaOrRgbaColor:e=>de.test(e)||j.test(e),anyColor:e=>ce.test(e)||Q.test(e)||j.test(e)},no=[!0,!1,"ondemand"],ro={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>no.includes(e)}};function uo(e,o){const{props:l,proxy:n}=E(),d=y(!1),c=y(null),u=y(null);lo({validate:S,resetValidation:B});let v=0,C;const _=s(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length>0),m=s(()=>l.disable!==!0&&_.value===!0),h=s(()=>l.error===!0||d.value===!0),q=s(()=>typeof l.errorMessage=="string"&&l.errorMessage.length>0?l.errorMessage:c.value);A(()=>l.modelValue,()=>{F()}),A(()=>l.reactiveRules,b=>{b===!0?C===void 0&&(C=A(()=>l.rules,()=>{F(!0)})):C!==void 0&&(C(),C=void 0)},{immediate:!0}),A(e,b=>{b===!0?u.value===null&&(u.value=!1):u.value===!1&&(u.value=!0,m.value===!0&&l.lazyRules!=="ondemand"&&o.value===!1&&k())});function B(){v++,o.value=!1,u.value=null,d.value=!1,c.value=null,k.cancel()}function S(b=l.modelValue){if(m.value!==!0)return!0;const R=++v,O=o.value!==!0?()=>{u.value=!0}:()=>{},x=(g,f)=>{g===!0&&O(),d.value=g,c.value=f||null,o.value=!1},w=[];for(let g=0;g<l.rules.length;g++){const f=l.rules[g];let p;if(typeof f=="function"?p=f(b,X):typeof f=="string"&&X[f]!==void 0&&(p=X[f](b)),p===!1||typeof p=="string")return x(!0,p),!1;p!==!0&&p!==void 0&&w.push(p)}return w.length===0?(x(!1),!0):(o.value=!0,Promise.all(w).then(g=>{if(g===void 0||Array.isArray(g)===!1||g.length===0)return R===v&&x(!1),!0;const f=g.find(p=>p===!1||typeof p=="string");return R===v&&x(f!==void 0,f),f===void 0},g=>(R===v&&(console.error(g),x(!0)),!1)))}function F(b){m.value===!0&&l.lazyRules!=="ondemand"&&(u.value===!0||l.lazyRules!==!0&&b!==!0)&&k()}const k=Be(S,0);return W(()=>{C!==void 0&&C(),k.cancel()}),Object.assign(n,{resetValidation:B,validate:S}),ke(n,"hasError",()=>h.value),{isDirtyModel:u,hasRules:_,hasError:h,errorMessage:q,validate:S,resetValidation:B}}const fe=/^on[A-Z]/;function ao(e,o){const l={listeners:y({}),attributes:y({})};function n(){const d={},c={};for(const u in e)u!=="class"&&u!=="style"&&fe.test(u)===!1&&(d[u]=e[u]);for(const u in o.props)fe.test(u)===!0&&(c[u]=o.props[u]);l.attributes.value=d,l.listeners.value=c}return Re(n),n(),l}function Y(e){return e===void 0?`f_${$e()}`:e}function io(e){return e!=null&&(""+e).length>0}const So={...G,...ro,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},_o=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Bo(){const{props:e,attrs:o,proxy:l,vnode:n}=E();return{isDark:ee(e,l.$q),editable:s(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:y(!1),focused:y(!1),hasPopupOpen:!1,splitAttrs:ao(o,n),targetUid:y(Y(e.for)),rootRef:y(null),targetRef:y(null),controlRef:y(null)}}function ko(e){const{props:o,emit:l,slots:n,attrs:d,proxy:c}=E(),{$q:u}=c;let v=null;e.hasValue===void 0&&(e.hasValue=s(()=>io(o.modelValue))),e.emitValue===void 0&&(e.emitValue=t=>{l("update:modelValue",t)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:$,onFocusout:M}),Object.assign(e,{clearValue:D,onControlFocusin:$,onControlFocusout:M,focus:f}),e.computedCounter===void 0&&(e.computedCounter=s(()=>{if(o.counter!==!1){const t=typeof o.modelValue=="string"||typeof o.modelValue=="number"?(""+o.modelValue).length:Array.isArray(o.modelValue)===!0?o.modelValue.length:0,a=o.maxlength!==void 0?o.maxlength:o.maxValues;return t+(a!==void 0?" / "+a:"")}}));const{isDirtyModel:C,hasRules:_,hasError:m,errorMessage:h,resetValidation:q}=uo(e.focused,e.innerLoading),B=e.floatingLabel!==void 0?s(()=>o.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):s(()=>o.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),S=s(()=>o.bottomSlots===!0||o.hint!==void 0||_.value===!0||o.counter===!0||o.error!==null),F=s(()=>o.filled===!0?"filled":o.outlined===!0?"outlined":o.borderless===!0?"borderless":o.standout?"standout":"standard"),k=s(()=>`q-field row no-wrap items-start q-field--${F.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(o.rounded===!0?" q-field--rounded":"")+(o.square===!0?" q-field--square":"")+(B.value===!0?" q-field--float":"")+(R.value===!0?" q-field--labeled":"")+(o.dense===!0?" q-field--dense":"")+(o.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(o.hideBottomSpace!==!0&&S.value===!0?" q-field--with-bottom":"")+(o.disable===!0?" q-field--disabled":o.readonly===!0?" q-field--readonly":"")),b=s(()=>"q-field__control relative-position row no-wrap"+(o.bgColor!==void 0?` bg-${o.bgColor}`:"")+(m.value===!0?" text-negative":typeof o.standout=="string"&&o.standout.length>0&&e.focused.value===!0?` ${o.standout}`:o.color!==void 0?` text-${o.color}`:"")),R=s(()=>o.labelSlot===!0||o.label!==void 0),O=s(()=>"q-field__label no-pointer-events absolute ellipsis"+(o.labelColor!==void 0&&m.value!==!0?` text-${o.labelColor}`:"")),x=s(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:B.value,modelValue:o.modelValue,emitValue:e.emitValue})),w=s(()=>{const t={for:e.targetUid.value};return o.disable===!0?t["aria-disabled"]="true":o.readonly===!0&&(t["aria-readonly"]="true"),t});A(()=>o.for,t=>{e.targetUid.value=Y(t)});function g(){const t=document.activeElement;let a=e.targetRef!==void 0&&e.targetRef.value;a&&(t===null||t.id!==e.targetUid.value)&&(a.hasAttribute("tabindex")===!0||(a=a.querySelector("[tabindex]")),a&&a!==t&&a.focus({preventScroll:!0}))}function f(){he(g)}function p(){Me(g);const t=document.activeElement;t!==null&&e.rootRef.value.contains(t)&&t.blur()}function $(t){v!==null&&(clearTimeout(v),v=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",t))}function M(t,a){v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",t)),a!==void 0&&a())})}function D(t){me(t),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),o.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",o.modelValue),we(()=>{q(),u.platform.is.mobile!==!0&&(C.value=!1)})}function Z(){const t=[];return n.prepend!==void 0&&t.push(i("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:U},n.prepend())),t.push(i("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},H())),m.value===!0&&o.noErrorIcon===!1&&t.push(P("error",[i(ne,{name:u.iconSet.field.error,color:"negative"})])),o.loading===!0||e.innerLoading.value===!0?t.push(P("inner-loading-append",n.loading!==void 0?n.loading():[i(Te,{color:o.color})])):o.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&t.push(P("inner-clearable-append",[i(ne,{class:"q-field__focusable-action",tag:"button",name:o.clearIcon||u.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:D})])),n.append!==void 0&&t.push(i("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:U},n.append())),e.getInnerAppend!==void 0&&t.push(P("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&t.push(e.getControlChild()),t}function H(){const t=[];return o.prefix!==void 0&&o.prefix!==null&&t.push(i("div",{class:"q-field__prefix no-pointer-events row items-center"},o.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&t.push(e.getShadowControl()),e.getControl!==void 0?t.push(e.getControl()):n.rawControl!==void 0?t.push(n.rawControl()):n.control!==void 0&&t.push(i("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0},n.control(x.value))),R.value===!0&&t.push(i("div",{class:O.value},V(n.label,o.label))),o.suffix!==void 0&&o.suffix!==null&&t.push(i("div",{class:"q-field__suffix no-pointer-events row items-center"},o.suffix)),t.concat(V(n.default))}function z(){let t,a;m.value===!0?h.value!==null?(t=[i("div",{role:"alert"},h.value)],a=`q--slot-error-${h.value}`):(t=V(n.error),a="q--slot-error"):(o.hideHint!==!0||e.focused.value===!0)&&(o.hint!==void 0?(t=[i("div",o.hint)],a=`q--slot-hint-${o.hint}`):(t=V(n.hint),a="q--slot-hint"));const T=o.counter===!0||n.counter!==void 0;if(o.hideBottomSpace===!0&&T===!1&&t===void 0)return;const L=i("div",{key:a,class:"q-field__messages col"},t);return i("div",{class:"q-field__bottom row items-start q-field__bottom--"+(o.hideBottomSpace!==!0?"animated":"stale"),onClick:U},[o.hideBottomSpace===!0?L:i(ge,{name:"q-transition--field-message"},()=>L),T===!0?i("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function P(t,a){return a===null?null:i("div",{key:t,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},a)}let K=!1;return Ae(()=>{K=!0}),Fe(()=>{K===!0&&o.autofocus===!0&&c.focus()}),ve(()=>{Pe.value===!0&&o.for===void 0&&(e.targetUid.value=Y()),o.autofocus===!0&&c.focus()}),W(()=>{v!==null&&clearTimeout(v)}),Object.assign(c,{focus:f,blur:p}),function(){const a=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0,...w.value}:w.value;return i("label",{ref:e.rootRef,class:[k.value,d.class],style:d.style,...a},[n.before!==void 0?i("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:U},n.before()):null,i("div",{class:"q-field__inner relative-position col self-stretch"},[i("div",{ref:e.controlRef,class:b.value,tabindex:-1,...e.controlEvents},Z()),S.value===!0?z():null]),n.after!==void 0?i("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:U},n.after()):null])}}const so=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,co=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,fo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,vo=/[a-z0-9_ -]$/i;function Ro(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(Ve.is.firefox===!0?vo.test(l.data)===!1:so.test(l.data)===!0||co.test(l.data)===!0||fo.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}var wo=pe({name:"QMenu",inheritAttrs:!1,props:{...Ke,...Ne,...G,...De,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:re},self:{type:String,validator:re},offset:{type:Array,validator:Le},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Je,"click","escapeKey"],setup(e,{slots:o,emit:l,attrs:n}){let d=null,c,u,v;const C=E(),{proxy:_}=C,{$q:m}=_,h=y(null),q=y(!1),B=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=ee(e,m),{registerTick:F,removeTick:k}=He(),{registerTimeout:b}=Ye(),{transitionProps:R,transitionStyle:O}=Ie(e),{localScrollTarget:x,changeScrollEvent:w,unconfigureScrollTarget:g}=Qe(e,te),{anchorEl:f,canShow:p}=je({showing:q}),{hide:$}=Xe({showing:q,canShow:p,handleShow:L,handleHide:be,hideOnRouteChange:B,processOnMount:!0}),{showPortal:M,hidePortal:D,renderPortal:Z}=Ue(C,h,Ce,"menu"),H={anchorEl:f,innerRef:h,onClickOutside(r){if(e.persistent!==!0&&q.value===!0)return $(r),(r.type==="touchstart"||r.target.classList.contains("q-dialog__backdrop"))&&me(r),!0}},z=s(()=>ae(e.anchor||(e.cover===!0?"center middle":"bottom start"),m.lang.rtl)),P=s(()=>e.cover===!0?z.value:ae(e.self||"top start",m.lang.rtl)),K=s(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),t=s(()=>e.autoClose===!0?{onClick:ye}:{}),a=s(()=>q.value===!0&&e.persistent!==!0);A(a,r=>{r===!0?(to(N),Ze(H)):(ie(N),ue(H))});function T(){he(()=>{let r=h.value;r&&r.contains(document.activeElement)!==!0&&(r=r.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.querySelector("[autofocus], [data-autofocus]")||r,r.focus({preventScroll:!0}))})}function L(r){if(d=e.noRefocus===!1?document.activeElement:null,eo(le),M(),te(),c=void 0,r!==void 0&&(e.touchPosition||e.contextMenu)){const J=Ee(r);if(J.left!==void 0){const{top:qe,left:xe}=f.value.getBoundingClientRect();c={left:J.left-xe,top:J.top-qe}}}u===void 0&&(u=A(()=>m.screen.width+"|"+m.screen.height+"|"+e.self+"|"+e.anchor+"|"+m.lang.rtl,I)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{I(),e.noFocus!==!0&&T()}),b(()=>{m.platform.is.ios===!0&&(v=e.autoClose,h.value.click()),I(),M(!0),l("show",r)},e.transitionDuration)}function be(r){k(),D(),oe(!0),d!==null&&(r===void 0||r.qClickOutside!==!0)&&(((r&&r.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),b(()=>{D(!0),l("hide",r)},e.transitionDuration)}function oe(r){c=void 0,u!==void 0&&(u(),u=void 0),(r===!0||q.value===!0)&&(oo(le),g(),ue(H),ie(N)),r!==!0&&(d=null)}function te(){(f.value!==null||e.scrollTarget!==void 0)&&(x.value=Ge(f.value,e.scrollTarget),w(x.value,I))}function ye(r){v!==!0?(ze(_,r),l("click",r)):v=!1}function le(r){a.value===!0&&e.noFocus!==!0&&Oe(h.value,r.target)!==!0&&T()}function N(r){l("escapeKey"),$(r)}function I(){const r=h.value;r===null||f.value===null||We({el:r,offset:e.offset,anchorEl:f.value,anchorOrigin:z.value,selfOrigin:P.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(){return i(ge,R.value,()=>q.value===!0?i("div",{role:"menu",...n,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+K.value,n.class],style:[n.style,O.value],...t.value},V(o.default)):null)}return W(oe),Object.assign(_,{focus:T,updatePosition:I}),Z}}),Ao=pe({name:"QBar",props:{...G,dense:Boolean},setup(e,{slots:o}){const{proxy:{$q:l}}=E(),n=ee(e,l),d=s(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${n.value===!0?"dark":"light"}`);return()=>i("div",{class:d.value,role:"toolbar"},V(o.default))}});export{Ao as Q,_o as a,Bo as b,ko as c,Ro as d,wo as e,io as f,So as u};
