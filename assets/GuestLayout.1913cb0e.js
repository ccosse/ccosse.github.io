import{d as W,r as u,D as U,_ as G,o as H,c as Y,w as y,a as s,e as a,ad as v,Q as L,g as qe,ae as Ae,h as T,i as g,z as Ke,G as $e,v as De,af as Pe,x as ie,q as ne,p as Qe,ag as Ve,ah as ae,P as re,s as Fe,f as D}from"./index.6e31621c.js";import{Q as Ee,a as Ie,b as Le,c as E,d as Re,e as I,f as oe,g as ze,h as Be}from"./QLayout.b5455a04.js";import{u as se}from"./re-store.5489ae56.js";import{Q as Ne,a as Me,P as Ue}from"./QSlideTransition.d08f0345.js";import{Q as de,a as ce}from"./ClosePopup.79650b6a.js";import{Q as We}from"./QCheckbox.7527483f.js";import{d as Ge,f as He}from"./use-dark.2b31808a.js";import"./selection.a0bea682.js";import"./firebase.8ff914f0.js";import"./use-key-composition.4c7a583b.js";import"./use-portal.2f49abe2.js";import"./position-engine.c7c369fe.js";const Ye=W({name:"AssignmentStatus",props:{},setup(e){return{reStore:se(),assignmentTitle:u("---"),pageTitle:u("---"),lang:u("---"),pctComplete:u(0),points:u(0),goal:u(100),pgIdx:u(0),pgTot:u(0),imgIdx:u(0),imgTot:u(0),imgFit:u("---"),guideWords:u("---"),mapCoords:u([0,0]),pageid:u("---"),courseid:u("---"),pctReplace:u("---"),props:e}},mounted(){console.log(this.props),U(this.reStore.assignmentStatus,async(e,c)=>{console.log("watcher ",e,c),this.pctComplete=parseInt(parseFloat(e.points)/parseFloat(e.goal)*100),this.assignmentTitle=e.assignmentTitle,this.pageTitle=e.pageTitle,this.points=e.points,this.goal=e.goal,this.pgIdx=e.pgIdx,this.pgTot=e.pgTot,this.imgIdx=e.imgIdx,this.imgTot=e.imgTot,this.imgFit=e.imgFit,this.guideWords=e.guideWords,this.mapCoords=e.mapCoords,this.pageid=e.pageid,this.courseid=e.courseid,this.lang=e.lang,this.pctReplace=e.pctReplace})},methods:{speak(){console.log("AssignmentStatus.speak",this.reStore),this.reStore.speak()}}}),Je={class:"text-weight-bolder text-center q-pa-md"},Xe={style:{border:"1px solid gray","border-radius":"5px"}},Ze={width:"100%"},Oe={style:{width:"50%"}},je=a("tr",null,[a("td",null,"% Complete"),a("td",null,"Speak Text")],-1),et={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},tt={width:"100%"},lt=a("td",null,"Page Title",-1),it={style:{width:"50%"}},nt=a("td",null,"Course Id",-1),at={style:{width:"50%"}},rt=a("td",null,"WP Page Id",-1),ot={style:{width:"50%"}},st=a("td",null,"Language",-1),dt={style:{width:"50%"}},ct=a("td",null,"Current Page",-1),ut={style:{width:"50%"}},ft=a("td",null,"Current Image",-1),ht={style:{width:"50%"}},gt=a("td",null,"Image Fit",-1),_t=a("td",null,"Guide Words",-1),mt={style:{width:"50%"}},vt=a("td",null,"Percent Replace",-1),yt=a("td",null,"Map Coords",-1);function bt(e,c,m,x,S,q){return H(),Y(ce,{flat:""},{default:y(()=>[s(de,null,{default:y(()=>[a("div",Je,v(this.assignmentTitle)+": "+v(this.points)+"/"+v(this.goal),1),a("div",Xe,[a("table",Ze,[a("tr",null,[a("td",Oe,[s(Ne,{"show-value":"","instant-feedback":"",value:this.pctComplete,size:"55px",thickness:.4,color:"secondary","track-color":"grey-3","center-color":"grey-8",class:"q-ma-md"},null,8,["value","thickness"])]),a("td",null,[s(L,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:c[0]||(c[0]=C=>this.speak())})])]),je])]),a("div",et,[a("table",tt,[a("tr",null,[lt,a("td",it,v(this.pageTitle),1)]),a("tr",null,[nt,a("td",at,v(this.courseid),1)]),a("tr",null,[rt,a("td",ot,v(this.pageid),1)]),a("tr",null,[st,a("td",dt,v(this.lang),1)]),a("tr",null,[ct,a("td",ut,v(this.pgIdx+1)+" / "+v(this.pgTot),1)]),a("tr",null,[ft,a("td",ht,v(this.imgIdx+1)+" / "+v(this.imgTot),1)]),a("tr",null,[gt,a("td",null,v(this.imgFit),1)]),a("tr",null,[_t,a("td",mt,v(this.guideWords.replaceAll(",",", ")),1)]),a("tr",null,[vt,a("td",null,v(this.pctReplace)+" %",1)]),a("tr",null,[yt,a("td",null,v(this.mapCoords),1)])])])]),_:1})]),_:1})}var kt=G(Ye,[["render",bt]]);const pt=["none","strict","leaf","leaf-filtered"];var xt=qe({name:"QTree",props:{...Ge,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>pt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:c,emit:m}){const{proxy:x}=Ke(),{$q:S}=x,q=He(e,S),C=u({}),w=u(e.ticked||[]),k=u(e.expanded||[]);let $={};Ae(()=>{$={}});const R=T(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(q.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),p=T(()=>e.selected!==void 0),ue=T(()=>e.icon||S.iconSet.tree.icon),J=T(()=>e.controlColor||e.color),P=T(()=>e.textColor!==void 0?` text-${e.textColor}`:""),fe=T(()=>{const l=e.selectedColor||e.color;return l?` text-${l}`:""}),he=T(()=>e.filterMethod!==void 0?e.filterMethod:(l,i)=>{const t=i.toLowerCase();return l[e.labelKey]&&l[e.labelKey].toLowerCase().indexOf(t)>-1}),b=T(()=>{const l={},i=(t,r)=>{const n=t.tickStrategy||(r?r.tickStrategy:e.tickStrategy),d=t[e.nodeKey],f=t[e.childrenKey]&&t[e.childrenKey].length>0,A=t.disabled!==!0&&p.value===!0&&t.selectable!==!1,_=t.disabled!==!0&&t.expandable!==!1,Se=n!=="none",F=n==="strict",te=n==="leaf-filtered",N=n==="leaf"||n==="leaf-filtered";let M=t.disabled!==!0&&t.tickable!==!1;N===!0&&M===!0&&r&&r.tickable!==!0&&(M=!1);let K=t.lazy;K===!0&&C.value[d]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(K=C.value[d]);const o={key:d,parent:r,isParent:f,lazy:K,disabled:t.disabled,link:t.disabled!==!0&&(A===!0||_===!0&&(f===!0||K===!0)),children:[],matchesFilter:e.filter?he.value(t,e.filter):!0,selected:d===e.selected&&A===!0,selectable:A,expanded:f===!0?k.value.includes(d):!1,expandable:_,noTick:t.noTick===!0||F!==!0&&K&&K!=="loaded",tickable:M,tickStrategy:n,hasTicking:Se,strictTicking:F,leafFilteredTicking:te,leafTicking:N,ticked:F===!0?w.value.includes(d):f===!0?!1:w.value.includes(d)};if(l[d]=o,f===!0&&(o.children=t[e.childrenKey].map(h=>i(h,o)),e.filter&&(o.matchesFilter!==!0?o.matchesFilter=o.children.some(h=>h.matchesFilter):o.noTick!==!0&&o.disabled!==!0&&o.tickable===!0&&te===!0&&o.children.every(h=>h.matchesFilter!==!0||h.noTick===!0||h.tickable!==!0)===!0&&(o.tickable=!1)),o.matchesFilter===!0&&(o.noTick!==!0&&F!==!0&&o.children.every(h=>h.noTick)===!0&&(o.noTick=!0),N))){if(o.ticked=!1,o.indeterminate=o.children.some(h=>h.indeterminate===!0),o.tickable=o.tickable===!0&&o.children.some(h=>h.tickable),o.indeterminate!==!0){const h=o.children.reduce((le,we)=>we.ticked===!0?le+1:le,0);h===o.children.length?o.ticked=!0:h>0&&(o.indeterminate=!0)}o.indeterminate===!0&&(o.indeterminateNextState=o.children.every(h=>h.tickable!==!0||h.ticked!==!0))}return o};return e.nodes.forEach(t=>i(t,null)),l});U(()=>e.ticked,l=>{w.value=l}),U(()=>e.expanded,l=>{k.value=l});function Q(l){const i=[].reduce,t=(r,n)=>{if(r||!n)return r;if(Array.isArray(n)===!0)return i.call(Object(n),t,r);if(n[e.nodeKey]===l)return n;if(n[e.childrenKey])return t(null,n[e.childrenKey])};return t(null,e.nodes)}function ge(){return w.value.map(l=>Q(l))}function _e(){return k.value.map(l=>Q(l))}function me(l){return l&&b.value[l]?b.value[l].expanded:!1}function ve(){e.expanded!==void 0?m("update:expanded",[]):k.value=[]}function X(){const l=k.value,i=t=>{t[e.childrenKey]&&t[e.childrenKey].length>0&&t.expandable!==!1&&t.disabled!==!0&&(l.push(t[e.nodeKey]),t[e.childrenKey].forEach(i))};e.nodes.forEach(i),e.expanded!==void 0?m("update:expanded",l):k.value=l}function z(l,i,t=Q(l),r=b.value[l]){if(r.lazy&&r.lazy!=="loaded"){if(r.lazy==="loading")return;C.value[l]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),m("lazyLoad",{node:t,key:l,done:n=>{C.value[l]="loaded",t[e.childrenKey]=Array.isArray(n)===!0?n:[],$e(()=>{const d=b.value[l];d&&d.isParent===!0&&Z(l,!0)})},fail:()=>{delete C.value[l],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else r.isParent===!0&&r.expandable===!0&&Z(l,i)}function Z(l,i){let t=k.value;const r=e.expanded!==void 0;if(r===!0&&(t=t.slice()),i){if(e.accordion&&b.value[l]){const n=[];b.value[l].parent?b.value[l].parent.children.forEach(d=>{d.key!==l&&d.expandable===!0&&n.push(d.key)}):e.nodes.forEach(d=>{const f=d[e.nodeKey];f!==l&&n.push(f)}),n.length>0&&(t=t.filter(d=>n.includes(d)===!1))}t=t.concat([l]).filter((n,d,f)=>f.indexOf(n)===d)}else t=t.filter(n=>n!==l);r===!0?m("update:expanded",t):k.value=t}function ye(l){return l&&b.value[l]?b.value[l].ticked:!1}function V(l,i){let t=w.value;const r=e.ticked!==void 0;r===!0&&(t=t.slice()),i?t=t.concat(l).filter((n,d,f)=>f.indexOf(n)===d):t=t.filter(n=>l.includes(n)===!1),r===!0&&m("update:ticked",t)}function be(l,i,t){const r={tree:x,node:l,key:t,color:e.color,dark:q.value};return ae(r,"expanded",()=>i.expanded,n=>{n!==i.expanded&&z(t,n)}),ae(r,"ticked",()=>i.ticked,n=>{n!==i.ticked&&V([t],n)}),r}function O(l){return(e.filter?l.filter(i=>b.value[i[e.nodeKey]].matchesFilter):l).map(i=>Ce(i))}function ke(l){if(l.icon!==void 0)return g(ie,{class:"q-tree__icon q-mr-sm",name:l.icon,color:l.iconColor});const i=l.img||l.avatar;if(i)return g("img",{class:`q-tree__${l.img?"img":"avatar"} q-mr-sm`,src:i})}function pe(){m("afterShow")}function xe(){m("afterHide")}function Ce(l){const i=l[e.nodeKey],t=b.value[i],r=l.header&&c[`header-${l.header}`]||c["default-header"],n=t.isParent===!0?O(l[e.childrenKey]):[],d=n.length>0||t.lazy&&t.lazy!=="loaded";let f=l.body&&c[`body-${l.body}`]||c["default-body"];const A=r!==void 0||f!==void 0?be(l,t,i):null;return f!==void 0&&(f=g("div",{class:"q-tree__node-body relative-position"},[g("div",{class:P.value},[f(A)])])),g("div",{key:i,class:`q-tree__node relative-position q-tree__node--${d===!0?"parent":"child"}`},[g("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:_=>{ee(l,t,_)},onKeypress(_){De(_)!==!0&&(_.keyCode===13?ee(l,t,_,!0):_.keyCode===32&&B(l,t,_,!0))}},[g("div",{class:"q-focus-helper",tabindex:-1,ref:_=>{$[t.key]=_}}),t.lazy==="loading"?g(Pe,{class:"q-tree__spinner",color:J.value}):d===!0?g(ie,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:ue.value,onClick(_){B(l,t,_)}}):null,t.hasTicking===!0&&t.noTick!==!0?g(We,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:J.value,dark:q.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:ne,"onUpdate:modelValue":_=>{Te(t,_)}}):null,g("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?fe.value:P.value)},[r?r(A):[ke(l),g("div",l[e.labelKey])]])]),d===!0?e.noTransition===!0?g("div",{class:"q-tree__node-collapsible"+P.value,key:`${i}__q`},[f,g("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},t.expanded?n:null)]):g(Me,{duration:e.duration,onShow:pe,onHide:xe},()=>Qe(g("div",{class:"q-tree__node-collapsible"+P.value,key:`${i}__q`},[f,g("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},n)]),[[Ve,t.expanded]])):f])}function j(l){const i=$[l];i&&i.focus()}function ee(l,i,t,r){r!==!0&&j(i.key),p.value&&i.selectable?e.noSelectionUnset===!1?m("update:selected",i.key!==e.selected?i.key:null):i.key!==e.selected&&m("update:selected",i.key===void 0?null:i.key):B(l,i,t,r),typeof l.handler=="function"&&l.handler(l)}function B(l,i,t,r){t!==void 0&&ne(t),r!==!0&&j(i.key),z(i.key,!i.expanded,l,i)}function Te(l,i){if(l.indeterminate===!0&&(i=l.indeterminateNextState),l.strictTicking)V([l.key],i);else if(l.leafTicking){const t=[],r=n=>{n.isParent?(i!==!0&&n.noTick!==!0&&n.tickable===!0&&t.push(n.key),n.leafTicking===!0&&n.children.forEach(r)):n.noTick!==!0&&n.tickable===!0&&(n.leafFilteredTicking!==!0||n.matchesFilter===!0)&&t.push(n.key)};r(l),V(t,i)}}return e.defaultExpandAll===!0&&X(),Object.assign(x,{getNodeByKey:Q,getTickedNodes:ge,getExpandedNodes:_e,isExpanded:me,collapseAll:ve,expandAll:X,setExpanded:z,isTicked:ye,setTicked:V}),()=>{const l=O(e.nodes);return g("div",{class:R.value},l.length===0?e.filter?e.noResultsLabel||S.lang.tree.noResults:e.noNodesLabel||S.lang.tree.noNodes:l)}}});const Ct=W({name:"DocumentationComponent",setup(){return{simple:[{label:"Reading Edge Documentation",children:[{label:"Demo Assignment",icon:"collections_bookmark",children:[{label:"Things to point out"},{label:"And more ... "}]},{label:"Your Account",icon:"person",children:[{label:"Why login?"},{label:"Teacher and Student"},{label:"Courses and Assignments"},{label:"Preferences"}]},{label:"Assignment Builder",icon:"build",children:[{label:"Assignment Pieces"},{label:"Random default"},{label:"Random with GWs"},{label:"Custom with PageID"},{label:"Custom from Template"},{label:"Images & Text"},{label:"Meta Configuration"}]},{label:"History of Reading Edge",icon:"history",children:[{label:"Previous incarnations"}]}]}]}}});function Tt(e,c,m,x,S,q){return H(),Y(ce,{flat:""},{default:y(()=>[s(de,null,{default:y(()=>[s(xt,{nodes:this.simple,"node-key":"label","no-connectors":""},null,8,["nodes"])]),_:1})]),_:1})}var St=G(Ct,[["render",Tt]]);const wt=W({name:"GuestLayout",components:{AssignmentStatus:kt,DocumentationComponent:St,PreferencesComponent:Ue},setup(){const e=u(!1),c=u(!1),m=se(),x=m.preferences;return{step:u(1),reStore:m,initialValues:u(x),leftDrawerOpen:e,rightDrawerOpen:c,toggleLeftDrawer(){e.value=!e.value},toggleRightDrawer(){c.value=!c.value}}},mounted(){re.isActive||(re.toggle(),Fe("primary","#333"))}}),qt={class:"dashboard-wrapper"};function At(e,c,m,x,S,q){const C=D("router-link"),w=D("DocumentationComponent"),k=D("AssignmentStatus"),$=D("PreferencesComponent"),R=D("router-view");return H(),Y(Be,{view:"hHh lpR fFf"},{default:y(()=>[s(Re,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:y(()=>[s(Ee,null,{default:y(()=>[s(L,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),s(Ie,null,{default:y(()=>[s(C,{to:"/"},{default:y(()=>[s(L,{dense:"",flat:"",round:"",icon:"home",color:"white"})]),_:1})]),_:1}),s(L,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1}),s(Le,{align:"left",class:"hidden"},{default:y(()=>[s(E,{to:"/logo",label:"Logo"}),s(E,{to:"/teaching",label:"Teaching"}),s(E,{to:"/taking",label:"Taking"}),s(E,{to:"/gradebook",label:"Gradebook"})]),_:1})]),_:1}),s(I,{"show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":c[0]||(c[0]=p=>e.leftDrawerOpen=p),side:"left",bordered:""},null,8,["modelValue"]),s(I,{"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":c[1]||(c[1]=p=>e.rightDrawerOpen=p),side:"right",bordered:""},null,8,["modelValue"]),s(ze,{class:"container-fluid"},{default:y(()=>[s(I,{bordered:"","show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":c[2]||(c[2]=p=>e.leftDrawerOpen=p),side:"left"},{default:y(()=>[s(oe,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:y(()=>[s(w)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),s(I,{bordered:"","show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":c[3]||(c[3]=p=>e.rightDrawerOpen=p),side:"right"},{default:y(()=>[s(oe,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:y(()=>[s(k),s($,{initialValues:this.initialValues},null,8,["initialValues"])]),_:1},8,["visible"])]),_:1},8,["modelValue"]),a("div",qt,[s(R)])]),_:1})]),_:1})}var Bt=G(wt,[["render",At]]);export{Bt as default};
