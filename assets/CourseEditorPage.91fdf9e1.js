import{Q as f}from"./QPage.cd9fa1a3.js";import{u as g}from"./re-store.89a69545.js";import{Q as v}from"./QBanner.8a8510b0.js";import{Q as E}from"./QImg.7099fc15.js";import{Q as m}from"./QCard.48f74f10.js";import{Q as w}from"./QCardSection.9a644ae0.js";import{e as C,r as Q,u as $,_ as S,o,f as c,w as r,k as t,g as n,ar as i,aq as p,at as b,aG as B,j as _,aF as h,l as N}from"./index.600d8139.js";import"./firebase.0eb8f378.js";import"./transform.aea72fbe.js";import"./index.2cf0d985.js";import"./use-dark.6b8e3cc1.js";const q=C({name:"CourseEditor",setup(){return{reStore:g(),course:Q(null)}},mounted(){console.log("CE mounted"),$(this.reStore.courses,async(e,s)=>{if(console.log("CE watcher ",e,s),!this.assignment||this.assignment.id!==e.aid){const u=this.reStore.courses.ck;this.course=JSON.parse(JSON.stringify(this.reStore.courses[u]))}});try{if(!this.course||this.course.courseKey!==newObj.ck){const e=this.reStore.courses.ck;this.course=JSON.parse(JSON.stringify(this.reStore.courses[e]))}}catch(e){console.log(e)}},methods:{assignmentCB(e){console.log("CE assignmentCB ",e),this.reStore.courses.selectedRHSTab="statusTab"},dummy(){console.log("dummy")}}}),V={class:"q-pa-md"},j={class:"text-weight-bolder text-center text-h4 q-pa-md"},J={class:"flex flex-row justify-center"},O={key:0,class:"flex flex-row justify-center"},P={class:"justify-between"},T={class:"on-right"},F={class:"float-right"};function R(e,s,u,y,k,x){return o(),c(f,{class:"q-gutter-md bg-primary"},{default:r(()=>[t("div",V,[n(v,{class:"bg-positive text-white"},{default:r(()=>[t("div",j,i(this.reStore.courses[this.reStore.courses.ck].title),1)]),_:1})]),n(m,{flat:"",class:"q-pa-sm"},{default:r(()=>[t("div",J,[this.reStore.courses.ck?(o(),c(w,{key:0},{default:r(()=>[this.course?(o(),p("div",O,[(o(!0),p(b,null,B(this.course.assignments,(a,l)=>(o(),c(m,{class:"ccard bg-primary q-pa-xs q-ma-sm",flat:"",bordered:"",modelValue:this.course.assignments,"onUpdate:modelValue":s[0]||(s[0]=d=>this.course.assignments=d),key:l},{default:r(()=>[t("span",P,"p "+i(l),1),_(),t("span",T,i(a.title.slice(0,10)),1),_(),t("span",F,i(a.pages.length)+" pgs",1),n(E,{fit:"cover",height:"230px",width:"100%",src:a.coverUrl,onClick:d=>this.assignmentCB(l)},null,8,["src","onClick"])]),_:2},1032,["modelValue"]))),128))])):h("",!0)]),_:1})):h("",!0)])]),_:1})]),_:1})}var U=S(q,[["render",R]]);const D=C({name:"CourseEditorPage",components:{CourseEditor:U},setup(e){const s=g();return{props:e,reStore:s}}});function G(e,s,u,y,k,x){const a=N("CourseEditor");return o(),c(f,{id:"QPage",class:"row justify-center"},{default:r(()=>[n(a)]),_:1})}var ee=S(D,[["render",G]]);export{ee as default};
