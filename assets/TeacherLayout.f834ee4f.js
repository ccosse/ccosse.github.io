import{g as We,h as _,i as h,j as yt,z as pt,d as G,r as m,D as F,_ as X,o as S,au as U,a as s,w as d,p as xe,Q as x,e as n,af as N,ag as y,aK as At,c as q,x as D,av as J,aL as ge,aJ as fe,al as Nt,am as ve,G as dt,P as ct,s as ze,f as O}from"./index.3514c2c5.js";import{Q as Ee}from"./QTooltip.9c2b3f8a.js";import{Q as je,a as Et,b as Wt,c as De,d as jt,e as mt,f as ht,g as Kt,h as Jt}from"./QLayout.25363766.js";import{u as Z,s as Gt,a as vt,p as le,t as Xt,c as ft,f as Zt,g as ea,j as Ae,_ as ta,d as gt}from"./re-store.dc7846ac.js";import{a as T,Q as P,i as Ct,C as Ve,h as kt,u as aa,b as oa,c as la}from"./ClosePopup.9845a6dd.js";import{a as na,u as sa,b as ra,D as ia,P as ua}from"./DocumentationComponent.1cccfaec.js";import{Q as da}from"./QInput.481f88b5.js";import{Q as _e}from"./QExpansionItem.a14577f0.js";import{d as St,f as bt}from"./use-dark.c66bf10b.js";import{Q as Ke}from"./QImg.30bdfe59.js";import"./position-engine.f8d7b8d6.js";import"./selection.3558de9c.js";import"./use-portal.b7590e5f.js";import"./firebase.ea708b63.js";import"./use-key-composition.d2f87e93.js";import"./QSlideTransition.4eb4ff94.js";import"./QCheckbox.60b828d9.js";var ye=We({name:"QList",props:{...St,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:o}){const k=pt(),V=bt(t,k.proxy.$q),w=_(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(V.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>h(t.tag,{class:w.value},yt(o.default))}});const ca=G({name:"SearchComponent",setup(){const t=Z(),o=m("");return{reStore:t,searchTerms:o,searchSize:m(t.preferences.resLimit),searchResults:m([]),promptSearchSize:m(!1)}},mounted(){F(this.reStore.preferences,async(t,o)=>{console.log("watcher ",t,o),this.searchSize=t.resLimit})},methods:{updateSearchSize(){},update(){this.searchTerms=this.searchTerms},remove(t){this.searchResults.splice(t,1)},load(t){console.log(t),console.log(this.searchResults[t]);const o=this.reStore.langVoices[this.reStore.preferences.langVoice];console.log("calling loadPageId ",this.searchResults[t].pageid,o),this.reStore.loadPageId(this.searchResults[t].pageid,o)},async doSearch(){const t=this.reStore.langVoices[this.reStore.preferences.langVoice];this.reStore.wiki.setLang(t.langName);const o=await this.reStore.wiki.search(this.searchTerms,{suggestion:!1,limit:this.searchSize});console.log("res.results.length: ",o.results.length),this.searchResults=o.results},clearSearchResults(){for(;this.searchResults.length;)this.searchResults.pop()}}}),ma=n("div",{class:"text-h6"},"Search Results Size",-1),ha={class:"q-gutter-y-sm column"},va={key:0},fa={class:"row cardheader ptr justify-between"},ga=["onClick"],_a={class:"history-remove"};function ya(t,o,k,V,w,Q){return S(),U(J,null,[s(kt,{modelValue:t.promptSearchSize,"onUpdate:modelValue":o[2]||(o[2]=i=>t.promptSearchSize=i),persistent:""},{default:d(()=>[s(T,{style:{"min-width":"350px"}},{default:d(()=>[s(P,{align:"center"},{default:d(()=>[ma]),_:1}),s(P,{class:"q-pt-none",align:"center"},{default:d(()=>[s(na,{"show-value":"",size:"140px",thickness:.5,color:"green","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:t.searchSize,"onUpdate:modelValue":o[0]||(o[0]=i=>t.searchSize=i)},null,8,["modelValue"])]),_:1}),s(Ct,{align:"center",class:"text-primary"},{default:d(()=>[xe(s(x,{flat:"",label:"Cancel"},null,512),[[Ve]]),xe(s(x,{flat:"",label:"Update results size",onClick:o[1]||(o[1]=i=>this.updateSearchSize())},null,512),[[Ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[s(ye,{padding:"",class:"rounded-borders"},{default:d(()=>[s(_e,{"header-style":{border:"1px solid gray"},label:"Search & Results"},{default:d(()=>[n("div",ha,[s(je,{class:"bg-primary text-white rounded-borders q-my-md"},{default:d(()=>[s(x,{dark:"",standout:"",onClick:o[3]||(o[3]=i=>t.promptSearchSize=!0)},{default:d(()=>[N(y(this.searchResults.length)+" ",1),s(Ee,null,{default:d(()=>[N("Change results limit ("+y(this.searchSize)+")",1)]),_:1})]),_:1}),s(da,{dark:"",dense:"",standout:"",modelValue:t.searchTerms,"onUpdate:modelValue":o[6]||(o[6]=i=>t.searchTerms=i),"input-class":"text-right",class:"q-ml-md",onKeyup:[o[7]||(o[7]=i=>this.update()),o[8]||(o[8]=At(i=>this.doSearch(),["enter"]))]},{append:d(()=>[t.searchTerms===""?(S(),q(D,{key:0,name:"search",onClick:o[4]||(o[4]=i=>this.doSearch())})):(S(),q(D,{key:1,name:"clear",class:"cursor-pointer",onClick:o[5]||(o[5]=i=>{this.searchTerms="",this.clearSearchResults()})}))]),_:1},8,["modelValue"])]),_:1})]),this.searchResults.length?(S(),U("div",va,[(S(!0),U(J,null,ge(this.searchResults,(i,f)=>(S(),q(T,{class:"q-ma-sm",flat:"",bordered:"",modelValue:this.searchResults,"onUpdate:modelValue":o[9]||(o[9]=C=>this.searchResults=C),key:f},{default:d(()=>[n("div",fa,[n("span",{class:"history-title col-grow",onClick:C=>this.load(f)},y(f)+". "+y(i.title.slice(0,25)),9,ga),n("span",_a,[s(D,{class:"primary",size:t.xl,color:t.primary,name:"close",onClick:C=>this.remove(f)},null,8,["size","color","onClick"])])])]),_:2},1032,["modelValue"]))),128))])):fe("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var pa=X(ca,[["render",ya]]);const Ca=G({name:"CurrentPage",props:{},setup(t){const o=Z();return{reStore:o,courseid:m("-"),pageTitle:m(o.page.pageTitle),lang:m(o.page.langVoice),imgIdx:m(0),imgs:m([]),imgTot:m(0),imgFit:m("-"),guideWords:m("-"),mapCoords:m("-"),pageid:m("-"),pctReplace:m(o.page.pctReplace),canonicalUrl:m(o.page.canonicalUrl),props:t}},mounted(){console.log(this.props),F(this.reStore.page,async(t,o)=>{console.log("CurrentPage watcher ",t,o),this.pageTitle=t.pageTitle,this.imgIdx=t.imgIdx,this.imgs=t.imgs,this.imgTot=t.imgs.length,this.imgFit=t.imgFit,this.guideWords=t.guideWords,this.mapCoords=t.mapCoords,this.pageid=t.pageid,this.lang=t.langVoice.longName,this.pctReplace=t.pctReplace,this.canonicalUrl=t.canonicalUrl})},methods:{speak(){console.log("CurrentPage.speak",this.reStore),this.reStore.speak()},cycleFitMode(){const t=["scale-down","cover"];let o=t.indexOf(this.imgFit);o+=1,o>t.length-1&&(o=0),this.imgFit=t[o],this.reStore.page.imgFit=this.imgFit,console.log("fit: ",this.imgFit)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgs.length-1?0:this.imgIdx+1,this.reStore.page.imgIdx=this.imgIdx},imgCB(t,o){console.log(t,o),this.reStore.page.imgIdx=t},loadURL(t){console.log("loadURL ",t),window.open(t,"_blank")},mapCB(){const t="https://maps.google.com/?ll="+this.mapCoords.split(",")[0]+","+this.mapCoords.split(",")[1];window.open(t,"_blank")},saveImage(t,o){console.log("saveImage: ",t,o),this.reStore.saveImage(o)},saveCurrentImage(){const t=this.imgs[this.imgIdx];console.log("saveCurrentImage: ",t),this.reStore.saveImage(t)},remove(t,o){console.log("remove: ",t,o),this.imgs.splice(t,1),this.reStore.page.imgs.splice(t,1)},toggleText(){Gt("#slideTextDiv").classed("hidden")?vt("#slideTextDiv").classed("hidden",!1):vt("#slideTextDiv").classed("hidden",!0)},addBookmark(){console.log("addBookmark"),this.reStore.saveBookmark()}}}),ka={class:"text-weight-bolder text-center q-pa-md"},Sa={style:{border:"1px solid gray","border-radius":"5px"}},ba={width:"100%"},$a=n("td",{style:{width:"50%","text-align":"center"}},null,-1),wa={style:{"text-align":"center"}},Da=n("tr",null,[n("td"),n("td",{style:{"text-align":"center"}},"Speak Text")],-1),xa={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},Va={width:"100%"},qa=n("td",null,"WP Page Id",-1),Ta={style:{width:"50%"}},Ma=n("td",null,"Language",-1),Ia={style:{width:"50%"}},Ba={class:"float-left"},Ra=n("td",null,"Current Image",-1),Ha={class:"float-left"},Fa={class:"float-right"},Qa=n("td",null,"Image Fit",-1),Ya={class:"align-left"},Oa=n("td",null,"Guide Words",-1),Pa={style:{width:"50%"}},Ua=n("td",null,"Percent Replace",-1),La={class:"float-left"},za=n("td",null,"Map Coords",-1),Aa={class:"float-left"},Na=n("td",null,"Toggle Text",-1),Ea={key:0},Wa={class:"row cardheader justify-between"},ja={class:"history-remove"},Ka={class:"history-remove ptr"};function Ja(t,o,k,V,w,Q){return S(),U(J,null,[s(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[n("div",ka,y(this.pageTitle),1),n("div",Sa,[n("table",ba,[n("tr",null,[$a,n("td",wa,[s(x,{round:"",class:"q-pa-md",icon:"volume_up",color:"secondary",onClick:o[0]||(o[0]=i=>this.speak())})])]),Da])]),n("div",xa,[n("table",Va,[n("tr",null,[qa,n("td",Ta,[n("a",{class:"ptr float-left",onClick:o[1]||(o[1]=i=>this.loadURL(this.canonicalUrl))},y(this.pageid),1),s(D,{name:"bookmark",onClick:this.addBookmark,class:"float-right"},null,8,["onClick"])])]),n("tr",null,[Ma,n("td",Ia,[n("span",Ba,y(this.lang),1),s(D,{class:"float-right",name:"translate"})])]),n("tr",null,[Ra,n("td",{style:{width:"50%"},onClick:o[2]||(o[2]=(...i)=>this.nextImg&&this.nextImg(...i)),class:"ptr"},[n("span",Ha,y(this.imgIdx)+" / "+y(this.imgTot),1),n("span",Fa,[s(D,{name:"bookmark",onClick:this.saveCurrentImage},null,8,["onClick"])])])]),n("tr",{class:"ptr",onClick:o[3]||(o[3]=(...i)=>this.cycleFitMode&&this.cycleFitMode(...i))},[Qa,n("td",null,[n("span",Ya,y(this.imgFit),1),s(D,{class:"float-right",name:"fit_screen"})])]),n("tr",null,[Oa,n("td",Pa,[N(y(this.guideWords.replaceAll(",",", "))+" ",1),s(D,{class:"float-right",name:"tune"})])]),n("tr",null,[Ua,n("td",null,[n("span",La,y(this.pctReplace)+" %",1),s(D,{class:"float-right",name:"tune"})])]),n("tr",null,[za,n("td",{onClick:o[4]||(o[4]=(...i)=>this.mapCB&&this.mapCB(...i)),class:"ptr"},[n("span",Aa,y(this.mapCoords),1),s(D,{class:"float-right",name:"place"})])]),n("tr",null,[Na,n("td",{onClick:o[5]||(o[5]=(...i)=>this.toggleText&&this.toggleText(...i)),class:"ptr"},[s(D,{class:"float-right",name:"article"})])])])])]),_:1})]),_:1}),s(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[s(ye,{padding:"",class:"rounded-borders"},{default:d(()=>[s(_e,{"header-style":{border:"1px solid gray"},label:"Page Images"},{default:d(()=>[this.imgs.length?(S(),U("div",Ea,[(S(!0),U(J,null,ge(this.imgs,(i,f)=>(S(),q(T,{bordered:"",class:"q-ma-sm",flat:"",modelValue:this.imgs,"onUpdate:modelValue":o[6]||(o[6]=C=>this.imgs=C),key:f},{default:d(()=>[n("div",Wa,[n("span",ja,[s(D,{name:"bookmark",onClick:C=>this.saveImage(f,i)},null,8,["onClick"]),s(D,{name:"article",onClick:this.toggleText},null,8,["onClick"]),s(D,{name:"fit_screen",onClick:this.cycleFitMode},null,8,["onClick"])]),n("span",null,y(i.cap.slice(0,25)),1),n("span",Ka,[s(D,{name:"close",onClick:C=>this.remove(f,i)},null,8,["onClick"])])]),s(Ke,{class:"cardimage",onClick:C=>this.imgCB(f,i),src:i.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])):fe("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var Ga=X(Ca,[["render",Ja]]);const Xa=G({name:"ImagesComponent",setup(){return{reStore:Z()}},mounted(){F(this.reStore.userSnapshot.images,async(t,o)=>{console.log("watcher ",t,o)})},methods:{imgCB(t,o){this.reStore.router.push("/teacher/editor"),console.log(t,o);const k={url:o.url,cap:o.desc};this.reStore.page.imgs.push(k),this.reStore.page.imgIdx=this.reStore.page.imgs.length-1},remove(t,o){console.log(t,o),this.reStore.removeImage(t)}}}),Za={class:"row cardheader justify-between"},eo={class:"history-remove hidden"},to={class:"history-remove ptr"};function ao(t,o,k,V,w,Q){return S(),q(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[s(ye,{padding:"",class:"rounded-borders"},{default:d(()=>[this.reStore.userSnapshot.images?(S(),q(_e,{key:0,"header-style":{border:"1px solid gray"},label:"My Images"},{default:d(()=>[n("div",null,[(S(!0),U(J,null,ge(this.reStore.userSnapshot.images,(i,f)=>(S(),q(T,{bordered:"",class:"q-ma-md",flat:"",modelValue:this.reStore.userSnapshot.images,"onUpdate:modelValue":o[0]||(o[0]=C=>this.reStore.userSnapshot.images=C),key:f},{default:d(()=>[n("div",Za,[n("span",eo,[s(D)]),N(" "+y(i.desc.slice(0,25))+" ",1),n("span",to,[s(D,{name:"close",onClick:C=>this.remove(f,i)},null,8,["onClick"])])]),s(Ke,{class:"cardimage",onClick:C=>this.imgCB(f,i),src:i.url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})):fe("",!0)]),_:1})]),_:1})]),_:1})}var oo=X(Xa,[["render",ao]]);const lo=G({name:"BookmarksComponent",setup(){return{reStore:Z()}},mounted(){F(this.reStore.userSnapshot.bookmarks,async(t,o)=>{console.log("watcher ",t,o)})},methods:{imgCB(t,o){this.reStore.page.imgs=JSON.parse(JSON.stringify(o.imgs)),this.reStore.router.push("/teacher/editor")},remove(t,o){console.log(t,o),this.reStore.removeBookmark(t)}}}),no={class:"row cardheader justify-between"},so={class:"history-remove hidden"},ro={class:"history-remove ptr"};function io(t,o,k,V,w,Q){return S(),q(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[s(ye,{padding:"",class:"rounded-borders"},{default:d(()=>[s(_e,{"header-style":{border:"1px solid gray"},label:"My bookmarks"},{default:d(()=>[n("div",null,[(S(!0),U(J,null,ge(this.reStore.userSnapshot.bookmarks,(i,f)=>(S(),q(T,{class:"q-ma-md",flat:"",bordered:"",modelValue:this.reStore.userSnapshot.bookmarks,"onUpdate:modelValue":o[0]||(o[0]=C=>this.reStore.userSnapshot.bookmarks=C),key:f},{default:d(()=>[n("div",no,[n("span",so,[s(D)]),N(" "+y(i.pageTitle.slice(0,25))+" ",1),n("span",ro,[s(D,{name:"close",onClick:C=>this.remove(f,i)},null,8,["onClick"])])]),s(Ke,{class:"cardimage",onClick:C=>this.imgCB(f,i),src:i.imgs[0].url},null,8,["onClick","src"])]),_:2},1032,["modelValue"]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})}var uo=X(lo,[["render",io]]);const co=["gregorian","persian"],mo={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:t=>co.includes(t),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},ho=["update:modelValue"];function j(t){return t.year+"/"+le(t.month)+"/"+le(t.day)}function vo(t,o){const k=_(()=>t.disable!==!0&&t.readonly!==!0),V=_(()=>t.editable===!0?0:-1),w=_(()=>{const f=[];return t.color!==void 0&&f.push(`bg-${t.color}`),t.textColor!==void 0&&f.push(`text-${t.textColor}`),f.join(" ")});function Q(){return t.locale!==void 0?{...o.lang.date,...t.locale}:o.lang.date}function i(f){const C=new Date,L=f===!0?null:0;if(t.calendar==="persian"){const E=Xt(C);return{year:E.jy,month:E.jm,day:E.jd}}return{year:C.getFullYear(),month:C.getMonth()+1,day:C.getDate(),hour:L,minute:L,second:L,millisecond:L}}return{editable:k,tabindex:V,headerClass:w,getLocale:Q,getCurrentDate:i}}const oe=20,fo=["Calendar","Years","Months"],_t=t=>fo.includes(t),Ne=t=>/^-?[\d]+\/[0-1]\d$/.test(t),de=" \u2014 ";function K(t){return t.year+"/"+le(t.month)}var go=We({name:"QDate",props:{...mo,...aa,...St,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ne},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ne},navigationMaxYearMonth:{type:String,validator:Ne},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:_t}},emits:[...ho,"rangeStart","rangeEnd","navigation"],setup(t,{slots:o,emit:k}){const{proxy:V}=pt(),{$q:w}=V,Q=bt(t,w),{getCache:i}=sa(),{tabindex:f,headerClass:C,getLocale:L,getCurrentDate:E}=vo(t,w);let ne;const qe=oa(t),Te=la(qe),ce=m(null),z=m(ot()),$=m(L()),ee=_(()=>ot()),$t=_(()=>L()),A=_(()=>E()),v=m(lt(z.value,$.value)),R=m(t.defaultView),Je=w.lang.rtl===!0?"right":"left",pe=m(Je.value),Me=m(Je.value),Ie=v.value.year,Ce=m(Ie-Ie%oe-(Ie<0?oe:0)),M=m(null),wt=_(()=>{const e=t.landscape===!0?"landscape":"portrait";return`q-date q-date--${e} q-date--${e}-${t.minimal===!0?"minimal":"standard"}`+(Q.value===!0?" q-date--dark q-dark":"")+(t.bordered===!0?" q-date--bordered":"")+(t.square===!0?" q-date--square no-border-radius":"")+(t.flat===!0?" q-date--flat no-shadow":"")+(t.disable===!0?" disabled":t.readonly===!0?" q-date--readonly":"")}),te=_(()=>t.color||"primary"),se=_(()=>t.textColor||"white"),ke=_(()=>t.emitImmediately===!0&&t.multiple!==!0&&t.range!==!0),Be=_(()=>Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue!==null&&t.modelValue!==void 0?[t.modelValue]:[]),Y=_(()=>Be.value.filter(e=>typeof e=="string").map(e=>Qe(e,z.value,$.value)).filter(e=>e.dateHash!==null&&e.day!==null&&e.month!==null&&e.year!==null)),re=_(()=>{const e=a=>Qe(a,z.value,$.value);return Be.value.filter(a=>Nt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:e(a.from),to:e(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),Se=_(()=>t.calendar!=="persian"?e=>new Date(e.year,e.month-1,e.day):e=>{const a=ft(e.year,e.month,e.day);return new Date(a.gy,a.gm-1,a.gd)}),Re=_(()=>t.calendar==="persian"?j:(e,a,l)=>Zt(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),a===void 0?z.value:a,l===void 0?$.value:l,e.year,e.timezoneOffset)),me=_(()=>Y.value.length+re.value.reduce((e,a)=>e+1+ea(Se.value(a.to),Se.value(a.from)),0)),Ge=_(()=>{if(t.title!==void 0&&t.title!==null&&t.title.length>0)return t.title;if(M.value!==null){const l=M.value.init,u=Se.value(l);return $.value.daysShort[u.getDay()]+", "+$.value.monthsShort[l.month-1]+" "+l.day+de+"?"}if(me.value===0)return de;if(me.value>1)return`${me.value} ${$.value.pluralDay}`;const e=Y.value[0],a=Se.value(e);return isNaN(a.valueOf())===!0?de:$.value.headerTitle!==void 0?$.value.headerTitle(a,e):$.value.daysShort[a.getDay()]+", "+$.value.monthsShort[e.month-1]+" "+e.day}),Dt=_(()=>Y.value.concat(re.value.map(a=>a.from)).sort((a,l)=>a.year-l.year||a.month-l.month)[0]),xt=_(()=>Y.value.concat(re.value.map(a=>a.to)).sort((a,l)=>l.year-a.year||l.month-a.month)[0]),Xe=_(()=>{if(t.subtitle!==void 0&&t.subtitle!==null&&t.subtitle.length>0)return t.subtitle;if(me.value===0)return de;if(me.value>1){const e=Dt.value,a=xt.value,l=$.value.monthsShort;return l[e.month-1]+(e.year!==a.year?" "+e.year+de+l[a.month-1]+" ":e.month!==a.month?de+l[a.month-1]:"")+" "+a.year}return Y.value[0].year}),be=_(()=>{const e=[w.iconSet.datetime.arrowLeft,w.iconSet.datetime.arrowRight];return w.lang.rtl===!0?e.reverse():e}),Ze=_(()=>t.firstDayOfWeek!==void 0?Number(t.firstDayOfWeek):$.value.firstDayOfWeek),Vt=_(()=>{const e=$.value.daysShort,a=Ze.value;return a>0?e.slice(a,7).concat(e.slice(0,a)):e}),W=_(()=>{const e=v.value;return t.calendar!=="persian"?new Date(e.year,e.month,0).getDate():Ae(e.year,e.month)}),qt=_(()=>typeof t.eventColor=="function"?t.eventColor:()=>t.eventColor),I=_(()=>{if(t.navigationMinYearMonth===void 0)return null;const e=t.navigationMinYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),B=_(()=>{if(t.navigationMaxYearMonth===void 0)return null;const e=t.navigationMaxYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),He=_(()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return I.value!==null&&I.value.year>=v.value.year&&(e.year.prev=!1,I.value.year===v.value.year&&I.value.month>=v.value.month&&(e.month.prev=!1)),B.value!==null&&B.value.year<=v.value.year&&(e.year.next=!1,B.value.year===v.value.year&&B.value.month<=v.value.month&&(e.month.next=!1)),e}),$e=_(()=>{const e={};return Y.value.forEach(a=>{const l=K(a);e[l]===void 0&&(e[l]=[]),e[l].push(a.day)}),e}),et=_(()=>{const e={};return re.value.forEach(a=>{const l=K(a.from),u=K(a.to);if(e[l]===void 0&&(e[l]=[]),e[l].push({from:a.from.day,to:l===u?a.to.day:void 0,range:a}),l<u){let r;const{year:p,month:c}=a.from,g=c<12?{year:p,month:c+1}:{year:p+1,month:1};for(;(r=K(g))<=u;)e[r]===void 0&&(e[r]=[]),e[r].push({from:void 0,to:r===u?a.to.day:void 0,range:a}),g.month++,g.month>12&&(g.year++,g.month=1)}}),e}),he=_(()=>{if(M.value===null)return;const{init:e,initHash:a,final:l,finalHash:u}=M.value,[r,p]=a<=u?[e,l]:[l,e],c=K(r),g=K(p);if(c!==H.value&&g!==H.value)return;const b={};return c===H.value?(b.from=r.day,b.includeFrom=!0):b.from=1,g===H.value?(b.to=p.day,b.includeTo=!0):b.to=W.value,b}),H=_(()=>K(v.value)),Tt=_(()=>{const e={};if(t.options===void 0){for(let l=1;l<=W.value;l++)e[l]=!0;return e}const a=typeof t.options=="function"?t.options:l=>t.options.includes(l);for(let l=1;l<=W.value;l++){const u=H.value+"/"+le(l);e[l]=a(u)}return e}),Mt=_(()=>{const e={};if(t.events===void 0)for(let a=1;a<=W.value;a++)e[a]=!1;else{const a=typeof t.events=="function"?t.events:l=>t.events.includes(l);for(let l=1;l<=W.value;l++){const u=H.value+"/"+le(l);e[l]=a(u)===!0&&qt.value(u)}}return e}),It=_(()=>{let e,a;const{year:l,month:u}=v.value;if(t.calendar!=="persian")e=new Date(l,u-1,1),a=new Date(l,u-1,0).getDate();else{const r=ft(l,u,1);e=new Date(r.gy,r.gm-1,r.gd);let p=u-1,c=l;p===0&&(p=12,c--),a=Ae(c,p)}return{days:e.getDay()-Ze.value-1,endDay:a}}),tt=_(()=>{const e=[],{days:a,endDay:l}=It.value,u=a<0?a+7:a;if(u<6)for(let c=l-u;c<=l;c++)e.push({i:c,fill:!0});const r=e.length;for(let c=1;c<=W.value;c++){const g={i:c,event:Mt.value[c],classes:[]};Tt.value[c]===!0&&(g.in=!0,g.flat=!0),e.push(g)}if($e.value[H.value]!==void 0&&$e.value[H.value].forEach(c=>{const g=r+c-1;Object.assign(e[g],{selected:!0,unelevated:!0,flat:!1,color:te.value,textColor:se.value})}),et.value[H.value]!==void 0&&et.value[H.value].forEach(c=>{if(c.from!==void 0){const g=r+c.from-1,b=r+(c.to||W.value)-1;for(let Le=g;Le<=b;Le++)Object.assign(e[Le],{range:c.range,unelevated:!0,color:te.value,textColor:se.value});Object.assign(e[g],{rangeFrom:!0,flat:!1}),c.to!==void 0&&Object.assign(e[b],{rangeTo:!0,flat:!1})}else if(c.to!==void 0){const g=r+c.to-1;for(let b=r;b<=g;b++)Object.assign(e[b],{range:c.range,unelevated:!0,color:te.value,textColor:se.value});Object.assign(e[g],{flat:!1,rangeTo:!0})}else{const g=r+W.value-1;for(let b=r;b<=g;b++)Object.assign(e[b],{range:c.range,unelevated:!0,color:te.value,textColor:se.value})}}),he.value!==void 0){const c=r+he.value.from-1,g=r+he.value.to-1;for(let b=c;b<=g;b++)e[b].color=te.value,e[b].editRange=!0;he.value.includeFrom===!0&&(e[c].editRangeFrom=!0),he.value.includeTo===!0&&(e[g].editRangeTo=!0)}v.value.year===A.value.year&&v.value.month===A.value.month&&(e[r+A.value.day-1].today=!0);const p=e.length%7;if(p>0){const c=7-p;for(let g=1;g<=c;g++)e.push({i:g,fill:!0})}return e.forEach(c=>{let g="q-date__calendar-item ";c.fill===!0?g+="q-date__calendar-item--fill":(g+=`q-date__calendar-item--${c.in===!0?"in":"out"}`,c.range!==void 0&&(g+=` q-date__range${c.rangeTo===!0?"-to":c.rangeFrom===!0?"-from":""}`),c.editRange===!0&&(g+=` q-date__edit-range${c.editRangeFrom===!0?"-from":""}${c.editRangeTo===!0?"-to":""}`),(c.range!==void 0||c.editRange===!0)&&(g+=` text-${c.color}`)),c.classes=g}),e}),Bt=_(()=>t.disable===!0?{"aria-disabled":"true"}:t.readonly===!0?{"aria-readonly":"true"}:{});F(()=>t.modelValue,e=>{if(ne===e)ne=0;else{const{year:a,month:l}=lt(z.value,$.value);ie(a,l)}}),F(R,()=>{ce.value!==null&&V.$el.contains(document.activeElement)===!0&&ce.value.focus()}),F(()=>v.value.year,e=>{k("navigation",{year:e,month:v.value.month})}),F(()=>v.value.month,e=>{k("navigation",{year:v.value.year,month:e})}),F(ee,e=>{ut(e,$.value,"mask"),z.value=e}),F($t,e=>{ut(z.value,e,"locale"),$.value=e});function at(){const e=A.value,a=$e.value[K(e)];(a===void 0||a.includes(e.day)===!1)&&Oe(e),Fe(e.year,e.month)}function Rt(e){_t(e)===!0&&(R.value=e)}function Ht(e,a){["month","year"].includes(e)&&(e==="month"?st:Ye)(a===!0?-1:1)}function Fe(e,a){R.value="Calendar",ie(e,a)}function Ft(e,a){if(t.range===!1||!e){M.value=null;return}const l=Object.assign({...v.value},e),u=a!==void 0?Object.assign({...v.value},a):l;M.value={init:l,initHash:j(l),final:u,finalHash:j(u)},Fe(l.year,l.month)}function ot(){return t.calendar==="persian"?"YYYY/MM/DD":t.mask}function Qe(e,a,l){return ta(e,a,l,t.calendar,{hour:0,minute:0,second:0,millisecond:0})}function lt(e,a){const l=Array.isArray(t.modelValue)===!0?t.modelValue:t.modelValue?[t.modelValue]:[];if(l.length===0)return nt();const u=l[l.length-1],r=Qe(u.from!==void 0?u.from:u,e,a);return r.dateHash===null?nt():r}function nt(){let e,a;if(t.defaultYearMonth!==void 0){const l=t.defaultYearMonth.split("/");e=parseInt(l[0],10),a=parseInt(l[1],10)}else{const l=A.value!==void 0?A.value:E();e=l.year,a=l.month}return{year:e,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:e+"/"+le(a)+"/01"}}function st(e){let a=v.value.year,l=Number(v.value.month)+e;l===13?(l=1,a++):l===0&&(l=12,a--),ie(a,l),ke.value===!0&&we("month")}function Ye(e){const a=Number(v.value.year)+e;ie(a,v.value.month),ke.value===!0&&we("year")}function Qt(e){ie(e,v.value.month),R.value=t.defaultView==="Years"?"Months":"Calendar",ke.value===!0&&we("year")}function Yt(e){ie(v.value.year,e),R.value="Calendar",ke.value===!0&&we("month")}function Ot(e,a){const l=$e.value[a];(l!==void 0&&l.includes(e.day)===!0?Pe:Oe)(e)}function ae(e){return{year:e.year,month:e.month,day:e.day}}function ie(e,a){I.value!==null&&e<=I.value.year&&(e=I.value.year,a<I.value.month&&(a=I.value.month)),B.value!==null&&e>=B.value.year&&(e=B.value.year,a>B.value.month&&(a=B.value.month));const l=e+"/"+le(a)+"/01";l!==v.value.dateHash&&(pe.value=v.value.dateHash<l==(w.lang.rtl!==!0)?"left":"right",e!==v.value.year&&(Me.value=pe.value),dt(()=>{Ce.value=e-e%oe-(e<0?oe:0),Object.assign(v.value,{year:e,month:a,day:1,dateHash:l})}))}function rt(e,a,l){const u=e!==null&&e.length===1&&t.multiple===!1?e[0]:e;ne=u;const{reason:r,details:p}=it(a,l);k("update:modelValue",u,r,p)}function we(e){const a=Y.value[0]!==void 0&&Y.value[0].dateHash!==null?{...Y.value[0]}:{...v.value};dt(()=>{a.year=v.value.year,a.month=v.value.month;const l=t.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Ae(a.year,a.month);a.day=Math.min(Math.max(1,a.day),l);const u=ue(a);ne=u;const{details:r}=it("",a);k("update:modelValue",u,e,r)})}function it(e,a){return a.from!==void 0?{reason:`${e}-range`,details:{...ae(a.target),from:ae(a.from),to:ae(a.to)}}:{reason:`${e}-day`,details:ae(a)}}function ue(e,a,l){return e.from!==void 0?{from:Re.value(e.from,a,l),to:Re.value(e.to,a,l)}:Re.value(e,a,l)}function Oe(e){let a;if(t.multiple===!0)if(e.from!==void 0){const l=j(e.from),u=j(e.to),r=Y.value.filter(c=>c.dateHash<l||c.dateHash>u),p=re.value.filter(({from:c,to:g})=>g.dateHash<l||c.dateHash>u);a=r.concat(p).concat(e).map(c=>ue(c))}else{const l=Be.value.slice();l.push(ue(e)),a=l}else a=ue(e);rt(a,"add",e)}function Pe(e){if(t.noUnset===!0)return;let a=null;if(t.multiple===!0&&Array.isArray(t.modelValue)===!0){const l=ue(e);e.from!==void 0?a=t.modelValue.filter(u=>u.from!==void 0?u.from!==l.from&&u.to!==l.to:!0):a=t.modelValue.filter(u=>u!==l),a.length===0&&(a=null)}rt(a,"remove",e)}function ut(e,a,l){const u=Y.value.concat(re.value).map(r=>ue(r,e,a)).filter(r=>r.from!==void 0?r.from.dateHash!==null&&r.to.dateHash!==null:r.dateHash!==null);k("update:modelValue",(t.multiple===!0?u:u[0])||null,l)}function Pt(){if(t.minimal!==!0)return h("div",{class:"q-date__header "+C.value},[h("div",{class:"relative-position"},[h(ve,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+Xe.value,class:"q-date__header-subtitle q-date__header-link "+(R.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...i("vY",{onClick(){R.value="Years"},onKeyup(e){e.keyCode===13&&(R.value="Years")}})},[Xe.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(ve,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+Ge.value,class:"q-date__header-title-label q-date__header-link "+(R.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...i("vC",{onClick(){R.value="Calendar"},onKeyup(e){e.keyCode===13&&(R.value="Calendar")}})},[Ge.value]))]),t.todayBtn===!0?h(x,{class:"q-date__header-today self-start",icon:w.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:f.value,onClick:at}):null])])}function Ue({label:e,type:a,key:l,dir:u,goTo:r,boundaries:p,cls:c}){return[h("div",{class:"row items-center q-date__arrow"},[h(x,{round:!0,dense:!0,size:"sm",flat:!0,icon:be.value[0],tabindex:f.value,disable:p.prev===!1,...i("go-#"+a,{onClick(){r(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+c},[h(ve,{name:"q-transition--jump-"+u},()=>h("div",{key:l},[h(x,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:f.value,...i("view#"+a,{onClick:()=>{R.value=a}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(x,{round:!0,dense:!0,size:"sm",flat:!0,icon:be.value[1],tabindex:f.value,disable:p.next===!1,...i("go+#"+a,{onClick(){r(1)}})})])]}const Ut={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},Ue({label:$.value.months[v.value.month-1],type:"Months",key:v.value.month,dir:pe.value,goTo:st,boundaries:He.value.month,cls:" col"}).concat(Ue({label:v.value.year,type:"Years",key:v.value.year,dir:Me.value,goTo:Ye,boundaries:He.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Vt.value.map(e=>h("div",{class:"q-date__calendar-item"},[h("div",e)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(ve,{name:"q-transition--slide-"+pe.value},()=>h("div",{key:H.value,class:"q-date__calendar-days fit"},tt.value.map(e=>h("div",{class:e.classes},[e.in===!0?h(x,{class:e.today===!0?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:f.value,...i("day#"+e.i,{onClick:()=>{Lt(e.i)},onMouseover:()=>{zt(e.i)}})},e.event!==!1?()=>h("div",{class:"q-date__event bg-"+e.event}):null):h("div",""+e.i)]))))])])],Months(){const e=v.value.year===A.value.year,a=u=>I.value!==null&&v.value.year===I.value.year&&I.value.month>u||B.value!==null&&v.value.year===B.value.year&&B.value.month<u,l=$.value.monthsShort.map((u,r)=>{const p=v.value.month===r+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(x,{class:e===!0&&A.value.month===r+1?"q-date__today":null,flat:p!==!0,label:u,unelevated:p,color:p===!0?te.value:null,textColor:p===!0?se.value:null,tabindex:f.value,disable:a(r+1),...i("month#"+r,{onClick:()=>{Yt(r+1)}})})])});return t.yearsInMonthView===!0&&l.unshift(h("div",{class:"row no-wrap full-width"},[Ue({label:v.value.year,type:"Years",key:v.value.year,dir:Me.value,goTo:Ye,boundaries:He.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},l)},Years(){const e=Ce.value,a=e+oe,l=[],u=r=>I.value!==null&&I.value.year>r||B.value!==null&&B.value.year<r;for(let r=e;r<=a;r++){const p=v.value.year===r;l.push(h("div",{class:"q-date__years-item flex flex-center"},[h(x,{key:"yr"+r,class:A.value.year===r?"q-date__today":null,flat:!p,label:r,dense:!0,unelevated:p,color:p===!0?te.value:null,textColor:p===!0?se.value:null,tabindex:f.value,disable:u(r),...i("yr#"+r,{onClick:()=>{Qt(r)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(x,{round:!0,dense:!0,flat:!0,icon:be.value[0],tabindex:f.value,disable:u(e),...i("y-",{onClick:()=>{Ce.value-=oe}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},l),h("div",{class:"col-auto"},[h(x,{round:!0,dense:!0,flat:!0,icon:be.value[1],tabindex:f.value,disable:u(a),...i("y+",{onClick:()=>{Ce.value+=oe}})})])])}};function Lt(e){const a={...v.value,day:e};if(t.range===!1){Ot(a,H.value);return}if(M.value===null){const l=tt.value.find(r=>r.fill!==!0&&r.i===e);if(t.noUnset!==!0&&l.range!==void 0){Pe({target:a,from:l.range.from,to:l.range.to});return}if(l.selected===!0){Pe(a);return}const u=j(a);M.value={init:a,initHash:u,final:a,finalHash:u},k("rangeStart",ae(a))}else{const l=M.value.initHash,u=j(a),r=l<=u?{from:M.value.init,to:a}:{from:a,to:M.value.init};M.value=null,Oe(l===u?a:{target:a,...r}),k("rangeEnd",{from:ae(r.from),to:ae(r.to)})}}function zt(e){if(M.value!==null){const a={...v.value,day:e};Object.assign(M.value,{final:a,finalHash:j(a)})}}return Object.assign(V,{setToday:at,setView:Rt,offsetCalendar:Ht,setCalendarTo:Fe,setEditingRange:Ft}),()=>{const e=[h("div",{class:"q-date__content col relative-position"},[h(ve,{name:"q-transition--fade"},Ut[R.value])])],a=yt(o.default);return a!==void 0&&e.push(h("div",{class:"q-date__actions"},a)),t.name!==void 0&&t.disable!==!0&&Te(e,"push"),h("div",{class:wt.value,...Bt.value},[Pt(),h("div",{ref:ce,class:"q-date__main col column",tabindex:-1},e)])}}});const _o=h("div",{class:"q-space"});var yo=We({name:"QSpace",setup(){return()=>_o}});const po=G({name:"OTDComponent",setup(){const t=Z(),o=Date.now(),k=gt.formatDate(o,"MM/DD");return{reStore:t,otditems:m([]),promptOTDDate:m(!1),otddate:m(Date.now()),otdlabel:m(k),otdtype:m("selected")}},mounted(){this.init()},methods:{async init(){const t=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=t[this.otdtype],console.log(this.otditems)},async load(t){console.log("load",this.otditems[t].text),console.log("load",this.otditems[t]);const o=this.reStore.langVoices[this.reStore.preferences.langVoice];this.reStore.loadPageId(this.otditems[t].pages[0].pageid,o),this.reStore.router.push("/teacher/editor")},async updateOTDDate(){console.log("updateOTDDate: ",this.otddate);const t=await this.reStore.wiki.onThisDay({type:"selected",month:this.otddate.split("/")[1],day:this.otddate.split("/")[2]});this.otditems=t.selected,console.log(this.otditems),this.otdtype="selected",this.otdlabel=gt.formatDate(this.otddate,"MM/DD")},async otdOptionsCB(t){console.log("otdOptionsCB",this.otdtype);const o=await this.reStore.wiki.onThisDay({type:this.otdtype});this.otditems=o[this.otdtype]}}}),Co=n("div",{class:"text-h6"},"Select Date",-1),ko={class:"q-gutter-y-sm column"},So={class:""};function bo(t,o,k,V,w,Q){return S(),U(J,null,[s(kt,{modelValue:t.promptOTDDate,"onUpdate:modelValue":o[2]||(o[2]=i=>t.promptOTDDate=i),persistent:""},{default:d(()=>[s(T,{style:{"min-width":"350px"}},{default:d(()=>[s(P,{align:"center"},{default:d(()=>[Co]),_:1}),s(go,{modelValue:t.otddate,"onUpdate:modelValue":o[0]||(o[0]=i=>t.otddate=i),minimal:""},null,8,["modelValue"]),s(Ct,{align:"center",class:"text-white"},{default:d(()=>[xe(s(x,{flat:"",label:"Cancel"},null,512),[[Ve]]),xe(s(x,{flat:"",label:"Update OTD date",onClick:o[1]||(o[1]=i=>this.updateOTDDate())},null,512),[[Ve]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[s(ye,{padding:"",class:"rounded-borders"},{default:d(()=>[s(_e,{"header-style":{border:"1px solid gray"},label:"On This Day"},{default:d(()=>[n("div",ko,[s(je,{class:"bg-primary text-white rounded-borders q-my-md"},{default:d(()=>[s(x,{dark:"",standout:"",onClick:o[3]||(o[3]=i=>t.promptOTDDate=!0)},{default:d(()=>[N(y(t.otdlabel),1)]),_:1}),s(yo),s(ra,{dark:"",outlined:"",dense:"",modelValue:this.otdtype,"onUpdate:modelValue":o[4]||(o[4]=i=>this.otdtype=i),options:["events","holidays","births","deaths","selected"],"emit-value":"",onPopupHide:o[5]||(o[5]=i=>this.otdOptionsCB())},null,8,["modelValue"])]),_:1})]),n("div",So,[(S(!0),U(J,null,ge(t.otditems,(i,f)=>(S(),q(T,{class:"bg-primary otdcard q-pa-sm q-ma-md",flat:"",bordered:"",modelValue:t.otditems,"onUpdate:modelValue":o[6]||(o[6]=C=>t.otditems=C),key:f,onClick:C=>this.load(f)},{default:d(()=>[N(y(f)+". "+y(i.year)+" "+y(i.text),1)]),_:2},1032,["modelValue","onClick"]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})],64)}var $o=X(po,[["render",bo]]);const wo=G({name:"CurrentAssignment",setup(){const t=Z();return{reStore:t,assignmentid:m("-"),courseid:m("-"),goal:m("-"),created:m("-"),id:m("-"),points:m("-"),pages:m([]),pgIdx:m(0),title:m(t.assignment.title)}},mounted(){console.log("mounted"),F(this.reStore.assignment,async(t,o)=>{console.log("watcher ",t,o),this.courseid=t.courseid,this.goal=t.goal,this.created=t.created,this.id=t.id,this.points=t.points,this.pages=t.pages,this.pgIdx=t.pgIdx,this.title=t.title})},methods:{dummy(){console.log("dummy")}}}),Do={class:"text-weight-bolder text-center q-pa-md"},xo={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},Vo={width:"100%"},qo=n("td",null,"Course Id",-1),To={style:{width:"50%"}},Mo=n("td",null,"Assignmnet Id",-1),Io={style:{width:"50%"}},Bo=n("td",null,"Created",-1),Ro={style:{width:"50%"}},Ho=n("td",null,"Goal",-1),Fo={style:{width:"50%"}},Qo=n("td",null,"Pages",-1),Yo={style:{width:"50%"}};function Oo(t,o,k,V,w,Q){return S(),q(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[n("div",Do,y(this.title),1),n("div",xo,[n("table",Vo,[n("tr",null,[qo,n("td",To,y(this.courseid),1)]),n("tr",null,[Mo,n("td",Io,y(this.id),1)]),n("tr",null,[Bo,n("td",Ro,y(this.created),1)]),n("tr",null,[Ho,n("td",Fo,y(this.goal),1)]),n("tr",null,[Qo,n("td",Yo,y(this.pgIdx)+" / "+y(this.pages.length),1)])])])]),_:1})]),_:1})}var Po=X(wo,[["render",Oo]]);const Uo=G({name:"CurrentCourse",setup(){const t=Z();return{reStore:t,title:m(t.course.title),id:m("-"),assignments:m([]),courseKey:m("-"),created:m("-"),enrollment:m([]),owner:m("")}},mounted(){console.log("mounted"),F(this.reStore.course,async(t,o)=>{console.log("CurrentCourse watcher ",t,o)})},methods:{dummy(){console.log("dummy")}}}),Lo={class:"text-weight-bolder text-center q-pa-md"},zo={style:{border:"1px solid gray","border-radius":"5px"},class:"q-my-md"},Ao={width:"100%"},No=n("td",null,"Course Id",-1),Eo={style:{width:"50%"}},Wo=n("td",null,"Owner",-1),jo={style:{width:"50%"}},Ko=n("td",null,"Assignments",-1),Jo={style:{width:"50%"}},Go=n("td",null,"Course-Key",-1),Xo={style:{width:"50%"}},Zo=n("td",null,"Created",-1),el={style:{width:"50%"}},tl=n("td",null,"Enrollment",-1),al={style:{width:"50%"}};function ol(t,o,k,V,w,Q){return S(),q(T,{flat:""},{default:d(()=>[s(P,null,{default:d(()=>[n("div",Lo,y(this.title),1),n("div",zo,[n("table",Ao,[n("tr",null,[No,n("td",Eo,y(this.courseid),1)]),n("tr",null,[Wo,n("td",jo,y(this.owner.slice(0,10)),1)]),n("tr",null,[Ko,n("td",Jo,y(this.assignments.length),1)]),n("tr",null,[Go,n("td",Xo,y(this.courseKey),1)]),n("tr",null,[Zo,n("td",el,y(this.created),1)]),n("tr",null,[tl,n("td",al,y(this.enrollment.length),1)])])])]),_:1})]),_:1})}var ll=X(Uo,[["render",ol]]);const nl=G({name:"TeacherLayout",components:{CurrentCourse:ll,CurrentAssignment:Po,DocumentationComponent:ia,SearchComponent:pa,PreferencesComponent:ua,CurrentPage:Ga,ImagesComponent:oo,BookmarksComponent:uo,OTDComponent:$o},setup(){const t=m(!1),o=m(!1),k=Z(),V=k.preferences;return{step:m(1),reStore:k,initialValues:m(V),leftDrawerOpen:t,rightDrawerOpen:o,toggleLeftDrawer(){t.value=!t.value},toggleRightDrawer(){o.value=!o.value}}},mounted(){ct.isActive||(ct.toggle(),ze("primary","#333"),ze("secondary",this.reStore.preferences.secondaryColor),ze("accent",this.reStore.preferences.accentColor))}}),sl={class:"dashboard-wrapper"};function rl(t,o,k,V,w,Q){const i=O("router-link"),f=O("router-view"),C=O("DocumentationComponent"),L=O("SearchComponent"),E=O("ImagesComponent"),ne=O("BookmarksComponent"),qe=O("OTDComponent"),Te=O("CurrentCourse"),ce=O("CurrentAssignment"),z=O("CurrentPage"),$=O("PreferencesComponent");return S(),q(Jt,{view:"hHh LpR fFf"},{default:d(()=>[s(jt,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:d(()=>[s(je,null,{default:d(()=>[s(x,{dense:"",flat:"",round:"",icon:"menu",onClick:t.toggleLeftDrawer},null,8,["onClick"]),s(Et,null,{default:d(()=>[s(i,{to:"/teacher"},{default:d(()=>[s(D,{name:"home",color:"white"},{default:d(()=>[s(Ee,null,{default:d(()=>[N("Return to My Teacher Page")]),_:1})]),_:1})]),_:1})]),_:1}),this.reStore.authenticated?(S(),q(x,{key:0,onClick:o[0]||(o[0]=ee=>this.reStore.router.push("/student")),icon:"switch_account"},{default:d(()=>[s(Ee,null,{default:d(()=>[N(" Switch between Teacher or Student role ")]),_:1})]),_:1})):fe("",!0),this.reStore.authenticated?(S(),q(x,{key:1,icon:"logout",onClick:o[1]||(o[1]=ee=>this.reStore.logout())})):fe("",!0),s(x,{dense:"",flat:"",round:"",icon:"menu",onClick:t.toggleRightDrawer},null,8,["onClick"])]),_:1}),s(Wt,{align:"left",class:"hidden"},{default:d(()=>[s(De,{to:"/logo",label:"Logo"}),s(De,{to:"/teaching",label:"Teaching"}),s(De,{to:"/taking",label:"Taking"}),s(De,{to:"/gradebook",label:"Gradebook"})]),_:1})]),_:1}),s(Kt,{class:"container-fluid"},{default:d(()=>[n("div",sl,[s(f)]),s(mt,{bordered:"","show-if-above":"",modelValue:t.leftDrawerOpen,"onUpdate:modelValue":o[2]||(o[2]=ee=>t.leftDrawerOpen=ee),side:"left"},{default:d(()=>[s(ht,{visible:t.visible,style:{height:"95vh","max-width":"350px"}},{default:d(()=>[s(C),s(L),s(E),s(ne),s(qe)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),s(mt,{bordered:"","show-if-above":"",modelValue:t.rightDrawerOpen,"onUpdate:modelValue":o[3]||(o[3]=ee=>t.rightDrawerOpen=ee),side:"right"},{default:d(()=>[s(ht,{visible:t.visible,style:{height:"95vh","max-width":"350px"}},{default:d(()=>[s(Te),s(ce),s(z),s($,{initialValues:this.initialValues},null,8,["initialValues"])]),_:1},8,["visible"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}var wl=X(nl,[["render",rl]]);export{wl as default};
