import{Q as L}from"./QPage.81cf9fb4.js";import{c as s,r as f,k as H,o as U,h as c,W as V,e as C,i as W,g as G,x as K,M as X,_ as B,N as P,a5 as Y,T,R as x,Q as j,a6 as J,O as Z,U as ee}from"./index.891fd0d3.js";import{h as te,f as ie}from"./QBtn.d63f9a86.js";import{c as N,a as R}from"./render.2cca9501.js";import{u as I,s as F}from"./re-store.312e2e25.js";import{S as $,r as E,a as ne}from"./transform.9aa67f3e.js";function oe(e){return typeof e=="string"?new $([[document.querySelector(e)]],[document.documentElement]):new $([[e]],E)}function z(e){return typeof e=="string"?new $([document.querySelectorAll(e)],[document.documentElement]):new $([ne(e)],E)}const re={ratio:[String,Number]};function le(e,o){return s(()=>{const n=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const ae=16/9;var se=N({name:"QImg",props:{...re,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ae},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:n}){const y=f(e.initialRatio),g=le(e,y);let i=null,a=!1;const l=[f(null),f(w())],u=f(0),v=f(!1),p=f(!1),r=s(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),m=s(()=>({width:e.width,height:e.height})),h=s(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),S=s(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));H(()=>d(),k);function d(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function k(t){i!==null&&(clearTimeout(i),i=null),p.value=!1,t===null?(v.value=!1,l[u.value^1].value=w()):v.value=!0,l[u.value].value=t}function O({target:t}){a!==!0&&(i!==null&&(clearTimeout(i),i=null),y.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,q(t,1))}function q(t,_){a===!0||_===1e3||(t.complete===!0?M(t):i=setTimeout(()=>{i=null,q(t,_+1)},50))}function M(t){a!==!0&&(u.value=u.value^1,l[u.value].value=null,v.value=!1,p.value=!1,n("load",t.currentSrc||t.src))}function D(t){i!==null&&(clearTimeout(i),i=null),v.value=!1,p.value=!0,l[u.value].value=null,l[u.value^1].value=w(),n("error",t)}function Q(t){const _=l[t].value,b={key:"img_"+t,class:h.value,style:S.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,..._};return u.value===t?(b.class+=" q-img__image--waiting",Object.assign(b,{onLoad:O,onError:D})):b.class+=" q-img__image--loaded",c("div",{class:"q-img__container absolute-full",key:"img"+t},c("img",b))}function A(){return v.value!==!0?c("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},R(o[p.value===!0?"error":"default"])):c("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[c(te,{color:e.spinnerColor,size:e.spinnerSize})])}return k(d()),U(()=>{a=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const t=[];return g.value!==null&&t.push(c("div",{key:"filler",style:g.value})),p.value!==!0&&(l[0].value!==null&&t.push(Q(0)),l[1].value!==null&&t.push(Q(1))),t.push(c(V,{name:"q-transition--fade"},A)),c("div",{class:r.value,style:m.value,role:"img","aria-label":e.alt},t)}}});const ue={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ce(){const{props:e,proxy:{$q:o}}=G(),n=W(K,C);if(n===C)return console.error("QPageSticky needs to be child of QLayout"),C;const y=s(()=>{const r=e.position;return{top:r.indexOf("top")>-1,right:r.indexOf("right")>-1,bottom:r.indexOf("bottom")>-1,left:r.indexOf("left")>-1,vertical:r==="top"||r==="bottom",horizontal:r==="left"||r==="right"}}),g=s(()=>n.header.offset),i=s(()=>n.right.offset),a=s(()=>n.footer.offset),l=s(()=>n.left.offset),u=s(()=>{let r=0,m=0;const h=y.value,S=o.lang.rtl===!0?-1:1;h.top===!0&&g.value!==0?m=`${g.value}px`:h.bottom===!0&&a.value!==0&&(m=`${-a.value}px`),h.left===!0&&l.value!==0?r=`${S*l.value}px`:h.right===!0&&i.value!==0&&(r=`${-S*i.value}px`);const d={transform:`translate(${r}, ${m})`};return e.offset&&(d.margin=`${e.offset[1]}px ${e.offset[0]}px`),h.vertical===!0?(l.value!==0&&(d[o.lang.rtl===!0?"right":"left"]=`${l.value}px`),i.value!==0&&(d[o.lang.rtl===!0?"left":"right"]=`${i.value}px`)):h.horizontal===!0&&(g.value!==0&&(d.top=`${g.value}px`),a.value!==0&&(d.bottom=`${a.value}px`)),d}),v=s(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function p(r){const m=R(r.default);return c("div",{class:v.value,style:u.value},e.expand===!0?m:[c("div",m)])}return{$layout:n,getStickyContent:p}}var fe=N({name:"QPageSticky",props:ue,setup(e,{slots:o}){const{getStickyContent:n}=ce();return()=>n(o)}});const ge=X({name:"StepperComponent4",setup(){return{reStore:I(F()),bcr:f({width:300,height:200}),fit:f(null),imgSrc:f("https://upload.wikimedia.org/wikipedia/commons/b/b6/Cataratas.jpg")}},mounted(){window.setTimeout(()=>{this.resize()},1e3),this.cycleFit(),console.log("this.fit ",this.fit)},methods:{resize(){console.log("StepperComponent4.resize"),this.bcr=document.getElementById("QPage").getBoundingClientRect(),z(".stage").style("width",this.bcr.width+"px").style("height",this.bcr.height+"px"),console.log(this.bcr)},cycleFit(){z(".QID").style("object-fit",this.reStore.fitMode),this.reStore.cycleFit(),this.fit=this.reStore.fitMode,console.log("reStore ",this.reStore.fitMode),console.log("Stepper4: ",this.fit),console.log("d3 ",oe(".QID").style("object-fit"))}}}),de={class:"stage flex flex-center",style:{width:"{{this.bcr.width}}px",height:"{{this.bcr.height}}px"},onresize:"this.resize()"};function me(e,o,n,y,g,i){return P(),Y(J,null,[T("div",de,[x(se,{class:"QID",src:this.imgSrc,fit:this.fit,height:"100%"},null,8,["src","fit"])]),x(fe,{position:"top-right",offset:[120,0],title:"Toggle slideshow of page images"},{default:j(()=>[x(ie,{style:{margin:"11px 0px"},onClick:o[0]||(o[0]=a=>this.cycleFit()),icon:"fit_screen"})]),_:1})],64)}var he=B(ge,[["render",me]]);const ve={components:{StepperComponent4:he},setup(){const e=I(F());return{step:f(1),reStore:e}}},pe={class:"flex fit column no-wrap justify-center items-center content-start"};function ye(e,o,n,y,g,i){const a=ee("StepperComponent4");return P(),Z(L,{id:"QPage",class:"row justify-center"},{default:j(()=>[T("div",pe,[x(a)])]),_:1})}var Ce=B(ve,[["render",ye]]);export{Ce as default};
