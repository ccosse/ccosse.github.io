import{g as U,h as i,i as s,z as N,aI as Ce,B as Z,r as f,D as L,l as _e,p as O,ag as Te,j as ee,x as T,q as xe,d as te,_ as ae,o as b,c as w,w as o,a,Q as k,e as y,ac as A,ad as V,aH as Ie,au as F,av as Ve,aJ as $e,aG as P,aF as qe,f as $}from"./index.6e31621c.js";import{Q as ne,a as Qe,b as Le,c as q,d as Re,e as Q,f as M,g as ze,h as De}from"./QLayout.b5455a04.js";import{Q as oe}from"./QTooltip.9f65fea5.js";import{u as le}from"./re-store.5489ae56.js";import{Q as R,h as Be,a as z,i as Oe,C as J}from"./ClosePopup.79650b6a.js";import{a as Ae,b as Pe,c as W,d as D,e as Ue,P as Ne}from"./QSlideTransition.d08f0345.js";import{Q as Ee}from"./QInput.aeac6e1d.js";import{d as E,f as H,c as He,e as je,u as X,g as Ke}from"./use-dark.2b31808a.js";import"./selection.a0bea682.js";import"./position-engine.c7c369fe.js";import"./use-portal.2f49abe2.js";import"./firebase.8ff914f0.js";import"./use-key-composition.4c7a583b.js";const Ge={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},B={xs:2,sm:4,md:8,lg:16,xl:24};var Y=U({name:"QSeparator",props:{...E,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=N(),c=H(e,t.proxy.$q),d=i(()=>e.vertical===!0?"vertical":"horizontal"),m=i(()=>` q-separator--${d.value}`),u=i(()=>e.inset!==!1?`${m.value}-${Ge[e.inset]}`:""),l=i(()=>`q-separator${m.value}${u.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(c.value===!0?" q-separator--dark":"")),h=i(()=>{const g={};if(e.size!==void 0&&(g[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const C=e.spaced===!0?`${B.md}px`:e.spaced in B?`${B[e.spaced]}px`:e.spaced,r=e.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${r[0]}`]=g[`margin${r[1]}`]=C}return g});return()=>s("hr",{class:l.value,style:h.value,"aria-orientation":d.value})}});const p=Ce({}),Fe=Object.keys(Z);var Me=U({name:"QExpansionItem",props:{...Z,...He,...E,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...je,"click","afterShow","afterHide"],setup(e,{slots:t,emit:c}){const{proxy:{$q:d}}=N(),m=H(e,d),u=f(e.modelValue!==null?e.modelValue:e.defaultOpened),l=f(null),h=X(),{show:g,hide:C,toggle:r}=Ke({showing:u});let S,_;const se=i(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),re=i(()=>{if(e.contentInsetLevel===void 0)return null;const n=d.lang.rtl===!0?"Right":"Left";return{["padding"+n]:e.contentInsetLevel*56+"px"}}),x=i(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),ie=i(()=>{const n={};return Fe.forEach(v=>{n[v]=e[v]}),n}),ue=i(()=>x.value===!0||e.expandIconToggle!==!0),de=i(()=>e.expandedIcon!==void 0&&u.value===!0?e.expandedIcon:e.expandIcon||d.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),ce=i(()=>e.disable!==!0&&(x.value===!0||e.expandIconToggle===!0)),ge=i(()=>({expanded:u.value===!0,detailsId:e.targetUid,toggle:r,show:g,hide:C})),j=i(()=>{const n=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:d.lang.label[u.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":h,"aria-label":n}});L(()=>e.group,n=>{_!==void 0&&_(),n!==void 0&&G()});function he(n){x.value!==!0&&r(n),c("click",n)}function me(n){n.keyCode===13&&K(n,!0)}function K(n,v){v!==!0&&l.value!==null&&l.value.focus(),r(n),xe(n)}function fe(){c("afterShow")}function ve(){c("afterHide")}function G(){S===void 0&&(S=X()),u.value===!0&&(p[e.group]=S);const n=L(u,I=>{I===!0?p[e.group]=S:p[e.group]===S&&delete p[e.group]}),v=L(()=>p[e.group],(I,ye)=>{ye===S&&I!==void 0&&I!==S&&C()});_=()=>{n(),v(),p[e.group]===S&&delete p[e.group],_=void 0}}function be(){const n={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},v=[s(T,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:de.value})];return ce.value===!0&&(Object.assign(n,{tabindex:0,...j.value,onClick:K,onKeyup:me}),v.unshift(s("div",{ref:l,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),s(D,n,()=>v)}function Se(){let n;return t.header!==void 0?n=[].concat(t.header(ge.value)):(n=[s(D,()=>[s(W,{lines:e.labelLines},()=>e.label||""),e.caption?s(W,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&n[e.switchToggleSide===!0?"push":"unshift"](s(D,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>s(T,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&n[e.switchToggleSide===!0?"unshift":"push"](be()),n}function pe(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:m.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return ue.value===!0&&(n.clickable=!0,n.onClick=he,Object.assign(n,x.value===!0?ie.value:j.value)),s(Pe,n,Se)}function we(){return O(s("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:re.value,id:h},ee(t.default)),[[Te,u.value]])}function ke(){const n=[pe(),s(Ae,{duration:e.duration,onShow:fe,onHide:ve},we)];return e.expandSeparator===!0&&n.push(s(Y,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:m.value}),s(Y,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:m.value})),n}return e.group!==void 0&&G(),_e(()=>{_!==void 0&&_()}),()=>s("div",{class:se.value},[s("div",{class:"q-expansion-item__container relative-position"},ke())])}}),Je=U({name:"QList",props:{...E,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const c=N(),d=H(e,c.proxy.$q),m=i(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(d.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>s(e.tag,{class:m.value},ee(t.default))}});const We=te({name:"SearchComponent",setup(){const e=le(),t=f("");return{reStore:e,searchTerms:t,searchSize:f(50),searchResults:f([]),promptSearchSize:f(!1)}},methods:{updateSearchSize(){this.reStore.searchSize=this.searchSize},update(){this.searchTerms=this.searchTerms},remove(e){console.log("CurrentAssignment.remove: ",e),this.reStore.searchTerms.splice(e,1)},load(e){console.log(e),console.log(this.searchResults[e]),this.reStore.loadPageId(this.searchResults[e].pageid)},async doSearch(){this.reStore.wiki.setLang(this.reStore.langVoices["Eng-UK-Fem"].langName);const e=await this.reStore.wiki.search(this.searchTerms,{suggestion:!1,limit:50});console.log("res.results.length: ",e.results.length),this.searchResults=e.results},clearSearchResults(){for(;this.currentValues.searchResults.length;)this.currentValues.searchResults.pop()}}}),Xe=y("div",{class:"text-h6"},"Search Results Size",-1),Ye={class:"q-gutter-y-sm column"},Ze={key:0},et={class:"row cardheader ptr justify-between"},tt=["onClick"],at={class:"history-remove"};function nt(e,t,c,d,m,u){return b(),w(z,{flat:""},{default:o(()=>[a(R,null,{default:o(()=>[a(Je,{padding:"",bordered:"",class:"rounded-borders"},{default:o(()=>[a(Me,{"header-style":{border:"0px solid gray"},label:"Search & Results"},{default:o(()=>[a(Be,{modelValue:e.promptSearchSize,"onUpdate:modelValue":t[2]||(t[2]=l=>e.promptSearchSize=l),persistent:""},{default:o(()=>[a(z,{style:{"min-width":"350px"}},{default:o(()=>[a(R,{align:"center"},{default:o(()=>[Xe]),_:1}),a(R,{class:"q-pt-none",align:"center"},{default:o(()=>[a(Ue,{"show-value":"",size:"140px",thickness:.5,color:"green","track-color":"green-3","center-color":"grey-8",class:"text-white col q-ma-md",modelValue:e.searchSize,"onUpdate:modelValue":t[0]||(t[0]=l=>e.searchSize=l)},null,8,["modelValue"])]),_:1}),a(Oe,{align:"center",class:"text-primary"},{default:o(()=>[O(a(k,{flat:"",label:"Cancel"},null,512),[[J]]),O(a(k,{flat:"",label:"Update results size",onClick:t[1]||(t[1]=l=>this.updateSearchSize())},null,512),[[J]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),y("div",Ye,[a(ne,{class:"bg-primary text-white rounded-borders q-my-md"},{default:o(()=>[a(k,{dark:"",standout:"",onClick:t[3]||(t[3]=l=>e.promptSearchSize=!0)},{default:o(()=>[A(V(this.searchResults.length)+" ",1),a(oe,null,{default:o(()=>[A("Change results limit ("+V(this.searchSize)+")",1)]),_:1})]),_:1}),a(Ee,{dark:"",dense:"",standout:"",modelValue:e.searchTerms,"onUpdate:modelValue":t[6]||(t[6]=l=>e.searchTerms=l),"input-class":"text-right",class:"q-ml-md",onKeyup:[t[7]||(t[7]=l=>this.update()),t[8]||(t[8]=Ie(l=>this.doSearch(),["enter"]))]},{append:o(()=>[e.searchTerms===""?(b(),w(T,{key:0,name:"search",onClick:t[4]||(t[4]=l=>this.doSearch())})):(b(),w(T,{key:1,name:"clear",class:"cursor-pointer",onClick:t[5]||(t[5]=l=>{this.searchTerms="",this.clearSearchResults()})}))]),_:1},8,["modelValue"])]),_:1})]),this.searchResults.length?(b(),F("div",Ze,[(b(!0),F(Ve,null,$e(this.searchResults,(l,h)=>(b(),w(z,{class:"cardcontainer",flat:"",bordered:"",modelValue:this.searchResults,"onUpdate:modelValue":t[9]||(t[9]=g=>this.searchResults=g),key:h},{default:o(()=>[y("div",et,[y("span",{class:"history-title col-grow",onClick:g=>this.load(h)},V(h)+". "+V(l.title.slice(0,25)),9,tt),y("span",at,[a(T,{class:"primary",size:e.xl,color:e.primary,name:"close",onClick:g=>this.remove(h)},null,8,["size","color","onClick"])])])]),_:2},1032,["modelValue"]))),128))])):P("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}var ot=ae(We,[["render",nt]]);const lt=te({name:"GuestLayout",components:{SearchComponent:ot,PreferencesComponent:Ne},setup(){const e=f(!1),t=f(!1),c=le(),d=c.preferences;return{step:f(1),reStore:c,initialValues:f(d),leftDrawerOpen:e,rightDrawerOpen:t,toggleLeftDrawer(){e.value=!e.value},toggleRightDrawer(){t.value=!t.value}}}}),st=y("img",{src:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/reading_edge_200x200.png"},null,-1),rt={class:"dashboard-wrapper"};function it(e,t,c,d,m,u){const l=$("router-link"),h=$("SearchComponent"),g=$("PreferencesComponent"),C=$("router-view");return b(),w(De,{view:"hHh lpR fFf"},{default:o(()=>[a(Re,{flat:"",bordered:"",class:"bg-primary text-white","height-hint":"98"},{default:o(()=>[a(ne,null,{default:o(()=>[a(k,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),a(Qe,null,{default:o(()=>[a(l,{to:"/"},{default:o(()=>[a(qe,{size:"25px"},{default:o(()=>[st]),_:1})]),_:1})]),_:1}),this.reStore.authenticated?(b(),w(k,{key:0,onClick:t[0]||(t[0]=r=>this.reStore.router.push("/student")),icon:"switch_account"},{default:o(()=>[a(oe,null,{default:o(()=>[A(" Switch between Teacher or Student role ")]),_:1})]),_:1})):P("",!0),this.reStore.authenticated?(b(),w(k,{key:1,icon:"logout",onClick:t[1]||(t[1]=r=>this.reStore.logout())})):P("",!0),a(k,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1}),a(Le,{align:"left",class:"hidden"},{default:o(()=>[a(q,{to:"/logo",label:"Logo"}),a(q,{to:"/teaching",label:"Teaching"}),a(q,{to:"/taking",label:"Taking"}),a(q,{to:"/gradebook",label:"Gradebook"})]),_:1})]),_:1}),a(Q,{"show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=r=>e.leftDrawerOpen=r),side:"left",bordered:""},null,8,["modelValue"]),a(Q,{"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=r=>e.rightDrawerOpen=r),side:"right",bordered:""},null,8,["modelValue"]),a(ze,{class:"container-fluid"},{default:o(()=>[a(Q,{bordered:"","show-if-above":"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[4]||(t[4]=r=>e.leftDrawerOpen=r),side:"left"},{default:o(()=>[a(M,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:o(()=>[a(h)]),_:1},8,["visible"])]),_:1},8,["modelValue"]),a(Q,{bordered:"","show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[5]||(t[5]=r=>e.rightDrawerOpen=r),side:"right"},{default:o(()=>[a(M,{visible:e.visible,style:{height:"95vh","max-width":"350px"}},{default:o(()=>[a(g,{initialValues:this.initialValues},null,8,["initialValues"])]),_:1},8,["visible"])]),_:1},8,["modelValue"]),y("div",rt,[a(C)])]),_:1})]),_:1})}var yt=ae(lt,[["render",it]]);export{yt as default};
