import{Q as tt}from"./QPage.1c48a9af.js";import{u as ke,s as I,a as U}from"./re-store.dde9ab57.js";import{a as it,Q as fe}from"./QCard.a7f43325.js";import{r as m,h as n,i as l,g as D,ad as _e,ae as Se,ah as R,x as N,y as J,j as A,z as Q,q as Y,ai as at,aj as ot,u as Ce,S as we,D as se,l as qe,ak as re,al as nt,am as lt,Q as $,n as Ie,F as st,an as Be,K as rt,k as le,M as ut,O as ct,d as $e,_ as Te,o as Pe,ao as dt,a as y,w as F,e as X,p as gt,ag as me,ap as ft,c as mt,f as ht}from"./index.4ff5c8c7.js";import{d as ue,f as ce,c as Fe,e as De,b as vt,a as pt,g as Ee,h as bt,i as xt,u as yt}from"./use-dark.a7188822.js";import{u as kt,a as _t,b as St,c as Ct,g as wt,d as qt}from"./use-portal.d734a5c1.js";import"./firebase.8ff914f0.js";function Ve(e,t){const i=m(null),a=n(()=>e.disable===!0?null:l("span",{ref:i,class:"no-outline",tabindex:-1}));function r(u){const o=t.value;u!==void 0&&u.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():i.value!==null&&(u===void 0||o!==null&&o.contains(u.target)===!0)&&i.value.focus()}return{refocusTargetEl:a,refocusTarget:r}}const je={name:String};function Re(e={}){return(t,i,a)=>{t[i](l("input",{class:"hidden"+(a||""),...e.value}))}}var Oe={xs:30,sm:35,md:40,lg:50,xl:60};const It=l("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[l("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),l("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Bt=D({name:"QRadio",props:{...ue,..._e,...je,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:i}){const{proxy:a}=Q(),r=ce(e,a.$q),u=Se(e,Oe),o=m(null),{refocusTargetEl:d,refocusTarget:b}=Ve(e,o),h=n(()=>R(e.modelValue)===R(e.val)),s=n(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),c=n(()=>{const p=e.color!==void 0&&(e.keepColor===!0||h.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${h.value===!0?"truthy":"falsy"}${p}`}),x=n(()=>(h.value===!0?e.checkedIcon:e.uncheckedIcon)||null),S=n(()=>e.disable===!0?-1:e.tabindex||0),k=n(()=>{const p={type:"radio"};return e.name!==void 0&&Object.assign(p,{".checked":h.value===!0,"^checked":h.value===!0?"checked":void 0,name:e.name,value:e.val}),p}),_=Re(k);function q(p){p!==void 0&&(Y(p),b(p)),e.disable!==!0&&h.value!==!0&&i("update:modelValue",e.val,p)}function P(p){(p.keyCode===13||p.keyCode===32)&&Y(p)}function C(p){(p.keyCode===13||p.keyCode===32)&&q(p)}return Object.assign(a,{set:q}),()=>{const p=x.value!==null?[l("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[l(N,{class:"q-radio__icon",name:x.value})])]:[It];e.disable!==!0&&_(p,"unshift"," q-radio__native q-ma-none q-pa-none");const B=[l("div",{class:c.value,style:u.value,"aria-hidden":"true"},p)];d.value!==null&&B.push(d.value);const T=e.label!==void 0?J(t.default,[e.label]):A(t.default);return T!==void 0&&B.push(l("div",{class:"q-radio__label q-anchor--skip"},T)),l("div",{ref:o,class:s.value,tabindex:S.value,role:"radio","aria-label":e.label,"aria-checked":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:q,onKeydown:P,onKeyup:C},B)}}});const ze={...ue,..._e,...je,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Le=["update:modelValue"];function Ae(e,t){const{props:i,slots:a,emit:r,proxy:u}=Q(),{$q:o}=u,d=ce(i,o),b=m(null),{refocusTargetEl:h,refocusTarget:s}=Ve(i,b),c=Se(i,Oe),x=n(()=>i.val!==void 0&&Array.isArray(i.modelValue)),S=n(()=>{const f=R(i.val);return x.value===!0?i.modelValue.findIndex(E=>R(E)===f):-1}),k=n(()=>x.value===!0?S.value>-1:R(i.modelValue)===R(i.trueValue)),_=n(()=>x.value===!0?S.value===-1:R(i.modelValue)===R(i.falseValue)),q=n(()=>k.value===!1&&_.value===!1),P=n(()=>i.disable===!0?-1:i.tabindex||0),C=n(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(i.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(i.dense===!0?` q-${e}--dense`:"")+(i.leftLabel===!0?" reverse":"")),p=n(()=>{const f=k.value===!0?"truthy":_.value===!0?"falsy":"indet",E=i.color!==void 0&&(i.keepColor===!0||(e==="toggle"?k.value===!0:_.value!==!0))?` text-${i.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${f}${E}`}),B=n(()=>{const f={type:"checkbox"};return i.name!==void 0&&Object.assign(f,{".checked":k.value,"^checked":k.value===!0?"checked":void 0,name:i.name,value:x.value===!0?i.val:i.trueValue}),f}),T=Re(B),M=n(()=>{const f={tabindex:P.value,role:e==="toggle"?"switch":"checkbox","aria-label":i.label,"aria-checked":q.value===!0?"mixed":k.value===!0?"true":"false"};return i.disable===!0&&(f["aria-disabled"]="true"),f});function O(f){f!==void 0&&(Y(f),s(f)),i.disable!==!0&&r("update:modelValue",g(),f)}function g(){if(x.value===!0){if(k.value===!0){const f=i.modelValue.slice();return f.splice(S.value,1),f}return i.modelValue.concat([i.val])}if(k.value===!0){if(i.toggleOrder!=="ft"||i.toggleIndeterminate===!1)return i.falseValue}else if(_.value===!0){if(i.toggleOrder==="ft"||i.toggleIndeterminate===!1)return i.trueValue}else return i.toggleOrder!=="ft"?i.trueValue:i.falseValue;return i.indeterminateValue}function V(f){(f.keyCode===13||f.keyCode===32)&&Y(f)}function j(f){(f.keyCode===13||f.keyCode===32)&&O(f)}const Z=t(k,q);return Object.assign(u,{toggle:O}),()=>{const f=Z();i.disable!==!0&&T(f,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const E=[l("div",{class:p.value,style:c.value,"aria-hidden":"true"},f)];h.value!==null&&E.push(h.value);const H=i.label!==void 0?J(a.default,[i.label]):A(a.default);return H!==void 0&&E.push(l("div",{class:`q-${e}__label q-anchor--skip`},H)),l("div",{ref:b,class:C.value,...M.value,onClick:O,onKeydown:V,onKeyup:j},E)}}const $t=l("div",{key:"svg",class:"q-checkbox__bg absolute"},[l("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[l("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),l("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Tt=D({name:"QCheckbox",props:ze,emits:Le,setup(e){function t(i,a){const r=n(()=>(i.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>r.value!==null?[l("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[l(N,{class:"q-checkbox__icon",name:r.value})])]:[$t]}return Ae("checkbox",t)}}),Pt=D({name:"QToggle",props:{...ze,icon:String,iconColor:String},emits:Le,setup(e){function t(i,a){const r=n(()=>(i.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),u=n(()=>i.value===!0?e.iconColor:null);return()=>[l("div",{class:"q-toggle__track"}),l("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[l(N,{name:r.value,color:u.value})]:void 0)]}return Ae("toggle",t)}});const Qe={radio:Bt,checkbox:Tt,toggle:Pt},Ft=Object.keys(Qe);var Dt=D({name:"QOptionGroup",props:{...ue,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Ft.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:i}){const{proxy:{$q:a}}=Q(),r=Array.isArray(e.modelValue);e.type==="radio"?r===!0&&console.error("q-option-group: model should not be array"):r===!1&&console.error("q-option-group: model should be array in your case");const u=ce(e,a),o=n(()=>Qe[e.type]),d=n(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),b=n(()=>{const s={role:"group"};return e.type==="radio"&&(s.role="radiogroup",e.disable===!0&&(s["aria-disabled"]="true")),s});function h(s){t("update:modelValue",s)}return()=>l("div",{class:d.value,...b.value},e.options.map((s,c)=>{const x=i["label-"+c]!==void 0?()=>i["label-"+c](s):i.label!==void 0?()=>i.label(s):void 0;return l("div",[l(o.value,{modelValue:e.modelValue,val:s.value,name:s.name===void 0?e.name:s.name,disable:e.disable||s.disable,label:x===void 0?s.label:null,leftLabel:s.leftLabel===void 0?e.leftLabel:s.leftLabel,color:s.color===void 0?e.color:s.color,checkedIcon:s.checkedIcon,uncheckedIcon:s.uncheckedIcon,dark:s.dark||u.value,size:s.size===void 0?e.size:s.size,dense:e.dense,keepColor:s.keepColor===void 0?e.keepColor:s.keepColor,"onUpdate:modelValue":h},x)])}))}}),Et=D({name:"QCardActions",props:{...at,vertical:Boolean},setup(e,{slots:t}){const i=ot(e),a=n(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>l("div",{class:a.value},A(t.default))}});const z=[];let W;function Vt(e){W=e.keyCode===27}function jt(){W===!0&&(W=!1)}function Rt(e){W===!0&&(W=!1,Ce(e,27)===!0&&z[z.length-1](e))}function Me(e){window[e]("keydown",Vt),window[e]("blur",jt),window[e]("keyup",Rt),W=!1}function Ot(e){we.is.desktop===!0&&(z.push(e),z.length===1&&Me("addEventListener"))}function he(e){const t=z.indexOf(e);t>-1&&(z.splice(t,1),z.length===0&&Me("removeEventListener"))}const L=[];function We(e){L[L.length-1](e)}function zt(e){we.is.desktop===!0&&(L.push(e),L.length===1&&document.body.addEventListener("focusin",We))}function ve(e){const t=L.indexOf(e);t>-1&&(L.splice(t,1),L.length===0&&document.body.removeEventListener("focusin",We))}let G=0;const Lt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},pe={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var At=D({name:"QDialog",inheritAttrs:!1,props:{...Fe,...kt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...De,"shake","click","escapeKey"],setup(e,{slots:t,emit:i,attrs:a}){const r=Q(),{proxy:{$q:u}}=r,o=m(null),d=m(!1),b=m(!1);let h=null,s=null,c,x;const S=n(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=xt(),{registerTimeout:_}=vt(),{registerTick:q,removeTick:P}=pt(),{transitionProps:C,transitionStyle:p}=_t(e,()=>pe[e.position][0],()=>pe[e.position][1]),{showPortal:B,hidePortal:T,portalIsAccessible:M,renderPortal:O}=St(r,o,et,"dialog"),{hide:g}=Ee({showing:d,hideOnRouteChange:S,handleShow:Ge,handleHide:Xe,processOnMount:!0}),{addToHistory:V,removeFromHistory:j}=bt(d,g,S),Z=n(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Lt[e.position]}`+(b.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),f=n(()=>d.value===!0&&e.seamless!==!0),E=n(()=>e.autoClose===!0?{onClick:Ye}:{}),H=n(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${f.value===!0?"modal":"seamless"}`,a.class]);se(()=>e.maximized,v=>{d.value===!0&&ie(v)}),se(f,v=>{k(v),v===!0?(zt(ae),Ot(te)):(ve(ae),he(te))});function Ge(v){V(),s=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ie(e.maximized),B(),b.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),q(K)):P(),_(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:w,bottom:oe}=document.activeElement.getBoundingClientRect(),{innerHeight:ge}=window,ne=window.visualViewport!==void 0?window.visualViewport.height:ge;w>0&&oe>ne/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ne,oe>=ge?1/0:Math.ceil(document.scrollingElement.scrollTop+oe-ne/2))),document.activeElement.scrollIntoView()}x=!0,o.value.click(),x=!1}B(!0),b.value=!1,i("show",v)},e.transitionDuration)}function Xe(v){P(),j(),de(!0),b.value=!0,T(),s!==null&&(((v&&v.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),_(()=>{T(!0),b.value=!1,i("hide",v)},e.transitionDuration)}function K(v){Ct(()=>{let w=o.value;w===null||w.contains(document.activeElement)===!0||(w=(v!==""?w.querySelector(v):null)||w.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||w.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||w.querySelector("[autofocus], [data-autofocus]")||w,w.focus({preventScroll:!0}))})}function ee(v){v&&typeof v.focus=="function"?v.focus({preventScroll:!0}):K(),i("shake");const w=o.value;w!==null&&(w.classList.remove("q-animate--scale"),w.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,o.value!==null&&(w.classList.remove("q-animate--scale"),K())},170))}function te(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ee():(i("escapeKey"),g()))}function de(v){h!==null&&(clearTimeout(h),h=null),(v===!0||d.value===!0)&&(ie(!1),e.seamless!==!0&&(k(!1),ve(ae),he(te))),v!==!0&&(s=null)}function ie(v){v===!0?c!==!0&&(G<1&&document.body.classList.add("q-body--dialog"),G++,c=!0):c===!0&&(G<2&&document.body.classList.remove("q-body--dialog"),G--,c=!1)}function Ye(v){x!==!0&&(g(v),i("click",v))}function Je(v){e.persistent!==!0&&e.noBackdropDismiss!==!0?g(v):e.noShake!==!0&&ee(v.relatedTarget)}function ae(v){e.allowFocusOutside!==!0&&M.value===!0&&nt(o.value,v.target)!==!0&&K('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:K,shake:ee,__updateRefocusTarget(v){s=v||null}}),qe(de);const Ze=u.platform.is.ios===!0||u.platform.is.safari?"onClick":"onFocusin";function et(){return l("div",{role:"dialog","aria-modal":f.value===!0?"true":"false",...a,class:H.value},[l(re,{name:"q-transition--fade",appear:!0},()=>f.value===!0?l("div",{class:"q-dialog__backdrop fixed-full",style:p.value,"aria-hidden":"true",tabindex:-1,[Ze]:Je}):null),l(re,C.value,()=>d.value===!0?l("div",{ref:o,class:Z.value,style:p.value,tabindex:-1,...E.value},A(t.default)):null)])}return O}});const Qt={ratio:[String,Number]};function Mt(e,t){return n(()=>{const i=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Wt=16/9;var Kt=D({name:"QImg",props:{...Qt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Wt},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:i}){const a=m(e.initialRatio),r=Mt(e,a);let u=null,o=!1;const d=[m(null),m(q())],b=m(0),h=m(!1),s=m(!1),c=n(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=n(()=>({width:e.width,height:e.height})),S=n(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),k=n(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));se(()=>_(),P);function _(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function P(g){u!==null&&(clearTimeout(u),u=null),s.value=!1,g===null?(h.value=!1,d[b.value^1].value=q()):h.value=!0,d[b.value].value=g}function C({target:g}){o!==!0&&(u!==null&&(clearTimeout(u),u=null),a.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,p(g,1))}function p(g,V){o===!0||V===1e3||(g.complete===!0?B(g):u=setTimeout(()=>{u=null,p(g,V+1)},50))}function B(g){o!==!0&&(b.value=b.value^1,d[b.value].value=null,h.value=!1,s.value=!1,i("load",g.currentSrc||g.src))}function T(g){u!==null&&(clearTimeout(u),u=null),h.value=!1,s.value=!0,d[b.value].value=null,d[b.value^1].value=q(),i("error",g)}function M(g){const V=d[g].value,j={key:"img_"+g,class:S.value,style:k.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...V};return b.value===g?(j.class+=" q-img__image--waiting",Object.assign(j,{onLoad:C,onError:T})):j.class+=" q-img__image--loaded",l("div",{class:"q-img__container absolute-full",key:"img"+g},l("img",j))}function O(){return h.value!==!0?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},A(t[s.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[l(lt,{color:e.spinnerColor,size:e.spinnerSize})])}return P(_()),qe(()=>{o=!0,u!==null&&(clearTimeout(u),u=null)}),()=>{const g=[];return r.value!==null&&g.push(l("div",{key:"filler",style:r.value})),s.value!==!0&&(d[0].value!==null&&g.push(M(0)),d[1].value!==null&&g.push(M(1))),g.push(l(re,{name:"q-transition--fade"},O)),l("div",{class:c.value,style:x.value,role:"img","aria-label":e.alt},g)}}});const Nt=["top","right","bottom","left"],Ke={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Nt.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Ne(e,t){return{formClass:n(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:n(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:n(()=>{if(e.externalLabel===!0){const i=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(i===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const He={start:"self-end",center:"self-center",end:"self-start"},Ht=Object.keys(He);var be=D({name:"QFabAction",props:{...Ke,icon:{type:String,default:""},anchor:{type:String,validator:e=>Ht.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:i}){const a=Ie(Be,()=>({showing:{value:!0},onChildClick:st})),{formClass:r,labelProps:u}=Ne(e,a.showing),o=n(()=>{const c=He[e.anchor];return r.value+(c!==void 0?` ${c}`:"")}),d=n(()=>e.disable===!0||a.showing.value!==!0);function b(c){a.onChildClick(c),i("click",c)}function h(){const c=[];return t.icon!==void 0?c.push(t.icon()):e.icon!==""&&c.push(l(N,{name:e.icon})),(e.label!==""||t.label!==void 0)&&c[u.value.action](l("div",u.value.data,t.label!==void 0?t.label():[e.label])),J(t.default,c)}const s=Q();return Object.assign(s.proxy,{click:b}),()=>l($,{class:o.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:d.value,onClick:b},h)}});const Ut=["up","right","down","left"],Gt=["left","center","right"];var Xt=D({name:"QFab",props:{...Ke,...Fe,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>Ut.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Gt.includes(e)}},emits:De,setup(e,{slots:t}){const i=m(null),a=m(e.modelValue===!0),r=yt(),{proxy:{$q:u}}=Q(),{formClass:o,labelProps:d}=Ne(e,a),b=n(()=>e.persistent!==!0),{hide:h,toggle:s}=Ee({showing:a,hideOnRouteChange:b}),c=n(()=>({opened:a.value})),x=n(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${o.value}`+(a.value===!0?" q-fab--opened":" q-fab--closed")),S=n(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${a.value===!0?"opened":"closed"}`),k=n(()=>{const C={id:r,role:"menu"};return a.value!==!0&&(C["aria-hidden"]="true"),C}),_=n(()=>`q-fab__icon-holder  q-fab__icon-holder--${a.value===!0?"opened":"closed"}`);function q(C,p){const B=t[C],T=`q-fab__${C} absolute-full`;return B===void 0?l(N,{class:T,name:e[p]||u.iconSet.fab[p]}):l("div",{class:T},B(c.value))}function P(){const C=[];return e.hideIcon!==!0&&C.push(l("div",{class:_.value},[q("icon","icon"),q("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&C[d.value.action](l("div",d.value.data,t.label!==void 0?t.label(c.value):[e.label])),J(t.tooltip,C)}return rt(Be,{showing:a,onChildClick(C){h(C),i.value!==null&&i.value.$el.focus()}}),()=>l("div",{class:x.value},[l($,{ref:i,class:o.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r,onClick:s},P),l("div",{class:S.value,...k.value},A(t.default))])}});const Yt={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Jt(){const{props:e,proxy:{$q:t}}=Q(),i=Ie(ut,le);if(i===le)return console.error("QPageSticky needs to be child of QLayout"),le;const a=n(()=>{const c=e.position;return{top:c.indexOf("top")>-1,right:c.indexOf("right")>-1,bottom:c.indexOf("bottom")>-1,left:c.indexOf("left")>-1,vertical:c==="top"||c==="bottom",horizontal:c==="left"||c==="right"}}),r=n(()=>i.header.offset),u=n(()=>i.right.offset),o=n(()=>i.footer.offset),d=n(()=>i.left.offset),b=n(()=>{let c=0,x=0;const S=a.value,k=t.lang.rtl===!0?-1:1;S.top===!0&&r.value!==0?x=`${r.value}px`:S.bottom===!0&&o.value!==0&&(x=`${-o.value}px`),S.left===!0&&d.value!==0?c=`${k*d.value}px`:S.right===!0&&u.value!==0&&(c=`${-k*u.value}px`);const _={transform:`translate(${c}, ${x})`};return e.offset&&(_.margin=`${e.offset[1]}px ${e.offset[0]}px`),S.vertical===!0?(d.value!==0&&(_[t.lang.rtl===!0?"right":"left"]=`${d.value}px`),u.value!==0&&(_[t.lang.rtl===!0?"left":"right"]=`${u.value}px`)):S.horizontal===!0&&(r.value!==0&&(_.top=`${r.value}px`),o.value!==0&&(_.bottom=`${o.value}px`)),_}),h=n(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function s(c){const x=A(c.default);return l("div",{class:h.value,style:b.value},e.expand===!0?x:[l("div",x)])}return{$layout:i,getStickyContent:s}}var xe=D({name:"QPageSticky",props:Yt,setup(e,{slots:t}){const{getStickyContent:i}=Jt();return()=>i(t)}});function ye(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Zt=ct({name:"close-popup",beforeMount(e,{value:t}){const i={depth:ye(t),handler(a){i.depth!==0&&setTimeout(()=>{const r=wt(e);r!==void 0&&qt(r,a,i.depth)})},handlerKey(a){Ce(a,13)===!0&&i.handler(a)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:t,oldValue:i}){t!==i&&(e.__qclosepopup.depth=ye(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const ei=$e({name:"StepperComponent",props:{initialImgSrc:{type:String,required:!0},initialImgFit:{type:String},initialPageText:{type:String,required:!1,default:"This is the paragraph to be reconstructed."},initialPageObj:{type:Object,required:!1,default:m({imgIdx:0,imgs:[{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"}],pageText:"This is the paragraph to be reconstructed (default text)",imgFit:"cover",pctReplace:25})},assignmentObj:{type:Object,required:!0}},setup(e){const t=ke();return{props:e,reStore:t,imgs:m([]),imgIdx:m(0),imgSrc:m(""),imgCap:m(""),imgFit:m(""),pgIdx:m(0),pageText:m(""),pctReplace:m(15),assignment:m(e.assignmentObj),step:m(1),words:m([]),options:m([]),answers:m([]),targetIdx:m(0),showWordChoices:m(!1),slideShowInterval:m(null)}},mounted(){console.log("Stepper.mounted ",this.props),this.reStore.setStatus("points",this.assignment.points),this.reStore.setStatus("goal",this.assignment.goal),this.reStore.setStatus("title",this.assignment.title),this.reStore.setStatus("pgIdx",this.assignment.pgIdx),this.reStore.setStatus("pgTot",this.assignment.pages.length),this.step1()},methods:{prevImg(){this.imgIdx=this.imgIdx-1<0?this.imgs.length-1:0,this.imgSrc=this.imgs[this.imgIdx].url,this.imgCap=this.imgs[this.imgIdx].cap,console.log("stepper nextImg",this.imgIdx)},nextImg(){this.imgIdx=this.imgIdx+1>this.imgs.length-1?0:this.imgIdx+1,this.imgSrc=this.imgs[this.imgIdx].url,this.imgCap=this.imgs[this.imgIdx].cap,console.log("stepper nextImg",this.imgIdx,this.imgs)},cycleFit(){const e=["scale-down","cover"];let t=e.indexOf(this.imgFit);this.imgFit=t+1>=e.length?e[0]:e[t+1]},loadPage(e){this.imgs=e.imgs,this.imgIdx=e.imgIdx,this.imgSrc=e.imgs.length?e.imgs[0].url:null,this.imgCap=e.imgs.length?e.imgs[0].cap:null,this.imgFit=e.imgFit,this.pageText=e.pageText,this.pctReplace=e.pctReplace,I("#slideTextDiv").html(this.pageText)},step1(){this.step=1,console.log("step",this.step),U(".stepB").classed("readyBorder",!1),I("#slideTextDiv").classed("border-red",!1),I("#slideTextDiv").classed("border-green",!1),I("#step1B").classed("readyBorder",!0);let e;if(this.assignment.pages[this.pgIdx].isCustom===!0)e=this.assignment.pages[this.pgIdx],this.loadPage(e);else if(this.assignment.pages[this.pgIdx].pageid){if(this.assignment.pages[this.pgIdx].pageid){const t="",i=this.assignment.pages[this.pgIdx].pageid,a=this.reStore.getPage(t,i);console.log("received promise ",a),a.then(r=>{this.loadPage(r)})}}else{const t=this.assignment.pages[this.pgIdx].guideWords,i=this.assignment.pages[this.pgIdx].pageid;console.log("guideWords",t,"pageid ",i);const a=this.reStore.getPage(t,i);console.log("received promise ",a),a.then(r=>{this.loadPage(r)})}},step2(){if(U(".stepB").classed("readyBorder",!1),this.step===2)return;for(this.step=2,I("#step2B").classed("readyBorder",!0),console.log("step",this.step),I("#slideTextDiv").classed("border-red",!1),I("#slideTextDiv").classed("border-green",!1);this.words.length>0;)this.words.pop();for(;this.answers.length>0;)this.answers.pop();const e=this.pageText.replaceAll("  "," ").split(" ");console.log("rtext: ",e);let t="";for(const a in e){let r;try{r=this.pctReplace}catch{r=10}if(Math.random()*100<=r){if(e[a]===" "){t+=e[a]+" ";continue}t+=' <b class="choose" id="pop_'+this.words.length+'">[choose]</b> ',this.words.push(e[a]),this.answers.push("")}else t+=e[a]+" "}console.log(t),I("#slideTextDiv").html(t);const i=5;for(const a in this.words){const r="#pop_"+a;I(r).on("click",u=>{for(;this.options.length>0;)this.options.pop();const o=[];this.targetIdx=a,console.log("onclick: targetIdx = ",this.targetIdx,this.targetIdx.value,a,this.words.length),this.options.push({label:this.words[a],value:this.words[a]}),o.push(this.words[a]);for(let d=0;d<Math.min(i,this.words.length);d++)o.indexOf(this.words[d])>-1||(this.options.push({label:this.words[d],value:this.words[d]}),o.push(this.words[d]));console.log(o),this.showWordChoices=!0})}},step3(){if(U(".stepB").classed("readyBorder",!1),this.step===3)return;this.step=3,I("#step3B").classed("readyBorder",!0),console.log("step",this.step);let e=!0;for(const t in this.words)this.words[t]!==this.answers[t]&&(e=!1);e===!0?(I("#slideTextDiv").classed("border-green",!0),this.assignment.score+=this.words.length,this.reStore.assignmentStatus.points+=this.words.length,this.step=4):I("#slideTextDiv").classed("border-red",!0)},step4(){U(".stepB").classed("readyBorder",!1),console.log("step ",this.step),this.step===4&&(I("#step4B").classed("readyBorder",!0),this.pgIdx===this.assignment.pages.length-1&&this.assignment.pages[this.pgIdx].isCustom===!1?console.log("Pages array ended with random. pgIdx "):this.pgIdx=this.pgIdx+1<=this.assignment.pages.length-1?this.pgIdx+1:0,console.log("Proceeding to next page",this.pgIdx),this.reStore.setStatus("pgIdx",this.pgIdx),this.step1())},update(e){console.log("targetIdx: ",this.targetIdx,"val: ",e),this.answers[this.targetIdx]=e;const t="#pop_"+this.targetIdx;I(t).html(e),console.log(this.answers),this.showWordChoices=!1},toggleSlideShow(){this.slideShowInterval?(window.clearInterval(this.slideShowInterval),this.slideShowInterval=null):this.slideShowInterval=window.setInterval(()=>{console.log("tick"),this.nextImg()},5e3)},saveImage(){console.log("saveImage")},saveBookmark(){console.log("saveBookmark")}}}),ti=X("div",{class:"text-h6"},"Choose correct word:",-1),ii={class:"q-pa-lg"},ai={id:"slideCaptionDiv",class:"absolute-top text-subtitle1 text-center q-my-xl"},oi={id:"slideTextDiv",class:"text-panel text-center absolute-center",contentEditable:"false"};function ni(e,t,i,a,r,u){return Pe(),dt(ft,null,[y(At,{modelValue:this.showWordChoices,"onUpdate:modelValue":t[1]||(t[1]=o=>this.showWordChoices=o)},{default:F(()=>[y(it,null,{default:F(()=>[y(fe,null,{default:F(()=>[ti]),_:1}),y(fe,{class:"q-pt-none"},{default:F(()=>[X("div",ii,[y(Dt,{modelValue:e.group,"onUpdate:modelValue":[t[0]||(t[0]=o=>e.group=o),this.update],options:this.options,color:"primary"},null,8,["modelValue","options","onUpdate:modelValue"])])]),_:1}),y(Et,{align:"right"},{default:F(()=>[gt(y($,{flat:"",label:"OK",color:"primary"},null,512),[[Zt]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),y(Kt,{class:"fixed-center",src:this.imgSrc,fit:this.imgFit,height:"100%"},{default:F(()=>[X("div",ai,me(this.imgCap),1)]),_:1},8,["src","fit"]),X("div",oi,me(this.pageText),1),y(xe,{position:"bottom",offset:[0,30]},{default:F(()=>[y($,{color:"accent",onClick:t[2]||(t[2]=o=>this.prevImg()),icon:"start",class:"rotate-180 q-pa-sm q-mx-sm"}),y(Xt,{square:"",color:"accent",icon:"keyboard_arrow_up",direction:"up",padding:"sm",class:"q-pa-sm q-mx-sm"},{default:F(()=>[y(be,{color:"accent",onClick:t[3]||(t[3]=o=>this.saveImage()),icon:"bookmark"}),y(be,{color:"accent",onClick:t[4]||(t[4]=o=>this.toggleSlideShow()),icon:"slideshow"})]),_:1}),y($,{color:"accent",onClick:t[5]||(t[5]=o=>this.saveImage()),icon:"photo_album",class:"q-pa-sm q-mx-sm"}),y($,{color:"accent",onClick:t[6]||(t[6]=o=>this.saveBookmark()),icon:"bookmark_border",class:"q-pa-sm q-mx-sm"}),y($,{color:"accent",onClick:t[7]||(t[7]=o=>this.toggleSlideShow()),icon:"slideshow",class:"q-pa-sm q-mx-sm"}),y($,{color:"accent",onClick:t[8]||(t[8]=o=>this.cycleFit()),icon:"fit_screen",class:"q-pa-sm q-mx-sm"}),y($,{color:"accent",onClick:t[9]||(t[9]=o=>this.nextImg()),icon:"start",class:"q-pa-sm q-mx-sm"})]),_:1}),y(xe,{position:"bottom",offset:[0,100]},{default:F(()=>[y($,{id:"step1B",round:"",color:"secondary",class:"stepB q-mx-sm readyBorder",onClick:t[10]||(t[10]=o=>this.step1()),icon:"local_library",stack:"","no-caps":"",label:"Read",padding:"sm md"}),y($,{id:"step2B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[11]||(t[11]=o=>this.step2()),icon:"handyman",stack:"","no-caps":"",label:"Fix it",padding:"sm md"}),y($,{id:"step3B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[12]||(t[12]=o=>this.step3()),icon:"spellcheck",stack:"","no-caps":"",label:"Check",padding:"sm md"}),y($,{id:"step4B",round:"",color:"secondary",class:"stepB q-mx-sm",onClick:t[13]||(t[13]=o=>this.step4()),icon:"navigate_next",stack:"","no-caps":"",label:"Next",padding:"sm md"})]),_:1})],64)}var li=Te(ei,[["render",ni]]);const Ue={isCustom:!0,pageid:null,guideWords:"",imgIdx:0,imgs:[{url:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/readingedge_cover.png",cap:"Welcome to Reading Edge"},{url:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Cataratas.jpg",cap:"Iguazu Falls, Brazil"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Rainforest_-_Ituri_%2820874628148%29.jpg/1920px-Rainforest_-_Ituri_%2820874628148%29.jpg",cap:"Ituri Forest, Congo Basin"}],imgFit:"cover",pctReplace:15,pageText:"Welcome to Reading Edge! Read this paragraph carefully, then proceed to Step 2 where you will be asked to reconstruct this same paragraph in order to earn points. The following pages will provide an overview of how everything works.  "},si={isCustom:!0,pageid:null,guideWords:"",imgIdx:0,imgs:[{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Rainforest_-_Ituri_%2820874628148%29.jpg/1920px-Rainforest_-_Ituri_%2820874628148%29.jpg",cap:"Ituri Forest, Congo Basin"},{url:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Cataratas.jpg",cap:"Iguazu Falls, Brazil"},{url:"https://readingedgeca.s3.us-west-1.amazonaws.com/static/pub/img/readingedge_cover.png",cap:"Welcome to Reading Edge"},{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Douglas_DC-3%2C_SE-CFP.jpg/1024px-Douglas_DC-3%2C_SE-CFP.jpg",cap:"Doublas DC-3"}],imgFit:"cover",pctReplace:15,pageText:"By default Reading Edge gets content from Wikipedia. Each page can be completely random, semi-random (based on guidewords), a specific Wikipedia page, or your own custom composition of text and images. The only caveat with images is that they must have a valid url on the internet.  Reading Edge does not store images, just links to the target content. The following slides will continue indefinitely guided by the current guideWords, which you can modify from the control on the right sidebar (TBD).  "},ri={isCustom:!1,pageid:null,guideWords:"liftoff,launch,tall ship,aircraft,boeing,trestle,wave",imgIdx:0,imgs:[],imgFit:"cover",pctReplace:15,pageText:""},ui={title:"Demo Assignment",goal:100,points:0,pgIdx:0,pages:[Ue,si,ri]},ci=$e({name:"GuestPage",components:{StepperComponent:li},setup(e){const t=ke();return{props:e,reStore:t,demoPage:m(Ue),demoAssignment:m(ui)}}});function di(e,t,i,a,r,u){const o=ht("StepperComponent");return Pe(),mt(tt,{id:"QPage",class:"row justify-center"},{default:F(()=>[y(o,{"initial-img-src":this.imgSrc,"initial-img-fit":this.imgFit,"initial-page-obj":this.demoPage,"assignment-obj":this.demoAssignment},null,8,["initial-img-src","initial-img-fit","initial-page-obj","assignment-obj"])]),_:1})}var xi=Te(ci,[["render",di]]);export{xi as default};
