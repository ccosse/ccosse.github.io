import{a5 as defineStore,a6 as useRouter,r as ref}from"./index.6df5a184.js";import{d as dbRT,a as auth,r as ref$1,g as getDatabase,b as get$2,c as child}from"./firebase.8ff914f0.js";function _mergeNamespaces(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dist$1={exports:{}},request={},browser={exports:{}};(function(t,e){var n=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof r!="undefined")return r;throw new Error("unable to locate global object")},r=n();t.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response})(browser,browser.exports);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.citationError=errors.pdfError=errors.fcError=errors.eventsError=errors.mediaError=errors.relatedError=errors.introError=errors.preloadError=errors.infoboxError=errors.coordinatesError=errors.geoSearchError=errors.linksError=errors.categoriesError=errors.contentError=errors.htmlError=errors.imageError=errors.summaryError=errors.pageError=errors.autocompletionsError=errors.searchError=errors.wikiError=void 0;class wikiError extends Error{constructor(e,n){super(e),this.name="wikiError",this.code=n}}errors.wikiError=wikiError;class searchError extends wikiError{constructor(e){super(e),this.name="searchError"}}errors.searchError=searchError;class autocompletionsError extends wikiError{constructor(e){super(e),this.name="autocompletionsError"}}errors.autocompletionsError=autocompletionsError;class pageError extends wikiError{constructor(e){super(e),this.name="pageError"}}errors.pageError=pageError;class summaryError extends wikiError{constructor(e){super(e),this.name="summaryError"}}errors.summaryError=summaryError;class imageError extends wikiError{constructor(e){super(e),this.name="imageError"}}errors.imageError=imageError;class htmlError extends wikiError{constructor(e){super(e),this.name="htmlError"}}errors.htmlError=htmlError;class contentError extends wikiError{constructor(e){super(e),this.name="contentError"}}errors.contentError=contentError;class categoriesError extends wikiError{constructor(e){super(e),this.name="categoriesError"}}errors.categoriesError=categoriesError;class linksError extends wikiError{constructor(e){super(e),this.name="linksError"}}errors.linksError=linksError;class geoSearchError extends wikiError{constructor(e){super(e),this.name="geoSearchError"}}errors.geoSearchError=geoSearchError;class coordinatesError extends wikiError{constructor(e){super(e),this.name="coordinatesError"}}errors.coordinatesError=coordinatesError;class infoboxError extends wikiError{constructor(e){super(e),this.name="infoboxError"}}errors.infoboxError=infoboxError;class preloadError extends wikiError{constructor(e){super(e),this.name="preloadError"}}errors.preloadError=preloadError;class introError extends wikiError{constructor(e){super(e),this.name="introError"}}errors.introError=introError;class relatedError extends wikiError{constructor(e){super(e),this.name="relatedError"}}errors.relatedError=relatedError;class mediaError extends wikiError{constructor(e){super(e),this.name="mediaError"}}errors.mediaError=mediaError;class eventsError extends wikiError{constructor(e){super(e),this.name="eventsError"}}errors.eventsError=eventsError;class fcError extends wikiError{constructor(e){super(e),this.name="featuredContentError"}}errors.fcError=fcError;class pdfError extends wikiError{constructor(e){super(e),this.name="pdfError"}}errors.pdfError=pdfError;class citationError extends wikiError{constructor(e){super(e),this.name="citationError"}}errors.citationError=citationError;Object.defineProperty(request,"__esModule",{value:!0});request.setAPIUrl=request.returnRestUrl=request.makeRestRequest=void 0;const node_fetch_1=browser.exports,errors_1$1=errors;let API_URL="https://en.wikipedia.org/w/api.php?",REST_API_URL="https://en.wikipedia.org/api/rest_v1/";const USER_AGENT="wikipedia (https://github.com/dopecodez/Wikipedia/)";async function makeRequest(t,e=!0){try{const n={...t};n.format="json",e&&(n.redirects=""),t.action||(n.action="query"),n.origin="*";const r={headers:{"Api-User-Agent":USER_AGENT}};let i="";return Object.keys(n).forEach(f=>{i+=`${f}=${n[f]}&`}),await(await(0,node_fetch_1.default)(encodeURI(API_URL+i),r)).json()}catch(n){throw new errors_1$1.wikiError(n)}}async function makeRestRequest(t,e=!0){try{e||(t+="?redirect=false");const n={headers:{"Api-User-Agent":USER_AGENT}};let i=await(await(0,node_fetch_1.default)(encodeURI(REST_API_URL+t),n)).text();try{i=JSON.parse(i)}finally{return i}}catch(n){throw new errors_1$1.wikiError(n)}}request.makeRestRequest=makeRestRequest;function returnRestUrl(t){return encodeURI(REST_API_URL+t)}request.returnRestUrl=returnRestUrl;function setAPIUrl(t){return API_URL="https://"+t.toLowerCase()+".wikipedia.org/w/api.php?",REST_API_URL="https://"+t.toLowerCase()+".wikipedia.org/api/rest_v1/",API_URL}request.setAPIUrl=setAPIUrl;request.default=makeRequest;var page={},utils={},messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.MSGS=void 0;messages.MSGS={PAGE_NOT_SUGGEST:"No page with given title suggested : ",PAGE_NOT_EXIST:"No page with given title exists : ",INFOBOX_NOT_EXIST:"Info cannot be parsed for given page"};Object.defineProperty(utils,"__esModule",{value:!0});utils.getCurrentDay=utils.getCurrentMonth=utils.getCurrentYear=utils.setPageId=utils.setPageIdOrTitleParam=utils.setTitleForPage=utils.isString=void 0;const _1=dist$1.exports,errors_1=errors,messages_1=messages;function isString(t){return isNaN(t)}utils.isString=isString;async function setTitleForPage(t){{const e=await _1.default.search(t,{limit:1,suggestion:!0});if(!e.suggestion&&e.results.length==0)throw new errors_1.pageError(`${messages_1.MSGS.PAGE_NOT_SUGGEST}${t}`);return t=e.suggestion||t,t}}utils.setTitleForPage=setTitleForPage;function setPageIdOrTitleParam(t,e){return isString(e)?t.titles=e:t.pageids=e,t}utils.setPageIdOrTitleParam=setPageIdOrTitleParam;function setPageId(t,e){let n;return t.pageIds?n=t.pageIds:n=Object.keys(e.query.pages)[0],n}utils.setPageId=setPageId;function getCurrentYear(){return new Date().getFullYear()}utils.getCurrentYear=getCurrentYear;function getCurrentMonth(){return new Date().getMonth()+1}utils.getCurrentMonth=getCurrentMonth;function getCurrentDay(){return new Date().getDate()}utils.getCurrentDay=getCurrentDay;function preserveCamelCase(t){let e=!1,n=!1,r=!1;for(let i=0;i<t.length;i++){const o=t[i];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.substr(0,i)+"-"+t.substr(i),e=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.substr(0,i-1)+"-"+t.substr(i-1),r=n,n=!1,e=!0):(e=o.toLowerCase()===o,r=n,n=o.toUpperCase()===o)}return t}var camelcase=function(t){return arguments.length>1?t=Array.from(arguments).map(n=>n.trim()).filter(n=>n.length).join("-"):t=t.trim(),t.length===0?"":t.length===1?t.toLowerCase():/^[a-z0-9]+$/.test(t)?t:(t!==t.toLowerCase()&&(t=preserveCamelCase(t)),t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(n,r)=>r.toUpperCase()))};function _interopDefault(t){return t&&typeof t=="object"&&"default"in t?t.default:t}function trimWrappers(t){return t.replace(/\[\[/g,"").replace(/\]\]/g,"").replace(/\{\{/g,"").replace(/\}\}/g,"").trim()}function trimOr(t){var e=t.indexOf("|");return e!==-1?t.substring(0,e):t}function getValue(t,e){if(!t)return null;var n=t.trim().replace(/File:/,"").replace(/\{\{\d+\}\}/g,"").replace(extraPropertyPattern,"").replace(endingPattern,"");if(n==="y"||n==="yes")return!0;if(e=="birthPlace")return t.trim();var r=n.match(linksPattern);return r?r[0].split(linkSeparatorPattern).filter(function(i){return i}):trimOr(trimWrappers(n))}function dataType(t){var e=t.globalPattern,n=t.parsePattern,r=t.parse,i=t.variable,o=t.name;return function(l){var f=l.match(e);if(!f){var d;return d={},defineProperty(d,o,[]),defineProperty(d,"sourceAfter",l),d}var h=f.map(function(b){return r(b.match(n))}),p=f.reduce(function(b,g,v){return h[v]===DO_NOT_REPLACE?b:b.replace(g,"$"+i+"_"+v)},l);return{data:defineProperty({},o,h),sourceAfter:p}}}function byDataHandler(t,e){var n=t.source,r=t.context,i=e(n),o=i.data,l=i.sourceAfter;return{context:Object.assign({},r,o),source:l}}function extractData(t){return dataTypes$1.map(function(e){return e.handler}).reduce(byDataHandler,{context:{},source:t})}function findPropertyList(t){var e=t.match(keyValueGlobalPattern);return e?e.map(function(n){var r=keyValuePattern.exec(n);if(!r)return null;var i=slicedToArray(r,3),o=i[1],l=i[2],f=camelCase(o.trim());return{key:f,value:getValue(l,f)}}).filter(function(n){return n}):[]}function fillVariable(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.simplifyDataValues;if(typeof t!="string")return console.log("Warning: Something went wrong. Could not fill variables in: ("+(t===void 0?"undefined":_typeof(t))+") "+JSON.stringify(t)),{};var i=dataTypes$1.find(function(p){return t.match(p.pattern)});if(i){var o=i.pattern.exec(t),l=slicedToArray(o,2),f=l[0],d=l[1],h=e[i.name][parseInt(d,10)];return r||typeof h!="string"?h:t.replace(f,h)}return t}function fillVariables(t,e,n){if(t===void 0||t instanceof Date||typeof t=="number")return t;if(Array.isArray(t))return t.map(function(i){return fillVariables(i,e,n)});if((t===void 0?"undefined":_typeof(t))==="object")return Object.keys(t).reduce(function(i,o){return Object.assign(i,defineProperty({},o,fillVariables(t[o],e,n)))},{});var r=fillVariable(t,e,n);return r===t?t:fillVariables(r,e,n)}function handleSmallData(t,e,n){var r=n.simplifyDataValues;if(typeof t=="string"&&t.match(smallDataType.pattern)){var i=t.replace(smallDataType.pattern,"").replace(/,/,"").trim(),o=smallDataType.pattern.exec(t),l=slicedToArray(o,2),f=l[1],d=e[smallDataType.name][parseInt(f,10)],h={primary:getVariableValue(i,e,{simplifyDataValues:r}),secondary:getVariableValue(d,e,{simplifyDataValues:r})};return r?h.primary:h}return null}function getVariableValue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.simplifyDataValues,i=handleSmallData(t,e,{simplifyDataValues:r});return i||fillVariables(t,e,{simplifyDataValues:r})}function reduceVariable(t,e,n,r){if(e===null)return null;if(typeof e=="boolean")return e;if(Array.isArray(e))return e.map(function(f){return getVariableValue(f,n,r)});if(t.match(/areaTotal/)||t.match(/population/)){var i=numberParse(e);if(i===!1&&(i=parseFloat(e,10)),!isNaN(i))return i}if(t.match(/date/i)){var o=+new Date(e);if(!isNaN(o))return new Date(e)}var l=getVariableValue(e,n,r);return Array.isArray(l)?l.map(function(f){return getVariableValue(f,n,r)}):l}function byVariableReduction(t,e){return function(n,r){var i=r.key,o=r.value,l=reduceVariable(i,o,t,e);return l===""||l===null?n:Object.assign({},n,defineProperty({},i,l))}}function extractProperties(t){var e=t.source,n=t.context,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.simplifyDataValues,o=i===void 0||i;return findPropertyList(e).reduce(byVariableReduction(n,{simplifyDataValues:o}),{})}function transformProperties(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=n.match(blankNamePattern);if(i){var o=i[1]||"",l=t["blank"+o+"NameSec2"],f=t["blank"+o+"InfoSec2"];return typeof l!="string"?e:Object.assign(e,defineProperty({},camelCase(l),f))}return n.match(blankInfoPattern)?e:Object.assign(e,defineProperty({},n,r))},{})}function findOuterIndex(t){for(var e=[],n=0;n<t.length-1;n++){var r=t.substr(n,2);if(r!=="{{"){if(r==="}}"){if(e.pop(),e.length===0)return n+2;n++}}else e.push(n),n++}}function parse(t){var e=t.match(infoBoxStartPattern);if(!e)return{data:t,sourceLeft:null};var n=e.index,r=t.substring(n),i=findOuterIndex(r);if(!i)return{data:t,sourceLeft:null};var o=r.substring(0,i),l=t.substring(i);return{data:o,sourceLeft:l.match(infoBoxStartPattern)?l:null}}function extractInfoboxes(t){for(var e=parse(t),n=[e.data];e.sourceLeft;)e=parse(e.sourceLeft),n.push(e.data);return n}function cleanSource(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.removeSmall,r=n!==void 0&&n,i=e.removeReferences;return(i===void 0||i)&&(t=t.replace(/<ref(\s\w+=[^>]+)?>.*<\/ref>/g,"").replace(/<ref(\s\w+=[^>]+)?\s?\/>/g,"")),r&&(t=t.replace(/<small>.*<\/small>/g,"")),t.replace(/'''?/g,"").replace(/\|display=inline/g,"").replace(/<br\s?\/?>/g,",").replace(/&minus;/g,"-").replace(/<sup>/g,"^").replace(/\{\{sfn\|([^\}\}]+)\}\}/g,"").replace(/\{\{efn\|([^\}\}]+)\}\}/g,"").replace(/âˆ’/g,"-").replace(/<\/sup>/g,"").replace(/\{\{\s*nowrap\s*\|([^\n\}]+)\}\}/gi,"$1").replace(/<!--([\s\S]*?)-->/g,"").replace(/&nbsp;/g," ").replace("|''See list''","")}function transformRowSpan(t){return t.map(transformCells).reduce(function(e,n,r){for(var i=r===0?0:1,o=0;o<n.length;o++)e[o+i]||(e[o+i]={}),n[o]&&(e[o+i][n[o]]=1);return e},[]).map(function(e){return Object.keys(e).join(",")}).join(" || ")}function clean(t){return t.substring(2,t.length-2).replace(linkPattern$1,function(e,n){return n.split("|")[0]}).replace(/'''?/g,"")}function parseRow(t){var e=t[0].match(/BS(\d)/),n=t[0].substring(2),r=1,i=[],o=1;for(e&&(r=e[1],n=t[0].substring(3));o<=r;o++)i.push(t[o]);return{type:n,margin:t[o++],text1:t[o++],text2:t[o++],comment:t[o++],icons:i}}function getMatches(t,e){for(var n=void 0,r=[];(n=e.exec(t))!==null;)r.push({value:n[1]&&n[1].trim(),start:n.index,end:n.index+n[0].length});return r}function parseTableData(t){var e=t.match(rowPattern$1);return e?e.map(function(n){var r=n.match(rowPatternSingle);return slicedToArray(r,2)[1].trim().split("|").slice(1)}):[]}function getTables(t){var e=getMatches(t,tableStartPattern$1),n=getMatches(t,tableEndPattern$1);return e.map(function(r,i){var o=n[i];if(!o)throw new Error("[Table Parsing] Failed to pair table");return{rows:parseTableData(t.substring(r.end,o.start).trim().replace(/'''/g,"")),start:r.start,end:o.end}})}function last(t){return t.length?t[t.length-1]:void 0}function parseInfobox(t,e){var n=extractInfoboxes(t).map(function(i){return transformProperties(extractProperties(extractData(cleanSource(i,e)),e))});if(!n.length)return{};var r={general:n.shift()};return n.forEach(function(i){var o=i.type;o?r[camelCase(o)]=i:Object.assign(r,{general:Object.assign({},r.general,i)})}),r.tables=parseTables(t),r.bsTables=parseBsTables(t),r.lists=parseLists(t),r}var camelCase=_interopDefault(camelcase),_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},slicedToArray=function(){function t(e,n){var r=[],i=!0,o=!1,l=void 0;try{for(var f,d=e[Symbol.iterator]();!(i=(f=d.next()).done)&&(r.push(f.value),!n||r.length!==n);i=!0);}catch(h){o=!0,l=h}finally{try{!i&&d.return&&d.return()}finally{if(o)throw l}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},smallGlobalPattern=/\{\{small\|([^\}\}]+)\}\}/g,smallPattern=/small\|([^\}\}]+)\}\}/,small={globalPattern:smallGlobalPattern,parsePattern:smallPattern,parse:function(t){return slicedToArray(t,2)[1]},variable:"SMALL",name:"smalls"},flagGlobalPattern=/\{\{flag\|([^\}\}]+)\}\}/g,flagPattern=/flag\|([^\}\}]+)\}\}/,flag={globalPattern:flagGlobalPattern,parsePattern:flagPattern,parse:function(t){return slicedToArray(t,2)[1]},variable:"FLAG",name:"flags"},coordsGlobalPattern=/\{\{coord\|([^\}\}]+)\}\}/g,coordsPattern=/coord\|([^\}\}]+)\}\}/,coords={globalPattern:coordsGlobalPattern,parsePattern:coordsPattern,parse:function(t){return slicedToArray(t,2)[1]},variable:"COORD",name:"coords"},globalPattern=/\[\[([^\]\|]+)\|?([^\]]+)?\]\]/g,pattern=/\[\[([^\]\|]+)\|?([^\]]+)?\]\]/,instances={globalPattern,parsePattern:pattern,parse:function(t){var e=slicedToArray(t,3),n=e[1],r=e[2];return n||r},variable:"INSTANCE",name:"instances"},extraPropertyPattern=/\n?\s?\|\s?\w+$/,endingPattern=/\n\}\}$/,linksPattern=/((\$\w+_\d+)\s*,?\s*){2,}/g,linkSeparatorPattern=/[,\s?]/g,listItemPrefixPattern=/^\|\s?/,unbulletedListGlobalPattern=/\{\{(?:unbulleted list|ubl|ubt|ublist|unbullet)\s?\|([^\}\}]+)\}\}/gi,unbulletedListItemPattern=/\|\s*([^|}]+)/g,unbulletedLists={globalPattern:unbulletedListGlobalPattern,parsePattern:unbulletedListItemPattern,parse:function(t){return t?t.map(function(e){return e.replace(listItemPrefixPattern,"").trim()}).filter(function(e){return e&&e.length}):[]},variable:"UNBULLETED_LIST",name:"unbulletedLists"},listItemPrefixPattern$1=/^\*\s*/,plainListGlobalPattern=/\n(\*\s*[^*|]+)+/g,plainListItemPattern=/\*\s*([^*|]+)/g,unmarkedLists={globalPattern:plainListGlobalPattern,parsePattern:plainListItemPattern,parse:function(t){return t?t.map(function(e){return e.replace(listItemPrefixPattern$1,"").trim()}).filter(function(e){return e&&e.length}):[]},variable:"UNMARKED_LIST",name:"unmarkedLists"},listItemPrefixPattern$2=/^\*\s?/,plainListGlobalPattern$1=/\{\{f?p?P?l?a?i?n?t?\s?list\s?\|([^\}\}]+)\}\}/g,plainListItemPattern$1=/\*\s*([^*}]+)/g,plainLists={globalPattern:plainListGlobalPattern$1,parsePattern:plainListItemPattern$1,parse:function(t){return t?t.map(function(e){return e.replace(listItemPrefixPattern$2,"").trim()}).filter(function(e){return e&&e.length}):[]},variable:"PLAIN_LIST",name:"plainLists"},marriageGlobalPattern=/\{\{Marriage\|([^\}\}]+)\}\}/gi,marriagePattern=/Marriage\|([^|]+)\|(.*)\}\}/i,marriages={globalPattern:marriageGlobalPattern,parsePattern:marriagePattern,parse:function(t){var e=slicedToArray(t,3);return{who:e[1],married:e[2]}},variable:"MARRIAGE",name:"marriages"},nbayGlobalPattern=/\{\{nbay\|([^\}\}]+)\}\}/gi,nbayPattern=/nbay\|([^|]+)\|(.*)\}\}/i,nbay={globalPattern:nbayGlobalPattern,parsePattern:nbayPattern,parse:function(t){var e=slicedToArray(t,3),n=e[1];return e[2],n},variable:"nbay",name:"nbay"},otherGlobalPattern=/\{\{([^|\n]+)\|([^|\n]+)\|?([^\}\n]+)?\}\}/g,otherPattern=/\{\{([^|\n]+)\|([^|\n]+)\|?([^\}\n]+)?\}\}/,other={globalPattern:otherGlobalPattern,parsePattern:otherPattern,parse:function(t){var e=slicedToArray(t,4),n=e[1];return e[2],e[3],n},variable:"OTHER",name:"others"},hlistGlobalPattern=/\{\{hlist\|([^\}\}]+)\}\}/gi,hlistPattern=/hlist\|(.*)\n?\}\}/i,hlist={globalPattern:hlistGlobalPattern,parsePattern:hlistPattern,parse:function(t){return slicedToArray(t,2)[1].split("|")},variable:"HLIST",name:"hlists"},birthDateGlobalPattern=/\{\{birth\sdate([^\}\}]+)\}\}/gi,birthDatePattern=/(\d+)\|(\d+)\|(\d+)/,millisInYear=31536e6,birthDates={globalPattern:birthDateGlobalPattern,parsePattern:birthDatePattern,parse:function(t){var e=slicedToArray(t,4),n=e[1],r=e[2],i=e[3],o=new Date(n,r-1,i);return{date:o,age:Math.floor((Date.now()-+o)/millisInYear)}},variable:"BIRTH_DATE",name:"birthDates"},DO_NOT_REPLACE=Symbol("DO NOT REPLACE"),labeledDateGlobalPattern=/\{\{([^\n\}\}]+)\}\}/g,labeledDatePattern=/(.*)/,labeledDates={globalPattern:labeledDateGlobalPattern,parsePattern:labeledDatePattern,parse:function(t){var e=t[0].indexOf("|");if(e>-1){var n=t[0].substring(e+1).slice(0,-2),r=new Date(n+" GMT");if(!isNaN(r.getTime()))return{date:r};if(r=new Date(n.split("|").join("-")+" GMT"),!isNaN(r.getTime()))return{date:r}}return DO_NOT_REPLACE},variable:"LABELED_DATE",name:"labeledDates"},deathDateGlobalPattern=/\{\{death\sdate\sand\sage([^\}\}]+)\}\}/gi,deathDatePattern=/(\d+)\|(\d+)\|(\d+)\|(\d+)\|?(\d+)?\|?(\d+)?/,millisInYear$1=31536e6,deathDates={globalPattern:deathDateGlobalPattern,parsePattern:deathDatePattern,parse:function(t){var e=slicedToArray(t,7),n=e[1],r=e[2],i=e[3],o=e[4],l=e[5],f=l===void 0?0:l,d=e[6],h=d===void 0?0:d,p=new Date(n,r-1,i),b=new Date(o,f-1,h);return{date:p,age:Math.floor((Number(p)-Number(b))/millisInYear$1)}},variable:"DEATH_DATE",name:"deathDates"},URLGlobalPattern=/\{\{URL\|([^\}\}]+)\}\}/g,URLPattern=/URL\|([^\}\}]+)\}\}/,url={globalPattern:URLGlobalPattern,parsePattern:URLPattern,parse:function(t){return slicedToArray(t,2)[1]},variable:"URL",name:"urls"},websiteGlobalPattern=/\[(https?):\/\/((?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)\s+([\w\s]+)\]/g,websitePattern=/\[(https?):\/\/((?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6})\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)\s+([\w\s]+)\]/,website={globalPattern:websiteGlobalPattern,parsePattern:websitePattern,parse:function(t){var e=slicedToArray(t,5),n=e[1],r=e[2],i=e[3];return{protocol:n,hostname:r,path:i,title:e[4],url:n+"://"+r+i}},variable:"WEBSITE",name:"websites"},globalPattern$1=/\{\{Extra[^}}]+\}\}/gi,parsePattern=/\|\s?(\w+)\s+=\s+(.+)/g,propPattern=/\|\s?(\w+)\s+=\s+(.+)/,extra={globalPattern:globalPattern$1,parsePattern,parse:function(t){return t.reduce(function(e,n){var r=n.match(propPattern),i=slicedToArray(r,3),o=i[1],l=i[2];return e[o]=l,e},{})},variable:"EXTRA",name:"extra"},convertGlobalPattern=/\{\{convert\|([\d\.]+)\|(\w+)/g,convertPattern=/\{\{convert\|([\d\.]+)\|(\w+)/,convert={globalPattern:convertGlobalPattern,parsePattern:convertPattern,parse:function(t){var e=slicedToArray(t,3);return e[1]+" "+e[2]},variable:"CONVERT",name:"converts"},filmDatesPattern=/\{\{film\sdate([^\}\}]+)\}\}/gi,filmDatePatternGlobal=/(\d+)\|?(\d+)\|?(\d+)\|?([^\|\}]*)\|?(ref\d+=([^\|\}]*))?/g,filmDatePattern=/(\d+)\|?(\d+)\|?(\d+)\|?([^\|\}]*)\|?(ref\d+=([^\|\}]*))?/,filmDates={globalPattern:filmDatesPattern,parsePattern:filmDatePatternGlobal,parse:function(t){return t.map(function(e){var n=e.match(filmDatePattern),r=slicedToArray(n,7),i=(r[0],r[1]),o=r[2],l=r[3],f=r[4],d=(r[5],r[6]);return{date:new Date(i,o&&o-1,l),location:f,ref:d}})},variable:"FILM_DATES",name:"filmDates"},otherGlobalPattern$1=/<ref(\s\w+=[^>]+)?>(.*)<\/ref>/g,otherPattern$1=/<ref(\s\w+=[^>]+)?>(.*)<\/ref>/,attributeGlobalPattern=/(\w+)=(["\w]+)/g,attributePattern=/(\w+)=(["\w]+)/,ref1={globalPattern:otherGlobalPattern$1,parsePattern:otherPattern$1,parse:function(t){var e=slicedToArray(t,3),n=(e[0],e[1]),r=e[2];return{attributes:((n||"").match(attributeGlobalPattern)||[]).reduce(function(i,o){if(o){var l=o.match(attributePattern),f=slicedToArray(l,3),d=(f[0],f[1]),h=f[2];i[d]=h.replace(/"/g,"")}return i},{}),contents:r}},variable:"REF",name:"refs"},otherGlobalPattern$2=/<ref(\s\w+=[^>]+)?\/>/g,otherPattern$2=/<ref(\s\w+=[^>]+)?\/>/,attributeGlobalPattern$1=/(\w+)=(["\w]+)/g,attributePattern$1=/(\w+)=(["\w]+)/,ref2={globalPattern:otherGlobalPattern$2,parsePattern:otherPattern$2,parse:function(t){return{attributes:t[1].match(attributeGlobalPattern$1).reduce(function(e,n){var r=n.match(attributePattern$1),i=slicedToArray(r,3),o=(i[0],i[1]),l=i[2];return e[o]=l.replace(/"/g,""),e},{})}},variable:"REF",name:"refs"},globalPattern$2=/\{\{formatnum:\d+\}\}/gi,parsePattern$1=/\{\{formatnum:(\d+)\}\}/,formatNum={globalPattern:globalPattern$2,parsePattern:parsePattern$1,parse:function(t){var e=slicedToArray(t,2),n=e[1];return parseFloat(n)},variable:"FORMAT_NUM",name:"formatNum"},dataTypes=[instances,ref1,ref2,small,formatNum,flag,coords,marriages,birthDates,labeledDates,deathDates,unbulletedLists,website,hlist,url,convert,nbay,filmDates,other,extra,plainLists,unmarkedLists],dataTypes$1=dataTypes.map(function(t){return{handler:dataType(t),name:t.name,pattern:new RegExp("\\$"+t.variable+"_(\\d+)")}}),keyValueGlobalPattern=/\|\s*([-'\u0400-\u04FF\w\s]+)\s*=\s*([^|]+)?/g,keyValuePattern=/\|\s*([-'\u0400-\u04FF\w\s]+)\s*=\s*([^|]+)?/,numberParse=function(t){return typeof t=="string"&&(t=t.trim().replace(/ /g,""),t.match(/,/)&&t.match(/\./)?t.indexOf(",")<t.indexOf(".")?parseEnglish(t):parseSpanish(t):t.match(/,/)&&!t.match(/\./)?t.match(/,/g).length>1||t.match(/,[0-9]{3}($|^[0-9])/)?parseEnglish(t):parseSpanish(t):!t.match(/,/)&&t.match(/\./)?t.match(/\./g).length>1||t.match(/\.[0-9]{3}($|^[0-9])/)?parseSpanish(t):parseEnglish(t):(+t).toString()===t&&+t)},parseEnglish=function(t){return+t.replace(/,/g,"")},parseSpanish=function(t){return+t.replace(/\./g,"").replace(/,/g,".")},smallDataType=dataTypes$1.find(function(t){return t.name==="smalls"}),blankNamePattern=/blank(\d+)?NameSec2/,blankInfoPattern=/blank(\d+)?InfoSec2/,infoBoxStartPattern=/{{\w*box/,tableStartPattern=/{\|(.*)\n?/,tableEndPattern=/\n\|}/,headersPattern=/!\s?(.*)/g,rowPattern=/\|-/,cellSeparatorPattern=/(?:\n\|)|(?:\|\|)/,linkPattern=/\[\[([^\]]+)\]\]/g,linkNamePattern=/^.*\|/,inlineHeaderPattern="!!",actionPattern=/{{anchor\|(.*)}}/g,rowSpanCountPattern=/rowspan="(\d+)"/,stripLinks=function(t){return t.replace(linkPattern,function(e,n){return n.replace(linkNamePattern,"").trim()||n})},removeActions=function(t){return t.replace(actionPattern,"")},transformCell=function(t){return stripLinks(removeActions(t||"")).replace(rowSpanCountPattern,"").replace(linkNamePattern,"").trim()},transformCells=function(t){return t.split(cellSeparatorPattern).map(transformCell)},findIndex=function(t,e){var n=t.match(e);return n?n.index:-1},findTableStart=function(t){var e=t.match(tableStartPattern);return e?e.index+e[0].length:-1},findTableEnd=function(t){return findIndex(t,tableEndPattern)},getHeaders=function(t){for(var e=[],n=void 0;n=headersPattern.exec(t);)e.push.apply(e,toConsumableArray(n[1].split(inlineHeaderPattern).map(transformCell)));return e},getRows=function(t){var e=t.split(rowPattern).map(function(v){return v.replace(/^.*\n+?\|/,"").trim()}).filter(function(v){return v}),n=[],r=0,i=0,o=[],l=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var b=h.value,g=b.match(rowSpanCountPattern);g&&(r=0,i=parseInt(g[1]),o=[]),r<i?(o.push(b),++r===i&&n.push(transformRowSpan(o))):n.push(b)}}catch(v){f=!0,d=v}finally{try{!l&&p.return&&p.return()}finally{if(f)throw d}}return n},getNextTable=function(t,e,n){var r=t,i=findTableStart(r);if(i===-1)return null;r=r.substring(i);var o=findTableEnd(r);if(o===-1)return null;r=r.substring(0,o);var l=getRows(r);if(!l.length)return null;var f=getHeaders(l[0]);return f.length?{data:l.slice(1).map(transformCells).map(function(d){return f.reduce(function(h,p,b){return h[camelCase(fillVariable(p,e,n))]=fillVariables(d[b],e,n),h},{})}),end:i+o}:null},parseTables=function(t,e){for(var n=cleanSource(t,e),r=extractData(n),i=[],o=r.source,l=null;l=getNextTable(o,r.context,e);){if(!l)return i;i.push(l.data),o=o.substring(l.end)}return i},linkPattern$1=/\[\[([^\]]+)\]\]/g,kmPattern=/{{BSkm\|([\dx]+,[\dx]+)\|([\dx]+,[\dx]+)}}/g,parseBsTables=function(t){var e=t.replace(kmPattern,"$1/$2").match(/{{BS([^}}]+)}}/g);return e?e.map(function(n){return clean(n).split("|")}).map(parseRow).filter(function(n){return n.type[0]!=="-"}):null},headingPattern=/[^=]==\s?([\w\s]+)\s?==/g,subheadingPattern=/===([\w\s]+)===/g,tableStartPattern$1=/{{list.+start.*}}/gi,tableEndPattern$1=/{{list.+end.*}}/gi,rowPattern$1=/{{(.*)}}/g,rowPatternSingle=/{{(.*)}}/,parseLists=function(t){var e=getMatches(t,headingPattern),n=getMatches(t,subheadingPattern),r=getTables(t);return r.forEach(function(i){var o=e.filter(function(f){return f.end<i.start}).map(function(f){return f.value});i.heading=last(o);var l=n.filter(function(f){return f.end<i.start}).map(function(f){return f.value});i.subheading=last(l),delete i.start,delete i.end}),r},bundle_min=parseInfobox;(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.citation=exports.pdf=exports.mobileHtml=exports.media=exports.related=exports.summary=exports.rawInfo=exports.tables=exports.infobox=exports.langLinks=exports.coordinates=exports.references=exports.links=exports.categories=exports.content=exports.html=exports.intro=exports.images=exports.Page=void 0;const errors_1=errors,request_1=request,utils_1=utils,messages_1=messages,infoboxParser=bundle_min;class Page{constructor(t){this.intro=async e=>{try{if(!this._intro){const n=await(0,exports.intro)(this.pageid.toString(),e==null?void 0:e.redirect);this._intro=n}return this._intro}catch(n){throw new errors_1.introError(n)}},this.images=async e=>{try{if(!this._images){const n=await(0,exports.images)(this.pageid.toString(),e);this._images=n}return this._images}catch(n){throw new errors_1.imageError(n)}},this.summary=async e=>{try{if(!this._summary){const n=await(0,exports.summary)(this.title,e==null?void 0:e.redirect);this._summary=n}return this._summary}catch(n){throw new errors_1.summaryError(n)}},this.html=async e=>{try{if(!this._html){const n=await(0,exports.html)(this.pageid.toString(),e==null?void 0:e.redirect);this._html=n}return this._html}catch(n){throw new errors_1.htmlError(n)}},this.content=async e=>{try{if(!this._content){const n=await(0,exports.content)(this.pageid.toString(),e==null?void 0:e.redirect);this.parentid=n.ids.parentId,this.revid=n.ids.revId,this._content=n.result}return this._content}catch(n){throw new errors_1.contentError(n)}},this.categories=async e=>{try{if(!this._categories){const n=await(0,exports.categories)(this.pageid.toString(),e);this._categories=n}return this._categories}catch(n){throw new errors_1.categoriesError(n)}},this.links=async e=>{try{if(!this._links){const n=await(0,exports.links)(this.pageid.toString(),e);this._links=n}return this._links}catch(n){throw new errors_1.linksError(n)}},this.references=async e=>{try{if(!this._references){const n=await(0,exports.references)(this.pageid.toString(),e);this._references=n}return this._references}catch(n){throw new errors_1.linksError(n)}},this.coordinates=async e=>{try{if(!this._coordinates){const n=await(0,exports.coordinates)(this.pageid.toString(),e==null?void 0:e.redirect);this._coordinates=n}return this._coordinates}catch(n){throw new errors_1.coordinatesError(n)}},this.langLinks=async e=>{try{if(!this._langLinks){const n=await(0,exports.langLinks)(this.pageid.toString(),e);this._langLinks=n}return this._langLinks}catch(n){throw new errors_1.linksError(n)}},this.infobox=async e=>{try{if(!this._infobox){const n=await(0,exports.infobox)(this.pageid.toString(),e==null?void 0:e.redirect);this._infobox=n}return this._infobox}catch(n){throw new errors_1.infoboxError(n)}},this.tables=async e=>{try{if(!this._tables){const n=await(0,exports.tables)(this.pageid.toString(),e==null?void 0:e.redirect);this._tables=n}return this._tables}catch(n){throw new errors_1.infoboxError(n)}},this.related=async e=>{try{if(!this._related){const n=await(0,exports.related)(this.title,e==null?void 0:e.redirect);this._related=n}return this._related}catch(n){throw new errors_1.relatedError(n)}},this.media=async e=>{try{if(!this._media){const n=await(0,exports.media)(this.title,e==null?void 0:e.redirect);this._media=n}return this._media}catch(n){throw new errors_1.mediaError(n)}},this.mobileHtml=async e=>{try{if(!this._mobileHtml){const n=await(0,exports.mobileHtml)(this.title,e==null?void 0:e.redirect);this._mobileHtml=n}return this._mobileHtml}catch(n){throw new errors_1.htmlError(n)}},this.pdf=async e=>{try{return await(0,exports.pdf)(this.title,e)}catch(n){throw new errors_1.pdfError(n)}},this.pageid=t.pageid,this.ns=t.ns,this.title=t.title,this.contentmodel=t.contentmodel,this.pagelanguage=t.pagelanguage,this.pagelanguagedir=t.pagelanguagedir,this.touched=t.touched,this.lastrevid=t.lastrevid,this.length=t.length,this.fullurl=t.fullurl,this.editurl=t.editurl,this.canonicalurl=t.canonicalurl}async runMethod(functionName){try{const result=await eval(`this.${functionName}()`);return result}catch(t){throw new errors_1.preloadError(t)}}}exports.Page=Page;const images=async(t,e)=>{try{let n={generator:"images",gimlimit:(e==null?void 0:e.limit)||5,prop:"imageinfo",iiprop:"url"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e==null?void 0:e.redirect),i=[],o=Object.keys(r.query.pages);for(const l of o){const f=r.query.pages[l];f.url=f.imageinfo[0].url,i.push(f)}return i}catch(n){throw new errors_1.imageError(n)}};exports.images=images;const intro=async(t,e=!0)=>{var n;try{let r={prop:"extracts",explaintext:"",exintro:""};r=(0,utils_1.setPageIdOrTitleParam)(r,t);const i=await(0,request_1.default)(r,e),o=(0,utils_1.setPageId)(r,i);return(n=i==null?void 0:i.query)===null||n===void 0?void 0:n.pages[o].extract}catch(r){throw new errors_1.introError(r)}};exports.intro=intro;const html=async(t,e=!0)=>{try{let n={prop:"revisions",rvprop:"content",rvlimit:1,rvparse:""};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e),i=(0,utils_1.setPageId)(n,r);return r.query.pages[i].revisions[0]["*"]}catch(n){throw new errors_1.htmlError(n)}};exports.html=html;const content=async(t,e=!0)=>{try{let n={prop:"extracts|revisions",explaintext:"",rvprop:"ids"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e),i=(0,utils_1.setPageId)(n,r),o=r.query.pages[i].extract,l={revisionId:r.query.pages[i].revisions[0].revid,parentId:r.query.pages[i].revisions[0].parentid};return{result:o,ids:l}}catch(n){throw new errors_1.contentError(n)}};exports.content=content;const categories=async(t,e)=>{try{let n={prop:"categories",pllimit:e==null?void 0:e.limit};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e==null?void 0:e.redirect),i=(0,utils_1.setPageId)(n,r);return r.query.pages[i].categories.map(o=>o.title)}catch(n){throw new errors_1.categoriesError(n)}};exports.categories=categories;const links=async(t,e)=>{try{let n={prop:"links",plnamespace:0,pllimit:(e==null?void 0:e.limit)||"max"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e==null?void 0:e.redirect),i=(0,utils_1.setPageId)(n,r);return r.query.pages[i].links.map(l=>l.title)}catch(n){throw new errors_1.linksError(n)}};exports.links=links;const references=async(t,e)=>{try{let n={prop:"extlinks",ellimit:(e==null?void 0:e.limit)||"max"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e==null?void 0:e.redirect),i=(0,utils_1.setPageId)(n,r);return r.query.pages[i].extlinks.map(l=>l["*"])}catch(n){throw new errors_1.linksError(n)}};exports.references=references;const coordinates=async(t,e=!0)=>{try{let n={prop:"coordinates"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e),i=(0,utils_1.setPageId)(n,r),o=r.query.pages[i].coordinates;return o?o[0]:null}catch(n){throw new errors_1.coordinatesError(n)}};exports.coordinates=coordinates;const langLinks=async(t,e)=>{try{let n={prop:"langlinks",lllimit:(e==null?void 0:e.limit)||"max",llprop:"url"};n=(0,utils_1.setPageIdOrTitleParam)(n,t);const r=await(0,request_1.default)(n,e==null?void 0:e.redirect),i=(0,utils_1.setPageId)(n,r);return r.query.pages[i].langlinks.map(l=>({lang:l.lang,title:l["*"],url:l.url}))}catch(n){throw new errors_1.linksError(n)}};exports.langLinks=langLinks;const infobox=async(t,e=!0)=>{try{const n={prop:"revisions",rvprop:"content",rvsection:0},r=await(0,exports.rawInfo)(t,n,e);return infoboxParser(r).general}catch(n){throw new errors_1.infoboxError(n)}};exports.infobox=infobox;const tables=async(t,e=!0)=>{try{const n={prop:"revisions",rvprop:"content"},r=await(0,exports.rawInfo)(t,n,e);return infoboxParser(r).tables}catch(n){throw new errors_1.infoboxError(n)}};exports.tables=tables;const rawInfo=async(t,e,n=!0)=>{var r;try{e=(0,utils_1.setPageIdOrTitleParam)(e,t);const i=await(0,request_1.default)(e,n);if(!(!((r=i.query)===null||r===void 0)&&r.pages))throw new errors_1.wikiError(messages_1.MSGS.INFOBOX_NOT_EXIST);const o=(0,utils_1.setPageId)(e,i),l=i.query.pages[o].revisions[0];return l?l["*"]:""}catch(i){throw new errors_1.infoboxError(i)}};exports.rawInfo=rawInfo;const summary=async(t,e=!0)=>{try{const n="page/summary/"+t.replace(" ","_");return await(0,request_1.makeRestRequest)(n,e)}catch(n){throw new errors_1.summaryError(n)}};exports.summary=summary;const related=async(t,e=!0)=>{try{const n="page/related/"+t.replace(" ","_");return await(0,request_1.makeRestRequest)(n,e)}catch(n){throw new errors_1.relatedError(n)}};exports.related=related;const media=async(t,e=!0)=>{try{const n="page/media-list/"+t.replace(" ","_");return await(0,request_1.makeRestRequest)(n,e)}catch(n){throw new errors_1.mediaError(n)}};exports.media=media;const mobileHtml=async(t,e=!0)=>{try{const n=`page/mobile-html/${t}`;return await(0,request_1.makeRestRequest)(n,e)}catch(n){throw new errors_1.htmlError(n)}};exports.mobileHtml=mobileHtml;const pdf=async(t,e)=>{try{let n=`page/pdf/${t}`;return e!=null&&e.format&&(n+=`/${e.format}`),e!=null&&e.type&&(n+=`/${e.type}`),(0,request_1.returnRestUrl)(n)}catch(n){throw new errors_1.pdfError(n)}};exports.pdf=pdf;const citation=async(t,e,n)=>{try{let r="data/citation";return r+=e?`/${e}`:"/mediawiki",r+=`/${t}`,n&&(r+=`/${n}`),await(0,request_1.makeRestRequest)(r)}catch(r){throw new errors_1.citationError(r)}};exports.citation=citation,exports.default=Page})(page);var resultTypes={};Object.defineProperty(resultTypes,"__esModule",{value:!0});var optionTypes={};Object.defineProperty(optionTypes,"__esModule",{value:!0});(function(t,e){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(p,b,g,v){v===void 0&&(v=g);var _=Object.getOwnPropertyDescriptor(b,g);(!_||("get"in _?!b.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return b[g]}}),Object.defineProperty(p,v,_)}:function(p,b,g,v){v===void 0&&(v=g),p[v]=b[g]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(p,b){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(b,g)&&n(b,p,g)};Object.defineProperty(e,"__esModule",{value:!0});const i=request,o=page,l=errors,f=messages,d=utils,h=async(p,b)=>h.page(p,b);h.search=async(p,b)=>{try{const g={list:"search",srprop:"",srlimit:(b==null?void 0:b.limit)||10,srsearch:p};b!=null&&b.suggestion&&(g.srinfo="suggestion");const v=await(0,i.default)(g);return{results:v.query.search,suggestion:v.query.searchinfo?v.query.searchinfo.suggestion:null}}catch(g){throw new l.searchError(g)}},h.page=async(p,b)=>{try{b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p));let g={prop:"info|pageprops",inprop:"url",ppprop:"disambiguation"};g=(0,d.setPageIdOrTitleParam)(g,p);const v=await(0,i.default)(g);let _=v.query.pages;const w=(0,d.setPageId)(g,v);if(_=_[w],_.missing=="")throw new l.pageError(`${f.MSGS.PAGE_NOT_EXIST}${p}`);const $=new o.default(_);if(b!=null&&b.preload){b!=null&&b.fields||(b.fields=["summary","images"]);for(const S of b.fields)await $.runMethod(S)}return $}catch(g){throw new l.pageError(g)}},h.intro=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.intro)(p,b==null?void 0:b.redirect)}catch(g){throw new l.introError(g)}},h.images=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.images)(p,b)}catch(g){throw new l.imageError(g)}},h.summary=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.summary)(p,b==null?void 0:b.redirect)}catch(g){throw new l.summaryError(g)}},h.html=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.html)(p,b==null?void 0:b.redirect)}catch(g){throw new l.htmlError(g)}},h.content=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),(await(0,o.content)(p,b==null?void 0:b.redirect)).result}catch(g){throw new l.contentError(g)}},h.categories=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.categories)(p,b)}catch(g){throw new l.categoriesError(g)}},h.related=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.related)(p,b==null?void 0:b.redirect)}catch(g){throw new l.relatedError(g)}},h.media=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.media)(p,b==null?void 0:b.redirect)}catch(g){throw new l.mediaError(g)}},h.links=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.links)(p,b)}catch(g){throw new l.linksError(g)}},h.references=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.references)(p,b)}catch(g){throw new l.linksError(g)}},h.coordinates=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.coordinates)(p,b==null?void 0:b.redirect)}catch(g){throw new l.coordinatesError(g)}},h.langLinks=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.langLinks)(p,b)}catch(g){throw new l.linksError(g)}},h.infobox=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.infobox)(p,b==null?void 0:b.redirect)}catch(g){throw new l.infoboxError(g)}},h.tables=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.tables)(p,b==null?void 0:b.redirect)}catch(g){throw new l.infoboxError(g)}},h.languages=async()=>{try{const p={meta:"siteinfo",siprop:"languages"},b=await(0,i.default)(p),g=[];for(const v of b.query.languages)g.push({[v.code]:v["*"]});return g}catch(p){throw new l.wikiError(p)}},h.setLang=p=>(0,i.setAPIUrl)(p),h.geoSearch=async(p,b,g)=>{try{const v={list:"geosearch",gsradius:(g==null?void 0:g.radius)||1e3,gscoord:`${p}|${b}`,gslimit:(g==null?void 0:g.limit)||10,gsprop:"type"};return(await(0,i.default)(v)).query.geosearch}catch(v){throw new l.geoSearchError(v)}},h.suggest=async p=>{var b,g,v,_;try{const w={list:"search",srinfo:"suggestion",srprop:"",srsearch:p},$=await(0,i.default)(w);return!((g=(b=$.query)===null||b===void 0?void 0:b.searchinfo)===null||g===void 0)&&g.suggestion?(_=(v=$.query)===null||v===void 0?void 0:v.searchinfo)===null||_===void 0?void 0:_.suggestion:null}catch(w){throw new l.searchError(w)}},h.onThisDay=async(p={})=>{try{const b=p.type||"all",g=(p.month||(0,d.getCurrentMonth)()).toString().padStart(2,"0"),v=(p.day||(0,d.getCurrentDay)()).toString().padStart(2,"0"),_=`feed/onthisday/${b}/${g}/${v}`;return await(0,i.makeRestRequest)(_,!0)}catch(b){throw new l.eventsError(b)}},h.featuredContent=async(p={})=>{try{const b=(p.year||(0,d.getCurrentYear)()).toString(),g=(p.month||(0,d.getCurrentMonth)()).toString().padStart(2,"0"),v=(p.day||(0,d.getCurrentDay)()).toString().padStart(2,"0"),_=`feed/featured/${b}/${g}/${v}`;return await(0,i.makeRestRequest)(_,!0)}catch(b){throw new l.fcError(b)}},h.random=async p=>{try{p||(p="summary");const b=`page/random/${p}`;return await(0,i.makeRestRequest)(b)}catch(b){throw new l.wikiError(b)}},h.mobileHtml=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.mobileHtml)(p,b==null?void 0:b.redirect)}catch(g){throw new l.htmlError(g)}},h.pdf=async(p,b)=>{try{return b!=null&&b.autoSuggest&&(p=await(0,d.setTitleForPage)(p)),await(0,o.pdf)(p,b)}catch(g){throw new l.pdfError(g)}},h.citation=async(p,b,g)=>{try{return await(0,o.citation)(p,b,g)}catch(v){throw new l.citationError(v)}},h.autocompletions=async(p,b)=>{try{const g={list:"search",limit:(b==null?void 0:b.limit)||10,search:p,action:"opensearch",redirect:"return"},[,v]=await(0,i.default)(g,!1);return v}catch(g){throw new l.autocompletionsError(g)}},e.default=h,t.exports=h,t.exports.default=h,r(errors,e),r(resultTypes,e),r(optionTypes,e),r(page,e)})(dist$1,dist$1.exports);var index$5=getDefaultExportFromCjs(dist$1.exports),wiki=_mergeNamespaces({__proto__:null,default:index$5},[dist$1.exports]);function ascending$3(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending$2(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,r;t.length!==2?(e=ascending$3,n=(f,d)=>ascending$3(t(f),d),r=(f,d)=>t(f)-d):(e=t===ascending$3||t===descending$2?t:zero$1,n=t,r=t);function i(f,d,h=0,p=f.length){if(h<p){if(e(d,d)!==0)return p;do{const b=h+p>>>1;n(f[b],d)<0?h=b+1:p=b}while(h<p)}return h}function o(f,d,h=0,p=f.length){if(h<p){if(e(d,d)!==0)return p;do{const b=h+p>>>1;n(f[b],d)<=0?h=b+1:p=b}while(h<p)}return h}function l(f,d,h=0,p=f.length){const b=i(f,d,h,p-1);return b>h&&r(f[b-1],d)>-r(f[b],d)?b-1:b}return{left:i,center:l,right:o}}function zero$1(){return 0}function number$3(t){return t===null?NaN:+t}function*numbers(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const ascendingBisect=bisector(ascending$3),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left,bisectCenter=bisector(number$3).center;var bisect=bisectRight;function blur(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=blurf(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const blur2=Blur2(blurf),blurImage=Blur2(blurfImage);function Blur2(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:l}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((l=Math.floor(l!==void 0?l:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!l||!n&&!r)return e;const f=n&&t(n),d=r&&t(r),h=i.slice();return f&&d?(blurh(f,h,i,o,l),blurh(f,i,h,o,l),blurh(f,h,i,o,l),blurv(d,i,h,o,l),blurv(d,h,i,o,l),blurv(d,i,h,o,l)):f?(blurh(f,i,h,o,l),blurh(f,h,i,o,l),blurh(f,i,h,o,l)):d&&(blurv(d,i,h,o,l),blurv(d,h,i,o,l),blurv(d,i,h,o,l)),e}}function blurh(t,e,n,r,i){for(let o=0,l=r*i;o<l;)t(e,n,o,o+=r,1)}function blurv(t,e,n,r,i){for(let o=0,l=r*i;o<r;++o)t(e,n,o,o+l,r)}function blurfImage(t){const e=blurf(t);return(n,r,i,o,l)=>{i<<=2,o<<=2,l<<=2,e(n,r,i+0,o+0,l),e(n,r,i+1,o+1,l),e(n,r,i+2,o+2,l),e(n,r,i+3,o+3,l)}}function blurf(t){const e=Math.floor(t);if(e===t)return bluri(t);const n=t-e,r=2*t+1;return(i,o,l,f,d)=>{if(!((f-=d)>=l))return;let h=e*o[l];const p=d*e,b=p+d;for(let g=l,v=l+p;g<v;g+=d)h+=o[Math.min(f,g)];for(let g=l,v=f;g<=v;g+=d)h+=o[Math.min(f,g+p)],i[g]=(h+n*(o[Math.max(l,g-b)]+o[Math.min(f,g+b)]))/r,h-=o[Math.max(l,g-p)]}}function bluri(t){const e=2*t+1;return(n,r,i,o,l)=>{if(!((o-=l)>=i))return;let f=t*r[i];const d=l*t;for(let h=i,p=i+d;h<p;h+=l)f+=r[Math.min(o,h)];for(let h=i,p=o;h<=p;h+=l)f+=r[Math.min(o,h+d)],n[h]=f/e,f-=r[Math.max(i,h-d)]}}function count$1(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function length$3(t){return t.length|0}function empty$2(t){return!(t>0)}function arrayify(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function reducer(t){return e=>t(...e)}function cross$2(...t){const e=typeof t[t.length-1]=="function"&&reducer(t.pop());t=t.map(arrayify);const n=t.map(length$3),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(empty$2))return o;for(;;){o.push(i.map((f,d)=>t[d][f]));let l=r;for(;++i[l]===n[l];){if(l===0)return e?o.map(e):o;i[l--]=0}}}function cumsum(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function variance(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let l of t)l!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,o+=r*(l-i));else{let l=-1;for(let f of t)(f=e(f,++l,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function deviation(t,e){const n=variance(t,e);return n&&Math.sqrt(n)}function extent$1(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],l=e+o,f=Math.abs(e)<Math.abs(o)?e-(l-o):o-(l-e);f&&(n[r++]=f),e=l}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,l=0;if(n>0){for(l=e[--n];n>0&&(r=l,i=e[--n],l=r+i,o=i-(l-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=l+i,i==r-l&&(l=r))}return l}}function fsum(t,e){const n=new Adder;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function fcumsum(t,e){const n=new Adder;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}class InternSet extends Set{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(intern_get(this,e))}add(e){return super.add(intern_set(this,e))}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function intern_set({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function intern_delete({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function identity$9(t){return t}function group(t,...e){return nest(t,identity$9,identity$9,e)}function groups(t,...e){return nest(t,Array.from,identity$9,e)}function flatten$1(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([o,l])=>[...i,o,l]));return t}function flatGroup(t,...e){return flatten$1(groups(t,...e),e)}function flatRollup(t,e,...n){return flatten$1(rollups(t,e,...n),n)}function rollup(t,e,...n){return nest(t,identity$9,e,n)}function rollups(t,e,...n){return nest(t,Array.from,e,n)}function index$4(t,...e){return nest(t,identity$9,unique,e)}function indexes(t,...e){return nest(t,Array.from,unique,e)}function unique(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function nest(t,e,n,r){return function i(o,l){if(l>=r.length)return n(o);const f=new InternMap,d=r[l++];let h=-1;for(const p of o){const b=d(p,++h,o),g=f.get(b);g?g.push(p):f.set(b,[p])}for(const[p,b]of f)f.set(p,i(b,l));return e(f)}(t,0)}function permute(t,e){return Array.from(e,n=>t[n])}function sort(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const l of e){const f=ascendingDefined(l[i],l[o]);if(f)return f}})):(n=t.map(n),r.sort((i,o)=>ascendingDefined(n[i],n[o]))),permute(t,r)}return t.sort(compareDefined(n))}function compareDefined(t=ascending$3){if(t===ascending$3)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function groupSort(t,e,n){return(e.length!==2?sort(rollup(t,e,n),([r,i],[o,l])=>ascending$3(i,l)||ascending$3(r,o)):sort(group(t,n),([r,i],[o,l])=>e(i,l)||ascending$3(r,o))).map(([r])=>r)}var array$5=Array.prototype,slice$3=array$5.slice;function constant$b(t){return()=>t}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=e10?10:o>=e5?5:o>=e2?2:1;let f,d,h;return i<0?(h=Math.pow(10,-i)/l,f=Math.round(t*h),d=Math.round(e*h),f/h<t&&++f,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,f=Math.round(t/h),d=Math.round(e/h),f*h<t&&++f,d*h>e&&--d),d<f&&.5<=n&&n<2?tickSpec(t,e,n*2):[f,d,h]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?tickSpec(e,t,n):tickSpec(t,e,n);if(!(o>=i))return[];const f=o-i+1,d=new Array(f);if(r)if(l<0)for(let h=0;h<f;++h)d[h]=(o-h)/-l;else for(let h=0;h<f;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<f;++h)d[h]=(i+h)/-l;else for(let h=0;h<f;++h)d[h]=(i+h)*l;return d}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tickIncrement(e,t,n):tickIncrement(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nice$1(t,e,n){let r;for(;;){const i=tickIncrement(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function thresholdSturges(t){return Math.ceil(Math.log(count$1(t))/Math.LN2)+1}function bin(){var t=identity$9,e=extent$1,n=thresholdSturges;function r(i){Array.isArray(i)||(i=Array.from(i));var o,l=i.length,f,d,h=new Array(l);for(o=0;o<l;++o)h[o]=t(i[o],o,i);var p=e(h),b=p[0],g=p[1],v=n(h,b,g);if(!Array.isArray(v)){const T=g,P=+v;if(e===extent$1&&([b,g]=nice$1(b,g,P)),v=ticks(b,g,P),v[0]<=b&&(d=tickIncrement(b,g,P)),v[v.length-1]>=g)if(T>=g&&e===extent$1){const N=tickIncrement(b,g,P);isFinite(N)&&(N>0?g=(Math.floor(g/N)+1)*N:N<0&&(g=(Math.ceil(g*-N)+1)/-N))}else v.pop()}for(var _=v.length,w=0,$=_;v[w]<=b;)++w;for(;v[$-1]>g;)--$;(w||$<_)&&(v=v.slice(w,$),_=$-w);var S=new Array(_+1),R;for(o=0;o<=_;++o)R=S[o]=[],R.x0=o>0?v[o-1]:b,R.x1=o<_?v[o]:g;if(isFinite(d)){if(d>0)for(o=0;o<l;++o)(f=h[o])!=null&&b<=f&&f<=g&&S[Math.min(_,Math.floor((f-b)/d))].push(i[o]);else if(d<0){for(o=0;o<l;++o)if((f=h[o])!=null&&b<=f&&f<=g){const T=Math.floor((b-f)*d);S[Math.min(_,T+(v[T]<=f))].push(i[o])}}}else for(o=0;o<l;++o)(f=h[o])!=null&&b<=f&&f<=g&&S[bisect(v,f,0,_)].push(i[o]);return S}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:constant$b(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:constant$b([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:constant$b(Array.isArray(i)?slice$3.call(i):i),r):n},r}function max$3(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function maxIndex(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function min$2(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function minIndex(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function quickselect(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ascendingDefined:compareDefined(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),b=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*b*(d-b)/d)*(h-d/2<0?-1:1),v=Math.max(n,Math.floor(e-h*b/d+g)),_=Math.min(r,Math.floor(e+(d-h)*b/d+g));quickselect(t,e,v,_,i)}const o=t[e];let l=n,f=r;for(swap$1(t,n,e),i(t[r],o)>0&&swap$1(t,n,r);l<f;){for(swap$1(t,l,f),++l,--f;i(t[l],o)<0;)++l;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?swap$1(t,n,f):(++f,swap$1(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function swap$1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function greatest(t,e=ascending$3){let n,r=!1;if(e.length===1){let i;for(const o of t){const l=e(o);(r?ascending$3(l,i)>0:ascending$3(l,l)===0)&&(n=o,i=l,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return min$2(t);if(e>=1)return max$3(t);var r,i=(r-1)*e,o=Math.floor(i),l=max$3(quickselect(t,o).subarray(0,o+1)),f=min$2(t.subarray(o+1));return l+(f-l)*(i-o)}}function quantileSorted(t,e,n=number$3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return l+(f-l)*(i-o)}}function quantileIndex(t,e,n){if(t=Float64Array.from(numbers(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return minIndex(t);if(e>=1)return maxIndex(t);var r,i=Math.floor((r-1)*e),o=(f,d)=>ascendingDefined(t[f],t[d]),l=quickselect(Uint32Array.from(t,(f,d)=>d),i,0,r-1,o);return greatest(l.subarray(0,i+1),f=>t[f])}}function thresholdFreedmanDiaconis(t,e,n){return Math.ceil((n-e)/(2*(quantile$1(t,.75)-quantile$1(t,.25))*Math.pow(count$1(t),-1/3)))}function thresholdScott(t,e,n){return Math.ceil((n-e)*Math.cbrt(count$1(t))/(3.49*deviation(t)))}function mean(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function median(t,e){return quantile$1(t,.5,e)}function medianIndex(t,e){return quantileIndex(t,.5,e)}function*flatten(t){for(const e of t)yield*e}function merge(t){return Array.from(flatten(t))}function mode(t,e){const n=new InternMap;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let l of t)(l=e(l,++o,t))!=null&&l>=l&&n.set(l,(n.get(l)||0)+1)}let r,i=0;for(const[o,l]of n)l>i&&(i=l,r=o);return r}function pairs(t,e=pair){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function pair(t,e){return[t,e]}function range$2(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function rank(t,e=ascending$3){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=ascending$3);const i=(f,d)=>e(n[f],n[d]);let o,l;return Uint32Array.from(n,(f,d)=>d).sort(e===ascending$3?(f,d)=>ascendingDefined(n[f],n[d]):compareDefined(i)).forEach((f,d)=>{const h=i(f,o===void 0?f:o);h>=0?((o===void 0||h>0)&&(o=f,l=d),r[f]=l):r[f]=NaN}),r}function least(t,e=ascending$3){let n,r=!1;if(e.length===1){let i;for(const o of t){const l=e(o);(r?ascending$3(l,i)<0:ascending$3(l,l)===0)&&(n=o,i=l,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function leastIndex(t,e=ascending$3){if(e.length===1)return minIndex(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)<0)&&(n=o,r=i);return r}function greatestIndex(t,e=ascending$3){if(e.length===1)return maxIndex(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)>0)&&(n=o,r=i);return r}function scan(t,e){const n=leastIndex(t,e);return n<0?void 0:n}var shuffle$1=shuffler(Math.random);function shuffler(t){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){const l=t()*o--|0,f=n[o+r];n[o+r]=n[l+r],n[l+r]=f}return n}}function sum$2(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function transpose(t){if(!(o=t.length))return[];for(var e=-1,n=min$2(t,length$2),r=new Array(n);++e<n;)for(var i=-1,o,l=r[e]=new Array(o);++i<o;)l[i]=t[i][e];return r}function length$2(t){return t.length}function zip(){return transpose(arguments)}function every(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function some(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function filter$1(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function map$1(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function reduce(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,l=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++l}for(;{done:i,value:o}=r.next(),!i;)n=e(n,o,++l,t);return n}function reverse$1(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function difference(t,...e){t=new InternSet(t);for(const n of e)for(const r of n)t.delete(r);return t}function disjoint(t,e){const n=e[Symbol.iterator](),r=new InternSet;for(const i of t){if(r.has(i))return!1;let o,l;for(;({value:o,done:l}=n.next())&&!l;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function intersection(t,...e){t=new InternSet(t),e=e.map(set$2);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function set$2(t){return t instanceof InternSet?t:new InternSet(t)}function superset(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const o=intern(i);if(r.has(o))continue;let l,f;for(;{value:l,done:f}=n.next();){if(f)return!1;const d=intern(l);if(r.add(d),Object.is(o,d))break}}return!0}function intern(t){return t!==null&&typeof t=="object"?t.valueOf():t}function subset(t,e){return superset(e,t)}function union(...t){const e=new InternSet;for(const n of t)for(const r of n)e.add(r);return e}function identity$8(t){return t}var top=1,right=2,bottom=3,left=4,epsilon$6=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number$2(t){return e=>+t(e)}function center$1(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function entering(){return!this.__axis}function axis(t,e){var n=[],r=null,i=null,o=6,l=6,f=3,d=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,h=t===top||t===left?-1:1,p=t===left||t===right?"x":"y",b=t===top||t===bottom?translateX:translateY;function g(v){var _=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,w=i==null?e.tickFormat?e.tickFormat.apply(e,n):identity$8:i,$=Math.max(o,0)+f,S=e.range(),R=+S[0]+d,T=+S[S.length-1]+d,P=(e.bandwidth?center$1:number$2)(e.copy(),d),N=v.selection?v.selection():v,I=N.selectAll(".domain").data([null]),O=N.selectAll(".tick").data(_,e).order(),H=O.exit(),V=O.enter().append("g").attr("class","tick"),F=O.select("line"),L=O.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(V),F=F.merge(V.append("line").attr("stroke","currentColor").attr(p+"2",h*o)),L=L.merge(V.append("text").attr("fill","currentColor").attr(p,h*$).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),v!==N&&(I=I.transition(v),O=O.transition(v),F=F.transition(v),L=L.transition(v),H=H.transition(v).attr("opacity",epsilon$6).attr("transform",function(j){return isFinite(j=P(j))?b(j+d):this.getAttribute("transform")}),V.attr("opacity",epsilon$6).attr("transform",function(j){var G=this.parentNode.__axis;return b((G&&isFinite(G=G(j))?G:P(j))+d)})),H.remove(),I.attr("d",t===left||t===right?l?"M"+h*l+","+R+"H"+d+"V"+T+"H"+h*l:"M"+d+","+R+"V"+T:l?"M"+R+","+h*l+"V"+d+"H"+T+"V"+h*l:"M"+R+","+d+"H"+T),O.attr("opacity",1).attr("transform",function(j){return b(P(j)+d)}),F.attr(p+"2",h*o),L.attr(p,h*$).text(w),N.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),N.each(function(){this.__axis=P})}return g.scale=function(v){return arguments.length?(e=v,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(v){return arguments.length?(n=v==null?[]:Array.from(v),g):n.slice()},g.tickValues=function(v){return arguments.length?(r=v==null?null:Array.from(v),g):r&&r.slice()},g.tickFormat=function(v){return arguments.length?(i=v,g):i},g.tickSize=function(v){return arguments.length?(o=l=+v,g):o},g.tickSizeInner=function(v){return arguments.length?(o=+v,g):o},g.tickSizeOuter=function(v){return arguments.length?(l=+v,g):l},g.tickPadding=function(v){return arguments.length?(f=+v,g):f},g.offset=function(v){return arguments.length?(d=+v,g):d},g}function axisTop(t){return axis(top,t)}function axisRight(t){return axis(right,t)}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$3={value:()=>{}};function dispatch(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dispatch(n)}function Dispatch(t){this._=t}function parseTypenames$1(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n=this._,r=parseTypenames$1(t+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(t=r[o]).type)&&(i=get$1(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(i=(t=r[o]).type)n[i]=set$1(n[i],t.name,e);else if(e==null)for(i in n)n[i]=set$1(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dispatch(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function get$1(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function set$1(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=noop$3,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(n,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none$2(){}function selector(t){return t==null?none$2:function(){return this.querySelector(t)}}function selection_select(t){typeof t!="function"&&(t=selector(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,f=r[i]=new Array(l),d,h,p=0;p<l;++p)(d=o[p])&&(h=t.call(d,d.__data__,p,o))&&("__data__"in d&&(h.__data__=d.__data__),f[p]=h);return new Selection$1(r,this._parents)}function array$4(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function empty$1(){return[]}function selectorAll(t){return t==null?empty$1:function(){return this.querySelectorAll(t)}}function arrayAll(t){return function(){return array$4(t.apply(this,arguments))}}function selection_selectAll(t){typeof t=="function"?t=arrayAll(t):t=selectorAll(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var l=e[o],f=l.length,d,h=0;h<f;++h)(d=l[h])&&(r.push(t.call(d,d.__data__,h,l)),i.push(d));return new Selection$1(r,i)}function matcher(t){return function(){return this.matches(t)}}function childMatcher(t){return function(e){return e.matches(t)}}var find$1=Array.prototype.find;function childFind(t){return function(){return find$1.call(this.children,t)}}function childFirst(){return this.firstElementChild}function selection_selectChild(t){return this.select(t==null?childFirst:childFind(typeof t=="function"?t:childMatcher(t)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return filter.call(this.children,t)}}function selection_selectChildren(t){return this.selectAll(t==null?children:childrenFilter(typeof t=="function"?t:childMatcher(t)))}function selection_filter(t){typeof t!="function"&&(t=matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,f=r[i]=[],d,h=0;h<l;++h)(d=o[h])&&t.call(d,d.__data__,h,o)&&f.push(d);return new Selection$1(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function constant$a(t){return function(){return t}}function bindIndex(t,e,n,r,i,o){for(var l=0,f,d=e.length,h=o.length;l<h;++l)(f=e[l])?(f.__data__=o[l],r[l]=f):n[l]=new EnterNode(t,o[l]);for(;l<d;++l)(f=e[l])&&(i[l]=f)}function bindKey(t,e,n,r,i,o,l){var f,d,h=new Map,p=e.length,b=o.length,g=new Array(p),v;for(f=0;f<p;++f)(d=e[f])&&(g[f]=v=l.call(d,d.__data__,f,e)+"",h.has(v)?i[f]=d:h.set(v,d));for(f=0;f<b;++f)v=l.call(t,o[f],f,o)+"",(d=h.get(v))?(r[f]=d,d.__data__=o[f],h.delete(v)):n[f]=new EnterNode(t,o[f]);for(f=0;f<p;++f)(d=e[f])&&h.get(g[f])===d&&(i[f]=d)}function datum(t){return t.__data__}function selection_data(t,e){if(!arguments.length)return Array.from(this,datum);var n=e?bindKey:bindIndex,r=this._parents,i=this._groups;typeof t!="function"&&(t=constant$a(t));for(var o=i.length,l=new Array(o),f=new Array(o),d=new Array(o),h=0;h<o;++h){var p=r[h],b=i[h],g=b.length,v=arraylike(t.call(p,p&&p.__data__,h,r)),_=v.length,w=f[h]=new Array(_),$=l[h]=new Array(_),S=d[h]=new Array(g);n(p,b,w,$,S,v,e);for(var R=0,T=0,P,N;R<_;++R)if(P=w[R]){for(R>=T&&(T=R+1);!(N=$[T])&&++T<_;);P._next=N||null}}return l=new Selection$1(l,r),l._enter=f,l._exit=d,l}function arraylike(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function selection_merge(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,l=Math.min(i,o),f=new Array(i),d=0;d<l;++d)for(var h=n[d],p=r[d],b=h.length,g=f[d]=new Array(b),v,_=0;_<b;++_)(v=h[_]||p[_])&&(g[_]=v);for(;d<i;++d)f[d]=n[d];return new Selection$1(f,this._parents)}function selection_order(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function selection_sort(t){t||(t=ascending$2);function e(b,g){return b&&g?t(b.__data__,g.__data__):!b-!g}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],f=l.length,d=i[o]=new Array(f),h,p=0;p<f;++p)(h=l[p])&&(d[p]=h);d.sort(e)}return new Selection$1(i,this._parents).order()}function ascending$2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function selection_size(){let t=0;for(const e of this)++t;return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,l=i.length,f;o<l;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function attrFunctionNS$1(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function selection_attr(t,e){var n=namespace(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?attrRemoveNS$1:attrRemove$1:typeof e=="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction$1(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function selection_style(t,e,n){return arguments.length>1?this.each((e==null?styleRemove$1:typeof e=="function"?styleFunction$1:styleConstant$1)(t,e,n==null?"":n)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function selection_property(t,e){return arguments.length>1?this.each((e==null?propertyRemove:typeof e=="function"?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}ClassList.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function classedAdd(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function classedRemove(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var n=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?classedFunction:e?classedTrue:classedFalse)(n,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function selection_text(t){return arguments.length?this.each(t==null?textRemove:(typeof t=="function"?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function selection_html(t){return arguments.length?this.each(t==null?htmlRemove:(typeof t=="function"?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e=typeof t=="function"?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var n=typeof t=="function"?t:creator(t),r=e==null?constantNull:typeof e=="function"?e:selector(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function contextListener(t){return function(e){t.call(this,e,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function onRemove(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function onAdd(t,e,n){return function(){var r=this.__on,i,o=contextListener(e);if(r){for(var l=0,f=r.length;l<f;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function selection_on(t,e,n){var r=parseTypenames(t+""),i,o=r.length,l;if(arguments.length<2){var f=this.node().__on;if(f){for(var d=0,h=f.length,p;d<h;++d)for(i=0,p=f[d];i<o;++i)if((l=r[i]).type===p.type&&l.name===p.name)return p.value}return}for(f=e?onAdd:onRemove,i=0;i<o;++i)this.each(f(r[i],e,n));return this}function dispatchEvent(t,e,n){var r=defaultView(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each((typeof e=="function"?dispatchFunction:dispatchConstant)(t,e))}function*selection_iterator(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var root$1=[null];function Selection$1(t,e){this._groups=t,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(t){return typeof t=="string"?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root$1)}function create$1(t){return select(creator(t).call(document.documentElement))}var nextId=0;function local$1(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}Local.prototype=local$1.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function sourceEvent(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pointer(t,e){if(t=sourceEvent(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function pointers(t,e){return t.target&&(t=sourceEvent(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>pointer(n,e))}function selectAll(t){return typeof t=="string"?new Selection$1([document.querySelectorAll(t)],[document.documentElement]):new Selection$1([array$4(t)],root$1)}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$2(t){t.stopImmediatePropagation()}function noevent$2(t){t.preventDefault(),t.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,n=select(t).on("dragstart.drag",noevent$2,nonpassivecapture);"onselectstart"in e?n.on("selectstart.drag",noevent$2,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var n=t.document.documentElement,r=select(t).on("dragstart.drag",null);e&&(r.on("click.drag",noevent$2,nonpassivecapture),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var constant$9=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:l,y:f,dx:d,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function defaultFilter$2(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,e){return e==null?{x:t.x,y:t.y}:e}function defaultTouchable$2(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t=defaultFilter$2,e=defaultContainer,n=defaultSubject,r=defaultTouchable$2,i={},o=dispatch("start","drag","end"),l=0,f,d,h,p,b=0;function g(P){P.on("mousedown.drag",v).filter(r).on("touchstart.drag",$).on("touchmove.drag",S,nonpassive).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(P,N){if(!(p||!t.call(this,P,N))){var I=T(this,e.call(this,P,N),P,N,"mouse");!I||(select(P.view).on("mousemove.drag",_,nonpassivecapture).on("mouseup.drag",w,nonpassivecapture),dragDisable(P.view),nopropagation$2(P),h=!1,f=P.clientX,d=P.clientY,I("start",P))}}function _(P){if(noevent$2(P),!h){var N=P.clientX-f,I=P.clientY-d;h=N*N+I*I>b}i.mouse("drag",P)}function w(P){select(P.view).on("mousemove.drag mouseup.drag",null),yesdrag(P.view,h),noevent$2(P),i.mouse("end",P)}function $(P,N){if(!!t.call(this,P,N)){var I=P.changedTouches,O=e.call(this,P,N),H=I.length,V,F;for(V=0;V<H;++V)(F=T(this,O,P,N,I[V].identifier,I[V]))&&(nopropagation$2(P),F("start",P,I[V]))}}function S(P){var N=P.changedTouches,I=N.length,O,H;for(O=0;O<I;++O)(H=i[N[O].identifier])&&(noevent$2(P),H("drag",P,N[O]))}function R(P){var N=P.changedTouches,I=N.length,O,H;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),O=0;O<I;++O)(H=i[N[O].identifier])&&(nopropagation$2(P),H("end",P,N[O]))}function T(P,N,I,O,H,V){var F=o.copy(),L=pointer(V||I,N),j,G,q;if((q=n.call(P,new DragEvent("beforestart",{sourceEvent:I,target:g,identifier:H,active:l,x:L[0],y:L[1],dx:0,dy:0,dispatch:F}),O))!=null)return j=q.x-L[0]||0,G=q.y-L[1]||0,function z(U,W,Z){var Q=L,tt;switch(U){case"start":i[H]=z,tt=l++;break;case"end":delete i[H],--l;case"drag":L=pointer(Z||W,N),tt=l;break}F.call(U,P,new DragEvent(U,{sourceEvent:W,subject:q,target:g,identifier:H,active:tt,x:L[0]+j,y:L[1]+G,dx:L[0]-Q[0],dy:L[1]-Q[1],dispatch:F}),O)}}return g.filter=function(P){return arguments.length?(t=typeof P=="function"?P:constant$9(!!P),g):t},g.container=function(P){return arguments.length?(e=typeof P=="function"?P:constant$9(P),g):e},g.subject=function(P){return arguments.length?(n=typeof P=="function"?P:constant$9(P),g):n},g.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:constant$9(!!P),g):r},g.on=function(){var P=o.on.apply(o,arguments);return P===o?g:P},g.clickDistance=function(P){return arguments.length?(b=(P=+P)*P,g):Math.sqrt(b)},g}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rgb(t,e,n,r)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb(t,e,n,r){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,r==null?1:r)}function Rgb(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}define(Rgb,rgb,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,f=o-i,d=(o+i)/2;return f?(e===o?l=(n-r)/f+(n<r)*6:n===o?l=(r-e)/f+2:l=(e-n)/f+4,f/=d<.5?o+i:2-o-i,l*=60):f=d>0&&d<1?0:l,new Hsl(l,f,d,t.opacity)}function hsl$2(t,e,n,r){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,r==null?1:r)}function Hsl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}define(Hsl,hsl$2,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rgb(hsl2rgb(t>=240?t-240:t+120,i,r),hsl2rgb(t,i,r),hsl2rgb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const radians$1=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e=rgb2lrgb(t.r),n=rgb2lrgb(t.g),r=rgb2lrgb(t.b),i=xyz2lab((.2225045*e+.7168786*n+.0606169*r)/Yn),o,l;return e===n&&n===r?o=l=i:(o=xyz2lab((.4360747*e+.3850649*n+.1430804*r)/Xn),l=xyz2lab((.0139322*e+.0971045*n+.7141733*r)/Zn)),new Lab(116*i-16,500*(o-i),200*(i-l),t.opacity)}function gray(t,e){return new Lab(t,0,0,e==null?1:e)}function lab$1(t,e,n,r){return arguments.length===1?labConvert(t):new Lab(t,e,n,r==null?1:r)}function Lab(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}define(Lab,lab$1,extend(Color,{brighter(t){return new Lab(this.l+K*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Lab(this.l-K*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Xn*lab2xyz(e),t=Yn*lab2xyz(t),n=Zn*lab2xyz(n),new Rgb(lrgb2rgb(3.1338561*e-1.6168667*t-.4906146*n),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*n),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$1}function lab2xyz(t){return t>t1$1?t*t*t:t2*(t-t0$1)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),t.a===0&&t.b===0)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*degrees$2;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,e,n,r){return arguments.length===1?hclConvert(t):new Hcl(n,e,t,r==null?1:r)}function hcl$2(t,e,n,r){return arguments.length===1?hclConvert(t):new Hcl(t,e,n,r==null?1:r)}function Hcl(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*radians$1;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define(Hcl,hcl$2,extend(Color,{brighter(t){return new Hcl(this.h,this.c,this.l+K*(t==null?1:t),this.opacity)},darker(t){return new Hcl(this.h,this.c,this.l-K*(t==null?1:t),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B$1=1.78277,C=-.29227,D$1=-.90649,E=1.97294,ED=E*D$1,EB=E*B$1,BC_DA=B$1*C-D$1*A;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(BC_DA*r+ED*e-EB*n)/(BC_DA+ED-EB),o=r-i,l=(E*(n-i)-C*o)/D$1,f=Math.sqrt(l*l+o*o)/(E*i*(1-i)),d=f?Math.atan2(l,o)*degrees$2-120:NaN;return new Cubehelix(d<0?d+360:d,f,i,t.opacity)}function cubehelix$3(t,e,n,r){return arguments.length===1?cubehelixConvert(t):new Cubehelix(t,e,n,r==null?1:r)}function Cubehelix(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}define(Cubehelix,cubehelix$3,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*radians$1,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rgb(255*(e+n*(A*r+B$1*i)),255*(e+n*(C*r+D$1*i)),255*(e+n*(E*r)),this.opacity)}}));function basis$1(t,e,n,r,i){var o=t*t,l=o*t;return((1-3*t+3*o-l)*e+(4-6*o+3*l)*n+(1+3*t+3*o-3*l)*r+l*i)/6}function basis$2(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],l=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return basis$1((n-r/e)*e,l,i,o,f)}}function basisClosed$1(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],l=t[(r+1)%e],f=t[(r+2)%e];return basis$1((n-r/e)*e,i,o,l,f)}}var constant$8=t=>()=>t;function linear$2(t,e){return function(n){return t+n*e}}function exponential$1(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hue$1(t,e){var n=e-t;return n?linear$2(t,n>180||n<-180?n-360*Math.round(n/360):n):constant$8(isNaN(t)?e:t)}function gamma$1(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential$1(e,n,t):constant$8(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$2(t,n):constant$8(isNaN(t)?e:t)}var interpolateRgb=function t(e){var n=gamma$1(e);function r(i,o){var l=n((i=rgb(i)).r,(o=rgb(o)).r),f=n(i.g,o.g),d=n(i.b,o.b),h=nogamma(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=f(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r}(1);function rgbSpline(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),l,f;for(l=0;l<n;++l)f=rgb(e[l]),r[l]=f.r||0,i[l]=f.g||0,o[l]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(d){return f.r=r(d),f.g=i(d),f.b=o(d),f+""}}}var rgbBasis=rgbSpline(basis$2),rgbBasisClosed=rgbSpline(basisClosed$1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function array$3(t,e){return(isNumberArray(e)?numberArray:genericArray)(t,e)}function genericArray(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=interpolate$2(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(f){for(l=0;l<r;++l)o[l]=i[l](f);return o}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object$1(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=interpolate$2(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function interpolateString(t,e){var n=reA.lastIndex=reB.lastIndex=0,r,i,o,l=-1,f=[],d=[];for(t=t+"",e=e+"";(r=reA.exec(t))&&(i=reB.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[l]?f[l]+=o:f[++l]=o),(r=r[0])===(i=i[0])?f[l]?f[l]+=i:f[++l]=i:(f[++l]=null,d.push({i:l,x:interpolateNumber(r,i)})),n=reB.lastIndex;return n<e.length&&(o=e.slice(n),f[l]?f[l]+=o:f[++l]=o),f.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(h){for(var p=0,b;p<e;++p)f[(b=d[p]).i]=b.x(h);return f.join("")})}function interpolate$2(t,e){var n=typeof e,r;return e==null||n==="boolean"?constant$8(e):(n==="number"?interpolateNumber:n==="string"?(r=color(e))?(e=r,interpolateRgb):interpolateString:e instanceof color?interpolateRgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object$1:interpolateNumber)(t,e)}function discrete(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function hue(t,e){var n=hue$1(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var degrees$1=180/Math.PI,identity$7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,n,r,i,o){var l,f,d;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(d=t*n+e*r)&&(n-=t*d,r-=e*d),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,d/=f),t*r<e*n&&(t=-t,e=-e,d=-d,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*degrees$1,skewX:Math.atan(d)*degrees$1,scaleX:l,scaleY:f}}var svgNode;function parseCss(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?identity$7:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(t){return t==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),!(t=svgNode.transform.baseVal.consolidate()))?identity$7:(t=t.matrix,decompose(t.a,t.b,t.c,t.d,t.e,t.f))}function interpolateTransform(t,e,n,r){function i(h){return h.length?h.pop()+" ":""}function o(h,p,b,g,v,_){if(h!==b||p!==g){var w=v.push("translate(",null,e,null,n);_.push({i:w-4,x:interpolateNumber(h,b)},{i:w-2,x:interpolateNumber(p,g)})}else(b||g)&&v.push("translate("+b+e+g+n)}function l(h,p,b,g){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),g.push({i:b.push(i(b)+"rotate(",null,r)-2,x:interpolateNumber(h,p)})):p&&b.push(i(b)+"rotate("+p+r)}function f(h,p,b,g){h!==p?g.push({i:b.push(i(b)+"skewX(",null,r)-2,x:interpolateNumber(h,p)}):p&&b.push(i(b)+"skewX("+p+r)}function d(h,p,b,g,v,_){if(h!==b||p!==g){var w=v.push(i(v)+"scale(",null,",",null,")");_.push({i:w-4,x:interpolateNumber(h,b)},{i:w-2,x:interpolateNumber(p,g)})}else(b!==1||g!==1)&&v.push(i(v)+"scale("+b+","+g+")")}return function(h,p){var b=[],g=[];return h=t(h),p=t(p),o(h.translateX,h.translateY,p.translateX,p.translateY,b,g),l(h.rotate,p.rotate,b,g),f(h.skewX,p.skewX,b,g),d(h.scaleX,h.scaleY,p.scaleX,p.scaleY,b,g),h=p=null,function(v){for(var _=-1,w=g.length,$;++_<w;)b[($=g[_]).i]=$.x(v);return b.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2$1=1e-12;function cosh(t){return((t=Math.exp(t))+1/t)/2}function sinh(t){return((t=Math.exp(t))-1/t)/2}function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}var interpolateZoom=function t(e,n,r){function i(o,l){var f=o[0],d=o[1],h=o[2],p=l[0],b=l[1],g=l[2],v=p-f,_=b-d,w=v*v+_*_,$,S;if(w<epsilon2$1)S=Math.log(g/h)/e,$=function(O){return[f+O*v,d+O*_,h*Math.exp(e*O*S)]};else{var R=Math.sqrt(w),T=(g*g-h*h+r*w)/(2*h*n*R),P=(g*g-h*h-r*w)/(2*g*n*R),N=Math.log(Math.sqrt(T*T+1)-T),I=Math.log(Math.sqrt(P*P+1)-P);S=(I-N)/e,$=function(O){var H=O*S,V=cosh(N),F=h/(n*R)*(V*tanh(e*H+N)-sinh(N));return[f+F*v,d+F*_,h*V/cosh(e*H+N)]}}return $.duration=S*1e3*e/Math.SQRT2,$}return i.rho=function(o){var l=Math.max(.001,+o),f=l*l,d=f*f;return t(l,f,d)},i}(Math.SQRT2,2,4);function hsl(t){return function(e,n){var r=t((e=hsl$2(e)).h,(n=hsl$2(n)).h),i=nogamma(e.s,n.s),o=nogamma(e.l,n.l),l=nogamma(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=o(f),e.opacity=l(f),e+""}}}var hsl$1=hsl(hue$1),hslLong=hsl(nogamma);function lab(t,e){var n=nogamma((t=lab$1(t)).l,(e=lab$1(e)).l),r=nogamma(t.a,e.a),i=nogamma(t.b,e.b),o=nogamma(t.opacity,e.opacity);return function(l){return t.l=n(l),t.a=r(l),t.b=i(l),t.opacity=o(l),t+""}}function hcl(t){return function(e,n){var r=t((e=hcl$2(e)).h,(n=hcl$2(n)).h),i=nogamma(e.c,n.c),o=nogamma(e.l,n.l),l=nogamma(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=o(f),e.opacity=l(f),e+""}}}var hcl$1=hcl(hue$1),hclLong=hcl(nogamma);function cubehelix$1(t){return function e(n){n=+n;function r(i,o){var l=t((i=cubehelix$3(i)).h,(o=cubehelix$3(o)).h),f=nogamma(i.s,o.s),d=nogamma(i.l,o.l),h=nogamma(i.opacity,o.opacity);return function(p){return i.h=l(p),i.s=f(p),i.l=d(Math.pow(p,n)),i.opacity=h(p),i+""}}return r.gamma=e,r}(1)}var cubehelix$2=cubehelix$1(hue$1),cubehelixLong=cubehelix$1(nogamma);function piecewise(t,e){e===void 0&&(e=t,t=interpolate$2);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var f=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[f](l-f)}}function quantize$1(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var frame=0,timeout$1=0,interval$1=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?now():+n)+(e==null?0:+e),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(t,e,n){var r=new Timer;return r.restart(t,e,n),r}function timerFlush(){now(),++frame;for(var t=taskHead,e;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e=taskHead,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:taskHead=n);taskTail=t,sleep(r)}function sleep(t){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var e=t-clockNow;e>24?(t<1/0&&(timeout$1=setTimeout(wake,t-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(t,e,n){var r=new Timer;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function interval(t,e,n){var r=new Timer,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(o,l,f){l=+l,f=f==null?now():+f,r._restart(function d(h){h+=i,r._restart(d,i+=l,f),o(h)},l,f)},r.restart(t,e,n),r)}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,n,r,i,o){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;create(t,n,{name:e,index:r,group:i,on:emptyOn,tween:emptyTween,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:CREATED})}function init(t,e){var n=get(t,e);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set(t,e){var n=get(t,e);if(n.state>STARTED)throw new Error("too late; already running");return n}function get(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function create(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=timer(o,0,n.time);function o(h){n.state=SCHEDULED,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var p,b,g,v;if(n.state!==SCHEDULED)return d();for(p in r)if(v=r[p],v.name===n.name){if(v.state===STARTED)return timeout(l);v.state===RUNNING?(v.state=ENDED,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[p]):+p<e&&(v.state=ENDED,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[p])}if(timeout(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(f,n.delay,n.time),f(h))}),n.state=STARTING,n.on.call("start",t,t.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,i=new Array(g=n.tween.length),p=0,b=-1;p<g;++p)(v=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++b]=v);i.length=b+1}}function f(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(d),n.state=ENDING,1),b=-1,g=i.length;++b<g;)i[b].call(t,p);n.state===ENDING&&(n.on.call("end",t,t.__data__,n.index,n.group),d())}function d(){n.state=ENDED,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function interrupt(t,e){var n=t.__transition,r,i,o=!0,l;if(!!n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){o=!1;continue}i=r.state>STARTING&&r.state<ENDING,r.state=ENDED,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}o&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(t,e){var n,r;return function(){var i=set(this,t),o=i.tween;if(o!==n){r=n=o;for(var l=0,f=r.length;l<f;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function tweenFunction(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=set(this,t),l=o.tween;if(l!==r){i=(r=l).slice();for(var f={name:e,value:n},d=0,h=i.length;d<h;++d)if(i[d].name===e){i[d]=f;break}d===h&&i.push(f)}o.tween=i}}function transition_tween(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=get(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?tweenRemove:tweenFunction)(n,t,e))}function tweenValue(t,e,n){var r=t._id;return t.each(function(){var i=set(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return get(i,r).value[e]}}function interpolate$1(t,e){var n;return(typeof e=="number"?interpolateNumber:e instanceof color?interpolateRgb:(n=color(e))?(e=n,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function attrConstantNS(t,e,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function attrFunction(t,e,n){var r,i,o;return function(){var l,f=n(this),d;return f==null?void this.removeAttribute(t):(l=this.getAttribute(t),d=f+"",l===d?null:l===r&&d===i?o:(i=d,o=e(r=l,f)))}}function attrFunctionNS(t,e,n){var r,i,o;return function(){var l,f=n(this),d;return f==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),d=f+"",l===d?null:l===r&&d===i?o:(i=d,o=e(r=l,f)))}}function transition_attr(t,e){var n=namespace(t),r=n==="transform"?interpolateTransformSvg:interpolate$1;return this.attrTween(t,typeof e=="function"?(n.local?attrFunctionNS:attrFunction)(n,r,tweenValue(this,"attr."+t,e)):e==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,r,e))}function attrInterpolate(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function attrInterpolateNS(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function attrTweenNS(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolateNS(t,o)),n}return i._value=e,i}function attrTween(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&attrInterpolate(t,o)),n}return i._value=e,i}function transition_attrTween(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=namespace(t);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if(typeof e!="function")throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function easeVarying(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;set(this,t).ease=n}}function transition_easeVarying(t){if(typeof t!="function")throw new Error;return this.each(easeVarying(this._id,t))}function transition_filter(t){typeof t!="function"&&(t=matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],l=o.length,f=r[i]=[],d,h=0;h<l;++h)(d=o[h])&&t.call(d,d.__data__,h,o)&&f.push(d);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),l=new Array(r),f=0;f<o;++f)for(var d=e[f],h=n[f],p=d.length,b=l[f]=new Array(p),g,v=0;v<p;++v)(g=d[v]||h[v])&&(b[v]=g);for(;f<r;++f)l[f]=e[f];return new Transition(l,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function onFunction(t,e,n){var r,i,o=start(e)?init:set;return function(){var l=o(this,t),f=l.on;f!==r&&(i=(r=f).copy()).on(e,n),l.on=i}}function transition_on(t,e){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(t):this.each(onFunction(n,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,n=this._id;typeof t!="function"&&(t=selector(t));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var f=r[l],d=f.length,h=o[l]=new Array(d),p,b,g=0;g<d;++g)(p=f[g])&&(b=t.call(p,p.__data__,g,f))&&("__data__"in p&&(b.__data__=p.__data__),h[g]=b,schedule(h[g],e,n,g,h,get(p,n)));return new Transition(o,this._parents,e,n)}function transition_selectAll(t){var e=this._name,n=this._id;typeof t!="function"&&(t=selectorAll(t));for(var r=this._groups,i=r.length,o=[],l=[],f=0;f<i;++f)for(var d=r[f],h=d.length,p,b=0;b<h;++b)if(p=d[b]){for(var g=t.call(p,p.__data__,b,d),v,_=get(p,n),w=0,$=g.length;w<$;++w)(v=g[w])&&schedule(v,e,n,w,g,_);o.push(g),l.push(p)}return new Transition(o,l,e,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(t,e){var n,r,i;return function(){var o=styleValue(this,t),l=(this.style.removeProperty(t),styleValue(this,t));return o===l?null:o===n&&l===r?i:i=e(n=o,r=l)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,n){var r,i=n+"",o;return function(){var l=styleValue(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}function styleFunction(t,e,n){var r,i,o;return function(){var l=styleValue(this,t),f=n(this),d=f+"";return f==null&&(d=f=(this.style.removeProperty(t),styleValue(this,t))),l===d?null:l===r&&d===i?o:(i=d,o=e(r=l,f))}}function styleMaybeRemove(t,e){var n,r,i,o="style."+e,l="end."+o,f;return function(){var d=set(this,t),h=d.on,p=d.value[o]==null?f||(f=styleRemove(e)):void 0;(h!==n||i!==p)&&(r=(n=h).copy()).on(l,i=p),d.on=r}}function transition_style(t,e,n){var r=(t+="")=="transform"?interpolateTransformCss:interpolate$1;return e==null?this.styleTween(t,styleNull(t,r)).on("end.style."+t,styleRemove(t)):typeof e=="function"?this.styleTween(t,styleFunction(t,r,tweenValue(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,r,e),n).on("end.style."+t,null)}function styleInterpolate(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function styleTween(t,e,n){var r,i;function o(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&styleInterpolate(t,l,n)),r}return o._value=e,o}function transition_styleTween(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,styleTween(t,e,n==null?"":n))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function transition_text(t){return this.tween("text",typeof t=="function"?textFunction(tweenValue(this,"text",t)):textConstant(t==null?"":t+""))}function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}function textTween(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&textInterpolate(i)),e}return r._value=t,r}function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,textTween(t))}function transition_transition(){for(var t=this._name,e=this._id,n=newId(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],f=l.length,d,h=0;h<f;++h)if(d=l[h]){var p=get(d,e);schedule(d,t,n,h,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Transition(r,this._parents,t,n)}function transition_end(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var f={value:l},d={value:function(){--i===0&&o()}};n.each(function(){var h=set(this,r),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(d)),h.on=e}),i===0&&o()})}var id=0;function Transition(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function transition(t){return selection().transition(t)}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};const linear$1=t=>+t;function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var exponent$1=3,polyIn=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(exponent$1),polyOut=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(exponent$1),polyInOut=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(exponent$1),pi$4=Math.PI,halfPi$3=pi$4/2;function sinIn(t){return+t==1?1:1-Math.cos(t*halfPi$3)}function sinOut(t){return Math.sin(t*halfPi$3)}function sinInOut(t){return(1-Math.cos(pi$4*t))/2}function tpmt(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function expIn(t){return tpmt(1-+t)}function expOut(t){return 1-tpmt(t)}function expInOut(t){return((t*=2)<=1?tpmt(1-t):2-tpmt(t-1))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var overshoot=1.70158,backIn=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(overshoot),backOut=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(overshoot),backInOut=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(overshoot),tau$5=2*Math.PI,amplitude=1,period=.3,elasticIn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=tau$5);function i(o){return e*tpmt(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return t(o,n*tau$5)},i.period=function(o){return t(e,o)},i}(amplitude,period),elasticOut=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=tau$5);function i(o){return 1-e*tpmt(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return t(o,n*tau$5)},i.period=function(o){return t(e,o)},i}(amplitude,period),elasticInOut=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=tau$5);function i(o){return((o=o*2-1)<0?e*tpmt(-o)*Math.sin((r-o)/n):2-e*tpmt(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return t(o,n*tau$5)},i.period=function(o){return t(e,o)},i}(amplitude,period),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function selection_transition(t){var e,n;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(n=defaultTiming).time=now(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],f=l.length,d,h=0;h<f;++h)(d=l[h])&&schedule(d,t,e,h,l,n||inherit(d,e));return new Transition(r,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;var root=[null];function active(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>SCHEDULED&&r.name===e)return new Transition([[t]],root,e,+i)}return null}var constant$7=t=>()=>t;function BrushEvent(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function nopropagation$1(t){t.stopImmediatePropagation()}function noevent$1(t){t.preventDefault(),t.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};const{abs:abs$3,max:max$2,min:min$1}=Math;function number1(t){return[+t[0],+t[1]]}function number2(t){return[number1(t[0]),number1(t[1])]}var X={name:"x",handles:["w","e"].map(type),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},XY={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(t){return t==null?null:number2(t)},output:function(t){return t}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter$1(t){return!t.ctrlKey&&!t.button}function defaultExtent$1(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function empty(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function brushX(){return brush$1(X)}function brushY(){return brush$1(Y)}function brush(){return brush$1(XY)}function brush$1(t){var e=defaultExtent$1,n=defaultFilter$1,r=defaultTouchable$1,i=!0,o=dispatch("start","brush","end"),l=6,f;function d($){var S=$.property("__brush",w).selectAll(".overlay").data([type("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(S).each(function(){var T=local(this).extent;select(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),$.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=$.selectAll(".handle").data(t.handles,function(T){return T.type});R.exit().remove(),R.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return cursors[T.type]}),$.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(r).on("touchstart.brush",g).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.move=function($,S,R){$.tween?$.on("start.brush",function(T){p(this,arguments).beforestart().start(T)}).on("interrupt.brush end.brush",function(T){p(this,arguments).end(T)}).tween("brush",function(){var T=this,P=T.__brush,N=p(T,arguments),I=P.selection,O=t.input(typeof S=="function"?S.apply(this,arguments):S,P.extent),H=interpolate$2(I,O);function V(F){P.selection=F===1&&O===null?null:H(F),h.call(T),N.brush()}return I!==null&&O!==null?V:V(1)}):$.each(function(){var T=this,P=arguments,N=T.__brush,I=t.input(typeof S=="function"?S.apply(T,P):S,N.extent),O=p(T,P).beforestart();interrupt(T),N.selection=I===null?null:I,h.call(T),O.start(R).brush(R).end(R)})},d.clear=function($,S){d.move($,null,S)};function h(){var $=select(this),S=local(this).selection;S?($.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),$.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?S[1][0]-l/2:S[0][0]-l/2}).attr("y",function(R){return R.type[0]==="s"?S[1][1]-l/2:S[0][1]-l/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?S[1][0]-S[0][0]+l:l}).attr("height",function(R){return R.type==="e"||R.type==="w"?S[1][1]-S[0][1]+l:l})):$.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p($,S,R){var T=$.__brush.emitter;return T&&(!R||!T.clean)?T:new b($,S,R)}function b($,S,R){this.that=$,this.args=S,this.state=$.__brush,this.active=0,this.clean=R}b.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function($,S){return this.starting?(this.starting=!1,this.emit("start",$,S)):this.emit("brush",$),this},brush:function($,S){return this.emit("brush",$,S),this},end:function($,S){return--this.active===0&&(delete this.state.emitter,this.emit("end",$,S)),this},emit:function($,S,R){var T=select(this.that).datum();o.call($,this.that,new BrushEvent($,{sourceEvent:S,target:d,selection:t.output(this.state.selection),mode:R,dispatch:o}),T)}};function g($){if(f&&!$.touches||!n.apply(this,arguments))return;var S=this,R=$.target.__data__.type,T=(i&&$.metaKey?R="overlay":R)==="selection"?MODE_DRAG:i&&$.altKey?MODE_CENTER:MODE_HANDLE,P=t===Y?null:signsX[R],N=t===X?null:signsY[R],I=local(S),O=I.extent,H=I.selection,V=O[0][0],F,L,j=O[0][1],G,q,z=O[1][0],U,W,Z=O[1][1],Q,tt,nt=0,rt=0,lt,ut=P&&N&&i&&$.shiftKey,st,pt,ct=Array.from($.touches||[$],it=>{const dt=it.identifier;return it=pointer(it,S),it.point0=it.slice(),it.identifier=dt,it});interrupt(S);var mt=p(S,arguments,!0).beforestart();if(R==="overlay"){H&&(lt=!0);const it=[ct[0],ct[1]||ct[0]];I.selection=H=[[F=t===Y?V:min$1(it[0][0],it[1][0]),G=t===X?j:min$1(it[0][1],it[1][1])],[U=t===Y?z:max$2(it[0][0],it[1][0]),Q=t===X?Z:max$2(it[0][1],it[1][1])]],ct.length>1&&ht($)}else F=H[0][0],G=H[0][1],U=H[1][0],Q=H[1][1];L=F,q=G,W=U,tt=Q;var et=select(S).attr("pointer-events","none"),at=et.selectAll(".overlay").attr("cursor",cursors[R]);if($.touches)mt.moved=J,mt.ended=ft;else{var ot=select($.view).on("mousemove.brush",J,!0).on("mouseup.brush",ft,!0);i&&ot.on("keydown.brush",gt,!0).on("keyup.brush",yt,!0),dragDisable($.view)}h.call(S),mt.start($,T.name);function J(it){for(const dt of it.changedTouches||[it])for(const vt of ct)vt.identifier===dt.identifier&&(vt.cur=pointer(dt,S));if(ut&&!st&&!pt&&ct.length===1){const dt=ct[0];abs$3(dt.cur[0]-dt[0])>abs$3(dt.cur[1]-dt[1])?pt=!0:st=!0}for(const dt of ct)dt.cur&&(dt[0]=dt.cur[0],dt[1]=dt.cur[1]);lt=!0,noevent$1(it),ht(it)}function ht(it){const dt=ct[0],vt=dt.point0;var bt;switch(nt=dt[0]-vt[0],rt=dt[1]-vt[1],T){case MODE_SPACE:case MODE_DRAG:{P&&(nt=max$2(V-F,min$1(z-U,nt)),L=F+nt,W=U+nt),N&&(rt=max$2(j-G,min$1(Z-Q,rt)),q=G+rt,tt=Q+rt);break}case MODE_HANDLE:{ct[1]?(P&&(L=max$2(V,min$1(z,ct[0][0])),W=max$2(V,min$1(z,ct[1][0])),P=1),N&&(q=max$2(j,min$1(Z,ct[0][1])),tt=max$2(j,min$1(Z,ct[1][1])),N=1)):(P<0?(nt=max$2(V-F,min$1(z-F,nt)),L=F+nt,W=U):P>0&&(nt=max$2(V-U,min$1(z-U,nt)),L=F,W=U+nt),N<0?(rt=max$2(j-G,min$1(Z-G,rt)),q=G+rt,tt=Q):N>0&&(rt=max$2(j-Q,min$1(Z-Q,rt)),q=G,tt=Q+rt));break}case MODE_CENTER:{P&&(L=max$2(V,min$1(z,F-nt*P)),W=max$2(V,min$1(z,U+nt*P))),N&&(q=max$2(j,min$1(Z,G-rt*N)),tt=max$2(j,min$1(Z,Q+rt*N)));break}}W<L&&(P*=-1,bt=F,F=U,U=bt,bt=L,L=W,W=bt,R in flipX&&at.attr("cursor",cursors[R=flipX[R]])),tt<q&&(N*=-1,bt=G,G=Q,Q=bt,bt=q,q=tt,tt=bt,R in flipY&&at.attr("cursor",cursors[R=flipY[R]])),I.selection&&(H=I.selection),st&&(L=H[0][0],W=H[1][0]),pt&&(q=H[0][1],tt=H[1][1]),(H[0][0]!==L||H[0][1]!==q||H[1][0]!==W||H[1][1]!==tt)&&(I.selection=[[L,q],[W,tt]],h.call(S),mt.brush(it,T.name))}function ft(it){if(nopropagation$1(it),it.touches){if(it.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else yesdrag(it.view,lt),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);et.attr("pointer-events","all"),at.attr("cursor",cursors.overlay),I.selection&&(H=I.selection),empty(H)&&(I.selection=null,h.call(S)),mt.end(it,T.name)}function gt(it){switch(it.keyCode){case 16:{ut=P&&N;break}case 18:{T===MODE_HANDLE&&(P&&(U=W-nt*P,F=L+nt*P),N&&(Q=tt-rt*N,G=q+rt*N),T=MODE_CENTER,ht(it));break}case 32:{(T===MODE_HANDLE||T===MODE_CENTER)&&(P<0?U=W-nt:P>0&&(F=L-nt),N<0?Q=tt-rt:N>0&&(G=q-rt),T=MODE_SPACE,at.attr("cursor",cursors.selection),ht(it));break}default:return}noevent$1(it)}function yt(it){switch(it.keyCode){case 16:{ut&&(st=pt=ut=!1,ht(it));break}case 18:{T===MODE_CENTER&&(P<0?U=W:P>0&&(F=L),N<0?Q=tt:N>0&&(G=q),T=MODE_HANDLE,ht(it));break}case 32:{T===MODE_SPACE&&(it.altKey?(P&&(U=W-nt*P,F=L+nt*P),N&&(Q=tt-rt*N,G=q+rt*N),T=MODE_CENTER):(P<0?U=W:P>0&&(F=L),N<0?Q=tt:N>0&&(G=q),T=MODE_HANDLE),at.attr("cursor",cursors[R]),ht(it));break}default:return}noevent$1(it)}}function v($){p(this,arguments).moved($)}function _($){p(this,arguments).ended($)}function w(){var $=this.__brush||{selection:null};return $.extent=number2(e.apply(this,arguments)),$.dim=t,$}return d.extent=function($){return arguments.length?(e=typeof $=="function"?$:constant$7(number2($)),d):e},d.filter=function($){return arguments.length?(n=typeof $=="function"?$:constant$7(!!$),d):n},d.touchable=function($){return arguments.length?(r=typeof $=="function"?$:constant$7(!!$),d):r},d.handleSize=function($){return arguments.length?(l=+$,d):l},d.keyModifiers=function($){return arguments.length?(i=!!$,d):i},d.on=function(){var $=o.on.apply(o,arguments);return $===o?d:$},d}var abs$2=Math.abs,cos$2=Math.cos,sin$2=Math.sin,pi$3=Math.PI,halfPi$2=pi$3/2,tau$4=pi$3*2,max$1=Math.max,epsilon$5=1e-12;function range$1(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function compareValue(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function chord(){return chord$1(!1,!1)}function chordTranspose(){return chord$1(!1,!0)}function chordDirected(){return chord$1(!0,!1)}function chord$1(t,e){var n=0,r=null,i=null,o=null;function l(f){var d=f.length,h=new Array(d),p=range$1(0,d),b=new Array(d*d),g=new Array(d),v=0,_;f=Float64Array.from({length:d*d},e?(w,$)=>f[$%d][$/d|0]:(w,$)=>f[$/d|0][$%d]);for(let w=0;w<d;++w){let $=0;for(let S=0;S<d;++S)$+=f[w*d+S]+t*f[S*d+w];v+=h[w]=$}v=max$1(0,tau$4-n*d)/v,_=v?n:tau$4/d;{let w=0;r&&p.sort(($,S)=>r(h[$],h[S]));for(const $ of p){const S=w;if(t){const R=range$1(~d+1,d).filter(T=>T<0?f[~T*d+$]:f[$*d+T]);i&&R.sort((T,P)=>i(T<0?-f[~T*d+$]:f[$*d+T],P<0?-f[~P*d+$]:f[$*d+P]));for(const T of R)if(T<0){const P=b[~T*d+$]||(b[~T*d+$]={source:null,target:null});P.target={index:$,startAngle:w,endAngle:w+=f[~T*d+$]*v,value:f[~T*d+$]}}else{const P=b[$*d+T]||(b[$*d+T]={source:null,target:null});P.source={index:$,startAngle:w,endAngle:w+=f[$*d+T]*v,value:f[$*d+T]}}g[$]={index:$,startAngle:S,endAngle:w,value:h[$]}}else{const R=range$1(0,d).filter(T=>f[$*d+T]||f[T*d+$]);i&&R.sort((T,P)=>i(f[$*d+T],f[$*d+P]));for(const T of R){let P;if($<T?(P=b[$*d+T]||(b[$*d+T]={source:null,target:null}),P.source={index:$,startAngle:w,endAngle:w+=f[$*d+T]*v,value:f[$*d+T]}):(P=b[T*d+$]||(b[T*d+$]={source:null,target:null}),P.target={index:$,startAngle:w,endAngle:w+=f[$*d+T]*v,value:f[$*d+T]},$===T&&(P.source=P.target)),P.source&&P.target&&P.source.value<P.target.value){const N=P.source;P.source=P.target,P.target=N}}g[$]={index:$,startAngle:S,endAngle:w,value:h[$]}}w+=_}}return b=Object.values(b),b.groups=g,o?b.sort(o):b}return l.padAngle=function(f){return arguments.length?(n=max$1(0,f),l):n},l.sortGroups=function(f){return arguments.length?(r=f,l):r},l.sortSubgroups=function(f){return arguments.length?(i=f,l):i},l.sortChords=function(f){return arguments.length?(f==null?o=null:(o=compareValue(f))._=f,l):o&&o._},l}const pi$2=Math.PI,tau$3=2*pi$2,epsilon$4=1e-6,tauEpsilon=tau$3-epsilon$4;function append$1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound$1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append$1;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Path$1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append$1:appendRound$1(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,f=this._y1,d=r-e,h=i-n,p=l-e,b=f-n,g=p*p+b*b;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>epsilon$4)if(!(Math.abs(b*d-h*p)>epsilon$4)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-l,_=i-f,w=d*d+h*h,$=v*v+_*_,S=Math.sqrt(w),R=Math.sqrt(g),T=o*Math.tan((pi$2-Math.acos((w+g-$)/(2*S*R)))/2),P=T/R,N=T/S;Math.abs(P-1)>epsilon$4&&this._append`L${e+P*p},${n+P*b}`,this._append`A${o},${o},0,0,${+(b*v>p*_)},${this._x1=e+N*d},${this._y1=n+N*h}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),d=r*Math.sin(i),h=e+f,p=n+d,b=1^l,g=l?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>epsilon$4||Math.abs(this._y1-p)>epsilon$4)&&this._append`L${h},${p}`,r&&(g<0&&(g=g%tau$3+tau$3),g>tauEpsilon?this._append`A${r},${r},0,1,${b},${e-f},${n-d}A${r},${r},0,1,${b},${this._x1=h},${this._y1=p}`:g>epsilon$4&&this._append`A${r},${r},0,${+(g>=pi$2)},${b},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function path(){return new Path$1}path.prototype=Path$1.prototype;function pathRound(t=3){return new Path$1(+t)}var slice$2=Array.prototype.slice;function constant$6(t){return function(){return t}}function defaultSource$1(t){return t.source}function defaultTarget(t){return t.target}function defaultRadius$1(t){return t.radius}function defaultStartAngle(t){return t.startAngle}function defaultEndAngle(t){return t.endAngle}function defaultPadAngle(){return 0}function defaultArrowheadRadius(){return 10}function ribbon(t){var e=defaultSource$1,n=defaultTarget,r=defaultRadius$1,i=defaultRadius$1,o=defaultStartAngle,l=defaultEndAngle,f=defaultPadAngle,d=null;function h(){var p,b=e.apply(this,arguments),g=n.apply(this,arguments),v=f.apply(this,arguments)/2,_=slice$2.call(arguments),w=+r.apply(this,(_[0]=b,_)),$=o.apply(this,_)-halfPi$2,S=l.apply(this,_)-halfPi$2,R=+i.apply(this,(_[0]=g,_)),T=o.apply(this,_)-halfPi$2,P=l.apply(this,_)-halfPi$2;if(d||(d=p=path()),v>epsilon$5&&(abs$2(S-$)>v*2+epsilon$5?S>$?($+=v,S-=v):($-=v,S+=v):$=S=($+S)/2,abs$2(P-T)>v*2+epsilon$5?P>T?(T+=v,P-=v):(T-=v,P+=v):T=P=(T+P)/2),d.moveTo(w*cos$2($),w*sin$2($)),d.arc(0,0,w,$,S),$!==T||S!==P)if(t){var N=+t.apply(this,arguments),I=R-N,O=(T+P)/2;d.quadraticCurveTo(0,0,I*cos$2(T),I*sin$2(T)),d.lineTo(R*cos$2(O),R*sin$2(O)),d.lineTo(I*cos$2(P),I*sin$2(P))}else d.quadraticCurveTo(0,0,R*cos$2(T),R*sin$2(T)),d.arc(0,0,R,T,P);if(d.quadraticCurveTo(0,0,w*cos$2($),w*sin$2($)),d.closePath(),p)return d=null,p+""||null}return t&&(h.headRadius=function(p){return arguments.length?(t=typeof p=="function"?p:constant$6(+p),h):t}),h.radius=function(p){return arguments.length?(r=i=typeof p=="function"?p:constant$6(+p),h):r},h.sourceRadius=function(p){return arguments.length?(r=typeof p=="function"?p:constant$6(+p),h):r},h.targetRadius=function(p){return arguments.length?(i=typeof p=="function"?p:constant$6(+p),h):i},h.startAngle=function(p){return arguments.length?(o=typeof p=="function"?p:constant$6(+p),h):o},h.endAngle=function(p){return arguments.length?(l=typeof p=="function"?p:constant$6(+p),h):l},h.padAngle=function(p){return arguments.length?(f=typeof p=="function"?p:constant$6(+p),h):f},h.source=function(p){return arguments.length?(e=p,h):e},h.target=function(p){return arguments.length?(n=p,h):n},h.context=function(p){return arguments.length?(d=p==null?null:p,h):d},h}function ribbon$1(){return ribbon()}function ribbonArrow(){return ribbon(defaultArrowheadRadius)}var array$2=Array.prototype,slice$1=array$2.slice;function ascending$1(t,e){return t-e}function area$3(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var constant$5=t=>()=>t;function contains$2(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=ringContains(t,e[n]))return i;return 0}function ringContains(t,e){for(var n=e[0],r=e[1],i=-1,o=0,l=t.length,f=l-1;o<l;f=o++){var d=t[o],h=d[0],p=d[1],b=t[f],g=b[0],v=b[1];if(segmentContains(d,b,e))return 0;p>r!=v>r&&n<(g-h)*(r-p)/(v-p)+h&&(i=-i)}return i}function segmentContains(t,e,n){var r;return collinear$1(t,e,n)&&within(t[r=+(t[0]===e[0])],n[r],e[r])}function collinear$1(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function within(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function noop$2(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Contours(){var t=1,e=1,n=thresholdSturges,r=d;function i(h){var p=n(h);if(Array.isArray(p))p=p.slice().sort(ascending$1);else{const b=extent$1(h,finite);for(p=ticks(...nice$1(b[0],b[1],p),p);p[p.length-1]>=b[1];)p.pop();for(;p[1]<b[0];)p.shift()}return p.map(b=>o(h,b))}function o(h,p){const b=p==null?NaN:+p;if(isNaN(b))throw new Error(`invalid value: ${p}`);var g=[],v=[];return l(h,b,function(_){r(_,h,b),area$3(_)>0?g.push([_]):v.push(_)}),v.forEach(function(_){for(var w=0,$=g.length,S;w<$;++w)if(contains$2((S=g[w])[0],_)!==-1){S.push(_);return}}),{type:"MultiPolygon",value:p,coordinates:g}}function l(h,p,b){var g=new Array,v=new Array,_,w,$,S,R,T;for(_=w=-1,S=above(h[0],p),cases[S<<1].forEach(P);++_<t-1;)$=S,S=above(h[_+1],p),cases[$|S<<1].forEach(P);for(cases[S<<0].forEach(P);++w<e-1;){for(_=-1,S=above(h[w*t+t],p),R=above(h[w*t],p),cases[S<<1|R<<2].forEach(P);++_<t-1;)$=S,S=above(h[w*t+t+_+1],p),T=R,R=above(h[w*t+_+1],p),cases[$|S<<1|R<<2|T<<3].forEach(P);cases[S|R<<3].forEach(P)}for(_=-1,R=h[w*t]>=p,cases[R<<2].forEach(P);++_<t-1;)T=R,R=above(h[w*t+_+1],p),cases[R<<2|T<<3].forEach(P);cases[R<<3].forEach(P);function P(N){var I=[N[0][0]+_,N[0][1]+w],O=[N[1][0]+_,N[1][1]+w],H=f(I),V=f(O),F,L;(F=v[H])?(L=g[V])?(delete v[F.end],delete g[L.start],F===L?(F.ring.push(O),b(F.ring)):g[F.start]=v[L.end]={start:F.start,end:L.end,ring:F.ring.concat(L.ring)}):(delete v[F.end],F.ring.push(O),v[F.end=V]=F):(F=g[V])?(L=v[H])?(delete g[F.start],delete v[L.end],F===L?(F.ring.push(O),b(F.ring)):g[L.start]=v[F.end]={start:L.start,end:F.end,ring:L.ring.concat(F.ring)}):(delete g[F.start],F.ring.unshift(I),g[F.start=H]=F):g[H]=v[V]={start:H,end:V,ring:[I,O]}}}function f(h){return h[0]*2+h[1]*(t+1)*4}function d(h,p,b){h.forEach(function(g){var v=g[0],_=g[1],w=v|0,$=_|0,S=valid(p[$*t+w]);v>0&&v<t&&w===v&&(g[0]=smooth1(v,valid(p[$*t+w-1]),S,b)),_>0&&_<e&&$===_&&(g[1]=smooth1(_,valid(p[($-1)*t+w]),S,b))})}return i.contour=o,i.size=function(h){if(!arguments.length)return[t,e];var p=Math.floor(h[0]),b=Math.floor(h[1]);if(!(p>=0&&b>=0))throw new Error("invalid size");return t=p,e=b,i},i.thresholds=function(h){return arguments.length?(n=typeof h=="function"?h:Array.isArray(h)?constant$5(slice$1.call(h)):constant$5(h),i):n},i.smooth=function(h){return arguments.length?(r=h?d:noop$2,i):r===d},i}function finite(t){return isFinite(t)?t:NaN}function above(t,e){return t==null?!1:+t>=e}function valid(t){return t==null||isNaN(t=+t)?-1/0:t}function smooth1(t,e,n,r){const i=r-e,o=n-e,l=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(l)?t:t+l-.5}function defaultX$1(t){return t[0]}function defaultY$1(t){return t[1]}function defaultWeight(){return 1}function density(){var t=defaultX$1,e=defaultY$1,n=defaultWeight,r=960,i=500,o=20,l=2,f=o*3,d=r+f*2>>l,h=i+f*2>>l,p=constant$5(20);function b(R){var T=new Float32Array(d*h),P=Math.pow(2,-l),N=-1;for(const G of R){var I=(t(G,++N,R)+f)*P,O=(e(G,N,R)+f)*P,H=+n(G,N,R);if(H&&I>=0&&I<d&&O>=0&&O<h){var V=Math.floor(I),F=Math.floor(O),L=I-V-.5,j=O-F-.5;T[V+F*d]+=(1-L)*(1-j)*H,T[V+1+F*d]+=L*(1-j)*H,T[V+1+(F+1)*d]+=L*j*H,T[V+(F+1)*d]+=(1-L)*j*H}}return blur2({data:T,width:d,height:h},o*P),T}function g(R){var T=b(R),P=p(T),N=Math.pow(2,2*l);return Array.isArray(P)||(P=ticks(Number.MIN_VALUE,max$3(T)/N,P)),Contours().size([d,h]).thresholds(P.map(I=>I*N))(T).map((I,O)=>(I.value=+P[O],v(I)))}g.contours=function(R){var T=b(R),P=Contours().size([d,h]),N=Math.pow(2,2*l),I=O=>{O=+O;var H=v(P.contour(T,O*N));return H.value=O,H};return Object.defineProperty(I,"max",{get:()=>max$3(T)/N}),I};function v(R){return R.coordinates.forEach(_),R}function _(R){R.forEach(w)}function w(R){R.forEach($)}function $(R){R[0]=R[0]*Math.pow(2,l)-f,R[1]=R[1]*Math.pow(2,l)-f}function S(){return f=o*3,d=r+f*2>>l,h=i+f*2>>l,g}return g.x=function(R){return arguments.length?(t=typeof R=="function"?R:constant$5(+R),g):t},g.y=function(R){return arguments.length?(e=typeof R=="function"?R:constant$5(+R),g):e},g.weight=function(R){return arguments.length?(n=typeof R=="function"?R:constant$5(+R),g):n},g.size=function(R){if(!arguments.length)return[r,i];var T=+R[0],P=+R[1];if(!(T>=0&&P>=0))throw new Error("invalid size");return r=T,i=P,S()},g.cellSize=function(R){if(!arguments.length)return 1<<l;if(!((R=+R)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(R)/Math.LN2),S()},g.thresholds=function(R){return arguments.length?(p=typeof R=="function"?R:Array.isArray(R)?constant$5(slice$1.call(R)):constant$5(R),g):p},g.bandwidth=function(R){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((R=+R)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*R*R+1)-1)/2,S()},g}const epsilon$3=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon$3)*epsilon$3;function sum$1(t,e,n,r,i){let o,l,f,d,h=e[0],p=r[0],b=0,g=0;p>h==p>-h?(o=h,h=e[++b]):(o=p,p=r[++g]);let v=0;if(b<t&&g<n)for(p>h==p>-h?(l=h+o,f=o-(l-h),h=e[++b]):(l=p+o,f=o-(l-p),p=r[++g]),o=l,f!==0&&(i[v++]=f);b<t&&g<n;)p>h==p>-h?(l=o+h,d=l-o,f=o-(l-d)+(h-d),h=e[++b]):(l=o+p,d=l-o,f=o-(l-d)+(p-d),p=r[++g]),o=l,f!==0&&(i[v++]=f);for(;b<t;)l=o+h,d=l-o,f=o-(l-d)+(h-d),h=e[++b],o=l,f!==0&&(i[v++]=f);for(;g<n;)l=o+p,d=l-o,f=o-(l-d)+(p-d),p=r[++g],o=l,f!==0&&(i[v++]=f);return(o!==0||v===0)&&(i[v++]=o),v}function estimate(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function vec(t){return new Float64Array(t)}const ccwerrboundA=(3+16*epsilon$3)*epsilon$3,ccwerrboundB=(2+12*epsilon$3)*epsilon$3,ccwerrboundC=(9+64*epsilon$3)*epsilon$3*epsilon$3,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(t,e,n,r,i,o,l){let f,d,h,p,b,g,v,_,w,$,S,R,T,P,N,I,O,H;const V=t-i,F=n-i,L=e-o,j=r-o;P=V*j,g=splitter*V,v=g-(g-V),_=V-v,g=splitter*j,w=g-(g-j),$=j-w,N=_*$-(P-v*w-_*w-v*$),I=L*F,g=splitter*L,v=g-(g-L),_=L-v,g=splitter*F,w=g-(g-F),$=F-w,O=_*$-(I-v*w-_*w-v*$),S=N-O,b=N-S,B[0]=N-(S+b)+(b-O),R=P+S,b=R-P,T=P-(R-b)+(S-b),S=T-I,b=T-S,B[1]=T-(S+b)+(b-I),H=R+S,b=H-R,B[2]=R-(H-b)+(S-b),B[3]=H;let G=estimate(4,B),q=ccwerrboundB*l;if(G>=q||-G>=q||(b=t-V,f=t-(V+b)+(b-i),b=n-F,h=n-(F+b)+(b-i),b=e-L,d=e-(L+b)+(b-o),b=r-j,p=r-(j+b)+(b-o),f===0&&d===0&&h===0&&p===0)||(q=ccwerrboundC*l+resulterrbound*Math.abs(G),G+=V*p+j*f-(L*h+F*d),G>=q||-G>=q))return G;P=f*j,g=splitter*f,v=g-(g-f),_=f-v,g=splitter*j,w=g-(g-j),$=j-w,N=_*$-(P-v*w-_*w-v*$),I=d*F,g=splitter*d,v=g-(g-d),_=d-v,g=splitter*F,w=g-(g-F),$=F-w,O=_*$-(I-v*w-_*w-v*$),S=N-O,b=N-S,u[0]=N-(S+b)+(b-O),R=P+S,b=R-P,T=P-(R-b)+(S-b),S=T-I,b=T-S,u[1]=T-(S+b)+(b-I),H=R+S,b=H-R,u[2]=R-(H-b)+(S-b),u[3]=H;const z=sum$1(4,B,4,u,C1);P=V*p,g=splitter*V,v=g-(g-V),_=V-v,g=splitter*p,w=g-(g-p),$=p-w,N=_*$-(P-v*w-_*w-v*$),I=L*h,g=splitter*L,v=g-(g-L),_=L-v,g=splitter*h,w=g-(g-h),$=h-w,O=_*$-(I-v*w-_*w-v*$),S=N-O,b=N-S,u[0]=N-(S+b)+(b-O),R=P+S,b=R-P,T=P-(R-b)+(S-b),S=T-I,b=T-S,u[1]=T-(S+b)+(b-I),H=R+S,b=H-R,u[2]=R-(H-b)+(S-b),u[3]=H;const U=sum$1(z,C1,4,u,C2);P=f*p,g=splitter*f,v=g-(g-f),_=f-v,g=splitter*p,w=g-(g-p),$=p-w,N=_*$-(P-v*w-_*w-v*$),I=d*h,g=splitter*d,v=g-(g-d),_=d-v,g=splitter*h,w=g-(g-h),$=h-w,O=_*$-(I-v*w-_*w-v*$),S=N-O,b=N-S,u[0]=N-(S+b)+(b-O),R=P+S,b=R-P,T=P-(R-b)+(S-b),S=T-I,b=T-S,u[1]=T-(S+b)+(b-I),H=R+S,b=H-R,u[2]=R-(H-b)+(S-b),u[3]=H;const W=sum$1(U,C2,4,u,D);return D[W-1]}function orient2d(t,e,n,r,i,o){const l=(e-o)*(n-i),f=(t-i)*(r-o),d=l-f;if(l===0||f===0||l>0!=f>0)return d;const h=Math.abs(l+f);return Math.abs(d)>=ccwerrboundA*h?d:-orient2dadapt(t,e,n,r,i,o,h)}const EPSILON=Math.pow(2,-52),EDGE_STACK=new Uint32Array(512);class Delaunator{static from(e,n=defaultGetX,r=defaultGetY){const i=e.length,o=new Float64Array(i*2);for(let l=0;l<i;l++){const f=e[l];o[2*l]=n(f),o[2*l+1]=r(f)}return new Delaunator(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,l=e.length>>1;let f=1/0,d=1/0,h=-1/0,p=-1/0;for(let F=0;F<l;F++){const L=e[2*F],j=e[2*F+1];L<f&&(f=L),j<d&&(d=j),L>h&&(h=L),j>p&&(p=j),this._ids[F]=F}const b=(f+h)/2,g=(d+p)/2;let v=1/0,_,w,$;for(let F=0;F<l;F++){const L=dist(b,g,e[2*F],e[2*F+1]);L<v&&(_=F,v=L)}const S=e[2*_],R=e[2*_+1];v=1/0;for(let F=0;F<l;F++){if(F===_)continue;const L=dist(S,R,e[2*F],e[2*F+1]);L<v&&L>0&&(w=F,v=L)}let T=e[2*w],P=e[2*w+1],N=1/0;for(let F=0;F<l;F++){if(F===_||F===w)continue;const L=circumradius(S,R,T,P,e[2*F],e[2*F+1]);L<N&&($=F,N=L)}let I=e[2*$],O=e[2*$+1];if(N===1/0){for(let j=0;j<l;j++)this._dists[j]=e[2*j]-e[0]||e[2*j+1]-e[1];quicksort(this._ids,this._dists,0,l-1);const F=new Uint32Array(l);let L=0;for(let j=0,G=-1/0;j<l;j++){const q=this._ids[j];this._dists[q]>G&&(F[L++]=q,G=this._dists[q])}this.hull=F.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(orient2d(S,R,T,P,I,O)<0){const F=w,L=T,j=P;w=$,T=I,P=O,$=F,I=L,O=j}const H=circumcenter(S,R,T,P,I,O);this._cx=H.x,this._cy=H.y;for(let F=0;F<l;F++)this._dists[F]=dist(e[2*F],e[2*F+1],H.x,H.y);quicksort(this._ids,this._dists,0,l-1),this._hullStart=_;let V=3;r[_]=n[$]=w,r[w]=n[_]=$,r[$]=n[w]=_,i[_]=0,i[w]=1,i[$]=2,o.fill(-1),o[this._hashKey(S,R)]=_,o[this._hashKey(T,P)]=w,o[this._hashKey(I,O)]=$,this.trianglesLen=0,this._addTriangle(_,w,$,-1,-1,-1);for(let F=0,L,j;F<this._ids.length;F++){const G=this._ids[F],q=e[2*G],z=e[2*G+1];if(F>0&&Math.abs(q-L)<=EPSILON&&Math.abs(z-j)<=EPSILON||(L=q,j=z,G===_||G===w||G===$))continue;let U=0;for(let nt=0,rt=this._hashKey(q,z);nt<this._hashSize&&(U=o[(rt+nt)%this._hashSize],!(U!==-1&&U!==r[U]));nt++);U=n[U];let W=U,Z;for(;Z=r[W],orient2d(q,z,e[2*W],e[2*W+1],e[2*Z],e[2*Z+1])>=0;)if(W=Z,W===U){W=-1;break}if(W===-1)continue;let Q=this._addTriangle(W,G,r[W],-1,-1,i[W]);i[G]=this._legalize(Q+2),i[W]=Q,V++;let tt=r[W];for(;Z=r[tt],orient2d(q,z,e[2*tt],e[2*tt+1],e[2*Z],e[2*Z+1])<0;)Q=this._addTriangle(tt,G,Z,i[G],-1,i[tt]),i[G]=this._legalize(Q+2),r[tt]=tt,V--,tt=Z;if(W===U)for(;Z=n[W],orient2d(q,z,e[2*Z],e[2*Z+1],e[2*W],e[2*W+1])<0;)Q=this._addTriangle(Z,G,W,-1,i[W],i[Z]),this._legalize(Q+2),i[Z]=Q,r[W]=W,V--,W=Z;this._hullStart=n[G]=W,r[W]=n[tt]=G,r[G]=tt,o[this._hashKey(q,z)]=G,o[this._hashKey(e[2*W],e[2*W+1])]=W}this.hull=new Uint32Array(V);for(let F=0,L=this._hullStart;F<V;F++)this.hull[F]=L,L=r[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(pseudoAngle(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,l=0;for(;;){const f=r[e],d=e-e%3;if(l=d+(e+2)%3,f===-1){if(o===0)break;e=EDGE_STACK[--o];continue}const h=f-f%3,p=d+(e+1)%3,b=h+(f+2)%3,g=n[l],v=n[e],_=n[p],w=n[b];if(inCircle(i[2*g],i[2*g+1],i[2*v],i[2*v+1],i[2*_],i[2*_+1],i[2*w],i[2*w+1])){n[e]=w,n[f]=g;const S=r[b];if(S===-1){let T=this._hullStart;do{if(this._hullTri[T]===b){this._hullTri[T]=e;break}T=this._hullPrev[T]}while(T!==this._hullStart)}this._link(e,S),this._link(f,r[l]),this._link(l,b);const R=h+(f+1)%3;o<EDGE_STACK.length&&(EDGE_STACK[o++]=R)}else{if(o===0)break;e=EDGE_STACK[--o]}}return l}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,l){const f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=n,this._triangles[f+2]=r,this._link(f,i),this._link(f+1,o),this._link(f+2,l),this.trianglesLen+=3,f}}function pseudoAngle(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function dist(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function inCircle(t,e,n,r,i,o,l,f){const d=t-l,h=e-f,p=n-l,b=r-f,g=i-l,v=o-f,_=d*d+h*h,w=p*p+b*b,$=g*g+v*v;return d*(b*$-w*v)-h*(p*$-w*g)+_*(p*v-b*g)<0}function circumradius(t,e,n,r,i,o){const l=n-t,f=r-e,d=i-t,h=o-e,p=l*l+f*f,b=d*d+h*h,g=.5/(l*h-f*d),v=(h*p-f*b)*g,_=(l*b-d*p)*g;return v*v+_*_}function circumcenter(t,e,n,r,i,o){const l=n-t,f=r-e,d=i-t,h=o-e,p=l*l+f*f,b=d*d+h*h,g=.5/(l*h-f*d),v=t+(h*p-f*b)*g,_=e+(l*b-d*p)*g;return{x:v,y:_}}function quicksort(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],l=e[o];let f=i-1;for(;f>=n&&e[t[f]]>l;)t[f+1]=t[f--];t[f+1]=o}else{const i=n+r>>1;let o=n+1,l=r;swap(t,i,o),e[t[n]]>e[t[r]]&&swap(t,n,r),e[t[o]]>e[t[r]]&&swap(t,o,r),e[t[n]]>e[t[o]]&&swap(t,n,o);const f=t[o],d=e[f];for(;;){do o++;while(e[t[o]]<d);do l--;while(e[t[l]]>d);if(l<o)break;swap(t,o,l)}t[n+1]=t[l],t[l]=f,r-o+1>=l-n?(quicksort(t,e,o,r),quicksort(t,e,n,l-1)):(quicksort(t,e,n,l-1),quicksort(t,e,o,r))}}function swap(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function defaultGetX(t){return t[0]}function defaultGetY(t){return t[1]}const epsilon$2=1e-6;class Path{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>epsilon$2||Math.abs(this._y1-o)>epsilon$2)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class Voronoi{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,_=0,w=r.length,$,S;v<w;v+=3,_+=2){const R=r[v]*2,T=r[v+1]*2,P=r[v+2]*2,N=e[R],I=e[R+1],O=e[T],H=e[T+1],V=e[P],F=e[P+1],L=O-N,j=H-I,G=V-N,q=F-I,z=(L*q-j*G)*2;if(Math.abs(z)<1e-9){let U=1e9;const W=r[0]*2;U*=Math.sign((e[W]-N)*q-(e[W+1]-I)*G),$=(N+V)/2-U*q,S=(I+F)/2+U*G}else{const U=1/z,W=L*L+j*j,Z=G*G+q*q;$=N+(q*W-j*Z)*U,S=I+(L*Z-G*W)*U}o[_]=$,o[_+1]=S}let l=n[n.length-1],f,d=l*4,h,p=e[2*l],b,g=e[2*l+1];i.fill(0);for(let v=0;v<n.length;++v)l=n[v],f=d,h=p,b=g,d=l*4,p=e[2*l],g=e[2*l+1],i[f+2]=i[d]=b-g,i[f+3]=i[d+1]=p-h}render(e){const n=e==null?e=new Path:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:l,vectors:f}=this;if(o.length<=1)return null;for(let p=0,b=r.length;p<b;++p){const g=r[p];if(g<p)continue;const v=Math.floor(p/3)*2,_=Math.floor(g/3)*2,w=l[v],$=l[v+1],S=l[_],R=l[_+1];this._renderSegment(w,$,S,R,e)}let d,h=o[o.length-1];for(let p=0;p<o.length;++p){d=h,h=o[p];const b=Math.floor(i[h]/3)*2,g=l[b],v=l[b+1],_=d*4,w=this._project(g,v,f[_+2],f[_+3]);w&&this._renderSegment(g,v,w[0],w[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Path:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new Path:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let l=2;l<o;l+=2)(i[l]!==i[l-2]||i[l+1]!==i[l-1])&&n.lineTo(i[l],i[l+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new Polygon;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let l;const f=this._regioncode(e,n),d=this._regioncode(r,i);f===0&&d===0?(o.moveTo(e,n),o.lineTo(r,i)):(l=this._clipSegment(e,n,r,i,f,d))&&(o.moveTo(l[0],l[1]),o.lineTo(l[2],l[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let o=0,l=n.length;o<l;o+=2)for(let f=0,d=i.length;f<d;f+=2)if(n[o]==i[f]&&n[o+1]==i[f+1]&&n[(o+2)%l]==i[(f+d-2)%d]&&n[(o+3)%l]==i[(f+d-1)%d]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,l=r[e];if(l===-1)return null;const f=[];let d=l;do{const h=Math.floor(d/3);if(f.push(n[h*2],n[h*2+1]),d=d%3===2?d-2:d+1,o[d]!==e)break;d=i[d]}while(d!==l&&d!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n)}_clipFinite(e,n){const r=n.length;let i=null,o,l,f=n[r-2],d=n[r-1],h,p=this._regioncode(f,d),b,g=0;for(let v=0;v<r;v+=2)if(o=f,l=d,f=n[v],d=n[v+1],h=p,p=this._regioncode(f,d),h===0&&p===0)b=g,g=0,i?i.push(f,d):i=[f,d];else{let _,w,$,S,R;if(h===0){if((_=this._clipSegment(o,l,f,d,h,p))===null)continue;[w,$,S,R]=_}else{if((_=this._clipSegment(f,d,o,l,p,h))===null)continue;[S,R,w,$]=_,b=g,g=this._edgecode(w,$),b&&g&&this._edge(e,b,g,i,i.length),i?i.push(w,$):i=[w,$]}b=g,g=this._edgecode(S,R),b&&g&&this._edge(e,b,g,i,i.length),i?i.push(S,R):i=[S,R]}if(i)b=g,g=this._edgecode(i[0],i[1]),b&&g&&this._edge(e,b,g,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,l){for(;;){if(o===0&&l===0)return[e,n,r,i];if(o&l)return null;let f,d,h=o||l;h&8?(f=e+(r-e)*(this.ymax-n)/(i-n),d=this.ymax):h&4?(f=e+(r-e)*(this.ymin-n)/(i-n),d=this.ymin):h&2?(d=n+(i-n)*(this.xmax-e)/(r-e),f=this.xmax):(d=n+(i-n)*(this.xmin-e)/(r-e),f=this.xmin),o?(e=f,n=d,o=this._regioncode(e,n)):(r=f,i=d,l=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,l){let f=Array.from(n),d;if((d=this._project(f[0],f[1],r,i))&&f.unshift(d[0],d[1]),(d=this._project(f[f.length-2],f[f.length-1],o,l))&&f.push(d[0],d[1]),f=this._clipFinite(e,f))for(let h=0,p=f.length,b,g=this._edgecode(f[p-2],f[p-1]);h<p;h+=2)b=g,g=this._edgecode(f[h],f[h+1]),b&&g&&(h=this._edge(e,b,g,f,h),p=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,n,r,i,o){for(;n!==r;){let l,f;switch(n){case 5:n=4;continue;case 4:n=6,l=this.xmax,f=this.ymin;break;case 6:n=2;continue;case 2:n=10,l=this.xmax,f=this.ymax;break;case 10:n=8;continue;case 8:n=9,l=this.xmin,f=this.ymax;break;case 9:n=1;continue;case 1:n=5,l=this.xmin,f=this.ymin;break}(i[o]!==l||i[o+1]!==f)&&this.contains(e,l,f)&&(i.splice(o,0,l,f),o+=2)}if(i.length>4)for(let l=0;l<i.length;l+=2){const f=(l+2)%i.length,d=(l+4)%i.length;(i[l]===i[f]&&i[f]===i[d]||i[l+1]===i[f+1]&&i[f+1]===i[d+1])&&(i.splice(f,2),l-=2)}return o}_project(e,n,r,i){let o=1/0,l,f,d;if(i<0){if(n<=this.ymin)return null;(l=(this.ymin-n)/i)<o&&(d=this.ymin,f=e+(o=l)*r)}else if(i>0){if(n>=this.ymax)return null;(l=(this.ymax-n)/i)<o&&(d=this.ymax,f=e+(o=l)*r)}if(r>0){if(e>=this.xmax)return null;(l=(this.xmax-e)/r)<o&&(f=this.xmax,d=n+(o=l)*i)}else if(r<0){if(e<=this.xmin)return null;(l=(this.xmin-e)/r)<o&&(f=this.xmin,d=n+(o=l)*i)}return[f,d]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const tau$2=2*Math.PI,pow$2=Math.pow;function pointX(t){return t[0]}function pointY(t){return t[1]}function collinear(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],l=2*e[r+2];if((n[l]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[l+1]-n[i+1])>1e-10)return!1}return!0}function jitter(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Delaunay{static from(e,n=pointX,r=pointY,i){return new Delaunay("length"in e?flatArray(e,n,r,i):Float64Array.from(flatIterable(e,n,r,i)))}constructor(e){this._delaunator=new Delaunator(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&collinear(e)){this.collinear=Int32Array.from({length:n.length/2},(g,v)=>v).sort((g,v)=>n[2*g]-n[2*v]||n[2*g+1]-n[2*v+1]);const d=this.collinear[0],h=this.collinear[this.collinear.length-1],p=[n[2*d],n[2*d+1],n[2*h],n[2*h+1]],b=1e-8*Math.hypot(p[3]-p[1],p[2]-p[0]);for(let g=0,v=n.length/2;g<v;++g){const _=jitter(n[2*g],n[2*g+1],b);n[2*g]=_[0],n[2*g+1]=_[1]}this._delaunator=new Delaunator(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,l=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let d=0,h=r.length;d<h;++d){const p=o[d%3===2?d-2:d+1];(r[d]===-1||l[p]===-1)&&(l[p]=d)}for(let d=0,h=i.length;d<h;++d)f[i[d]]=d;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],l[i[0]]=1,i.length===2&&(l[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new Voronoi(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:l,collinear:f}=this;if(f){const b=f.indexOf(e);b>0&&(yield f[b-1]),b<f.length-1&&(yield f[b+1]);return}const d=n[e];if(d===-1)return;let h=d,p=-1;do{if(yield p=l[h],h=h%3===2?h-2:h+1,l[h]!==e)return;if(h=o[h],h===-1){const b=r[(i[e]+1)%r.length];b!==p&&(yield b);return}}while(h!==d)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:l,halfedges:f,triangles:d,points:h}=this;if(i[e]===-1||!h.length)return(e+1)%(h.length>>1);let p=e,b=pow$2(n-h[e*2],2)+pow$2(r-h[e*2+1],2);const g=i[e];let v=g;do{let _=d[v];const w=pow$2(n-h[_*2],2)+pow$2(r-h[_*2+1],2);if(w<b&&(b=w,p=_),v=v%3===2?v-2:v+1,d[v]!==e)break;if(v=f[v],v===-1){if(v=o[(l[e]+1)%o.length],v!==_&&pow$2(n-h[v*2],2)+pow$2(r-h[v*2+1],2)<b)return v;break}}while(v!==g);return p}render(e){const n=e==null?e=new Path:void 0,{points:r,halfedges:i,triangles:o}=this;for(let l=0,f=i.length;l<f;++l){const d=i[l];if(d<l)continue;const h=o[l]*2,p=o[d]*2;e.moveTo(r[h],r[h+1]),e.lineTo(r[p],r[p+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new Path:void 0,{points:i}=this;for(let o=0,l=i.length;o<l;o+=2){const f=i[o],d=i[o+1];e.moveTo(f+n,d),e.arc(f,d,n,0,tau$2)}return r&&r.value()}renderHull(e){const n=e==null?e=new Path:void 0,{hull:r,points:i}=this,o=r[0]*2,l=r.length;e.moveTo(i[o],i[o+1]);for(let f=1;f<l;++f){const d=2*r[f];e.lineTo(i[d],i[d+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new Polygon;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new Path:void 0,{points:i,triangles:o}=this,l=o[e*=3]*2,f=o[e+1]*2,d=o[e+2]*2;return n.moveTo(i[l],i[l+1]),n.lineTo(i[f],i[f+1]),n.lineTo(i[d],i[d+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new Polygon;return this.renderTriangle(e,n),n.value()}}function flatArray(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let l=0;l<i;++l){const f=t[l];o[l*2]=e.call(r,f,l,t),o[l*2+1]=n.call(r,f,l,t)}return o}function*flatIterable(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function customConverter(t,e){var n=objectConverter(t);return function(r,i){return e(n(r),i,t)}}function inferColumns(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function pad$1(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function formatYear$1(t){return t<0?"-"+pad$1(-t,6):t>9999?"+"+pad$1(t,6):pad$1(t,4)}function formatDate(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":formatYear$1(t.getUTCFullYear())+"-"+pad$1(t.getUTCMonth()+1,2)+"-"+pad$1(t.getUTCDate(),2)+(i?"T"+pad$1(e,2)+":"+pad$1(n,2)+":"+pad$1(r,2)+"."+pad$1(i,3)+"Z":r?"T"+pad$1(e,2)+":"+pad$1(n,2)+":"+pad$1(r,2)+"Z":n||e?"T"+pad$1(e,2)+":"+pad$1(n,2)+"Z":"")}function dsvFormat(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(b,g){var v,_,w=i(b,function($,S){if(v)return v($,S-1);_=$,v=g?customConverter($,g):objectConverter($)});return w.columns=_||[],w}function i(b,g){var v=[],_=b.length,w=0,$=0,S,R=_<=0,T=!1;b.charCodeAt(_-1)===NEWLINE&&--_,b.charCodeAt(_-1)===RETURN&&--_;function P(){if(R)return EOF;if(T)return T=!1,EOL;var I,O=w,H;if(b.charCodeAt(O)===QUOTE){for(;w++<_&&b.charCodeAt(w)!==QUOTE||b.charCodeAt(++w)===QUOTE;);return(I=w)>=_?R=!0:(H=b.charCodeAt(w++))===NEWLINE?T=!0:H===RETURN&&(T=!0,b.charCodeAt(w)===NEWLINE&&++w),b.slice(O+1,I-1).replace(/""/g,'"')}for(;w<_;){if((H=b.charCodeAt(I=w++))===NEWLINE)T=!0;else if(H===RETURN)T=!0,b.charCodeAt(w)===NEWLINE&&++w;else if(H!==n)continue;return b.slice(O,I)}return R=!0,b.slice(O,_)}for(;(S=P())!==EOF;){for(var N=[];S!==EOL&&S!==EOF;)N.push(S),S=P();g&&(N=g(N,$++))==null||v.push(N)}return v}function o(b,g){return b.map(function(v){return g.map(function(_){return p(v[_])}).join(t)})}function l(b,g){return g==null&&(g=inferColumns(b)),[g.map(p).join(t)].concat(o(b,g)).join(`
`)}function f(b,g){return g==null&&(g=inferColumns(b)),o(b,g).join(`
`)}function d(b){return b.map(h).join(`
`)}function h(b){return b.map(p).join(t)}function p(b){return b==null?"":b instanceof Date?formatDate(b):e.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:r,parseRows:i,format:l,formatBody:f,formatRows:d,formatRow:h,formatValue:p}}var csv$1=dsvFormat(","),csvParse=csv$1.parse,csvParseRows=csv$1.parseRows,csvFormat=csv$1.format,csvFormatBody=csv$1.formatBody,csvFormatRows=csv$1.formatRows,csvFormatRow=csv$1.formatRow,csvFormatValue=csv$1.formatValue,tsv$1=dsvFormat("	"),tsvParse=tsv$1.parse,tsvParseRows=tsv$1.parseRows,tsvFormat=tsv$1.format,tsvFormatBody=tsv$1.formatBody,tsvFormatRows=tsv$1.formatRows,tsvFormatRow=tsv$1.formatRow,tsvFormatValue=tsv$1.formatValue;function autoType(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))fixtz&&!!i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const fixtz=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function responseBlob(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function blob(t,e){return fetch(t,e).then(responseBlob)}function responseArrayBuffer(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function buffer(t,e){return fetch(t,e).then(responseArrayBuffer)}function responseText(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function text(t,e){return fetch(t,e).then(responseText)}function dsvParse(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),text(e,n).then(function(i){return t(i,r)})}}function dsv(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=dsvFormat(t);return text(e,n).then(function(o){return i.parse(o,r)})}var csv=dsvParse(csvParse),tsv=dsvParse(tsvParse);function image(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function responseJson(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function json(t,e){return fetch(t,e).then(responseJson)}function parser(t){return(e,n)=>text(e,n).then(r=>new DOMParser().parseFromString(r,t))}var xml=parser("application/xml"),html=parser("text/html"),svg=parser("image/svg+xml");function center(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,l=n.length,f,d=0,h=0;for(o=0;o<l;++o)f=n[o],d+=f.x,h+=f.y;for(d=(d/l-t)*r,h=(h/l-e)*r,o=0;o<l;++o)f=n[o],f.x-=d,f.y-=h}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function tree_add(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return add(this.cover(e,n),e,n,t)}function add(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,l={data:r},f=t._x0,d=t._y0,h=t._x1,p=t._y1,b,g,v,_,w,$,S,R;if(!o)return t._root=l,t;for(;o.length;)if((w=e>=(b=(f+h)/2))?f=b:h=b,($=n>=(g=(d+p)/2))?d=g:p=g,i=o,!(o=o[S=$<<1|w]))return i[S]=l,t;if(v=+t._x.call(null,o.data),_=+t._y.call(null,o.data),e===v&&n===_)return l.next=o,i?i[S]=l:t._root=l,t;do i=i?i[S]=new Array(4):t._root=new Array(4),(w=e>=(b=(f+h)/2))?f=b:h=b,($=n>=(g=(d+p)/2))?d=g:p=g;while((S=$<<1|w)===(R=(_>=g)<<1|v>=b));return i[R]=o,i[S]=l,t}function addAll(t){var e,n,r=t.length,i,o,l=new Array(r),f=new Array(r),d=1/0,h=1/0,p=-1/0,b=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(l[n]=i,f[n]=o,i<d&&(d=i),i>p&&(p=i),o<h&&(h=o),o>b&&(b=o));if(d>p||h>b)return this;for(this.cover(d,h).cover(p,b),n=0;n<r;++n)add(this,l[n],f[n],t[n]);return this}function tree_cover(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var l=i-n||1,f=this._root,d,h;n>t||t>=i||r>e||e>=o;)switch(h=(e<r)<<1|t<n,d=new Array(4),d[h]=f,f=d,l*=2,h){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function tree_data(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function tree_extent(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function tree_find(t,e,n){var r,i=this._x0,o=this._y0,l,f,d,h,p=this._x1,b=this._y1,g=[],v=this._root,_,w;for(v&&g.push(new Quad(v,i,o,p,b)),n==null?n=1/0:(i=t-n,o=e-n,p=t+n,b=e+n,n*=n);_=g.pop();)if(!(!(v=_.node)||(l=_.x0)>p||(f=_.y0)>b||(d=_.x1)<i||(h=_.y1)<o))if(v.length){var $=(l+d)/2,S=(f+h)/2;g.push(new Quad(v[3],$,S,d,h),new Quad(v[2],l,S,$,h),new Quad(v[1],$,f,d,S),new Quad(v[0],l,f,$,S)),(w=(e>=S)<<1|t>=$)&&(_=g[g.length-1],g[g.length-1]=g[g.length-1-w],g[g.length-1-w]=_)}else{var R=t-+this._x.call(null,v.data),T=e-+this._y.call(null,v.data),P=R*R+T*T;if(P<n){var N=Math.sqrt(n=P);i=t-N,o=e-N,p=t+N,b=e+N,r=v.data}}return r}function tree_remove(t){if(isNaN(p=+this._x.call(null,t))||isNaN(b=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p,b,g,v,_,w,$,S;if(!n)return this;if(n.length)for(;;){if((_=p>=(g=(l+d)/2))?l=g:d=g,(w=b>=(v=(f+h)/2))?f=v:h=v,e=n,!(n=n[$=w<<1|_]))return this;if(!n.length)break;(e[$+1&3]||e[$+2&3]||e[$+3&3])&&(r=e,S=$)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[$]=o:delete e[$],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[S]=n:this._root=n),this):(this._root=o,this)}function removeAll(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function tree_root(){return this._root}function tree_size(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function tree_visit(t){var e=[],n,r=this._root,i,o,l,f,d;for(r&&e.push(new Quad(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,l=n.y0,f=n.x1,d=n.y1)&&r.length){var h=(o+f)/2,p=(l+d)/2;(i=r[3])&&e.push(new Quad(i,h,p,f,d)),(i=r[2])&&e.push(new Quad(i,o,p,h,d)),(i=r[1])&&e.push(new Quad(i,h,l,f,p)),(i=r[0])&&e.push(new Quad(i,o,l,h,p))}return this}function tree_visitAfter(t){var e=[],n=[],r;for(this._root&&e.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,l=r.x0,f=r.y0,d=r.x1,h=r.y1,p=(l+d)/2,b=(f+h)/2;(o=i[0])&&e.push(new Quad(o,l,f,p,b)),(o=i[1])&&e.push(new Quad(o,p,f,d,b)),(o=i[2])&&e.push(new Quad(o,l,b,p,h)),(o=i[3])&&e.push(new Quad(o,p,b,d,h))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function defaultX(t){return t[0]}function tree_x(t){return arguments.length?(this._x=t,this):this._x}function defaultY(t){return t[1]}function tree_y(t){return arguments.length?(this._y=t,this):this._y}function quadtree(t,e,n){var r=new Quadtree(e==null?defaultX:e,n==null?defaultY:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Quadtree(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function leaf_copy(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var t=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=leaf_copy(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=leaf_copy(r));return t};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$4(t){return function(){return t}}function jiggle(t){return(t()-.5)*1e-6}function x$3(t){return t.x+t.vx}function y$3(t){return t.y+t.vy}function collide(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=constant$4(t==null?1:+t));function l(){for(var h,p=e.length,b,g,v,_,w,$,S=0;S<o;++S)for(b=quadtree(e,x$3,y$3).visitAfter(f),h=0;h<p;++h)g=e[h],w=n[g.index],$=w*w,v=g.x+g.vx,_=g.y+g.vy,b.visit(R);function R(T,P,N,I,O){var H=T.data,V=T.r,F=w+V;if(H){if(H.index>g.index){var L=v-H.x-H.vx,j=_-H.y-H.vy,G=L*L+j*j;G<F*F&&(L===0&&(L=jiggle(r),G+=L*L),j===0&&(j=jiggle(r),G+=j*j),G=(F-(G=Math.sqrt(G)))/G*i,g.vx+=(L*=G)*(F=(V*=V)/($+V)),g.vy+=(j*=G)*F,H.vx-=L*(F=1-F),H.vy-=j*F)}return}return P>v+F||I<v-F||N>_+F||O<_-F}}function f(h){if(h.data)return h.r=n[h.data.index];for(var p=h.r=0;p<4;++p)h[p]&&h[p].r>h.r&&(h.r=h[p].r)}function d(){if(!!e){var h,p=e.length,b;for(n=new Array(p),h=0;h<p;++h)b=e[h],n[b.index]=+t(b,h,e)}}return l.initialize=function(h,p){e=h,r=p,d()},l.iterations=function(h){return arguments.length?(o=+h,l):o},l.strength=function(h){return arguments.length?(i=+h,l):i},l.radius=function(h){return arguments.length?(t=typeof h=="function"?h:constant$4(+h),d(),l):t},l}function index$3(t){return t.index}function find(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function link$2(t){var e=index$3,n=b,r,i=constant$4(30),o,l,f,d,h,p=1;t==null&&(t=[]);function b($){return 1/Math.min(f[$.source.index],f[$.target.index])}function g($){for(var S=0,R=t.length;S<p;++S)for(var T=0,P,N,I,O,H,V,F;T<R;++T)P=t[T],N=P.source,I=P.target,O=I.x+I.vx-N.x-N.vx||jiggle(h),H=I.y+I.vy-N.y-N.vy||jiggle(h),V=Math.sqrt(O*O+H*H),V=(V-o[T])/V*$*r[T],O*=V,H*=V,I.vx-=O*(F=d[T]),I.vy-=H*F,N.vx+=O*(F=1-F),N.vy+=H*F}function v(){if(!!l){var $,S=l.length,R=t.length,T=new Map(l.map((N,I)=>[e(N,I,l),N])),P;for($=0,f=new Array(S);$<R;++$)P=t[$],P.index=$,typeof P.source!="object"&&(P.source=find(T,P.source)),typeof P.target!="object"&&(P.target=find(T,P.target)),f[P.source.index]=(f[P.source.index]||0)+1,f[P.target.index]=(f[P.target.index]||0)+1;for($=0,d=new Array(R);$<R;++$)P=t[$],d[$]=f[P.source.index]/(f[P.source.index]+f[P.target.index]);r=new Array(R),_(),o=new Array(R),w()}}function _(){if(!!l)for(var $=0,S=t.length;$<S;++$)r[$]=+n(t[$],$,t)}function w(){if(!!l)for(var $=0,S=t.length;$<S;++$)o[$]=+i(t[$],$,t)}return g.initialize=function($,S){l=$,h=S,v()},g.links=function($){return arguments.length?(t=$,v(),g):t},g.id=function($){return arguments.length?(e=$,g):e},g.iterations=function($){return arguments.length?(p=+$,g):p},g.strength=function($){return arguments.length?(n=typeof $=="function"?$:constant$4(+$),_(),g):n},g.distance=function($){return arguments.length?(i=typeof $=="function"?$:constant$4(+$),w(),g):i},g}const a$2=1664525,c$4=1013904223,m$1=4294967296;function lcg$2(){let t=1;return()=>(t=(a$2*t+c$4)%m$1)/m$1}function x$2(t){return t.x}function y$2(t){return t.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,l=.6,f=new Map,d=timer(b),h=dispatch("tick","end"),p=lcg$2();t==null&&(t=[]);function b(){g(),h.call("tick",e),n<r&&(d.stop(),h.call("end",e))}function g(w){var $,S=t.length,R;w===void 0&&(w=1);for(var T=0;T<w;++T)for(n+=(o-n)*i,f.forEach(function(P){P(n)}),$=0;$<S;++$)R=t[$],R.fx==null?R.x+=R.vx*=l:(R.x=R.fx,R.vx=0),R.fy==null?R.y+=R.vy*=l:(R.y=R.fy,R.vy=0);return e}function v(){for(var w=0,$=t.length,S;w<$;++w){if(S=t[w],S.index=w,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var R=initialRadius*Math.sqrt(.5+w),T=w*initialAngle;S.x=R*Math.cos(T),S.y=R*Math.sin(T)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function _(w){return w.initialize&&w.initialize(t,p),w}return v(),e={tick:g,restart:function(){return d.restart(b),e},stop:function(){return d.stop(),e},nodes:function(w){return arguments.length?(t=w,v(),f.forEach(_),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(i=+w,e):+i},alphaTarget:function(w){return arguments.length?(o=+w,e):o},velocityDecay:function(w){return arguments.length?(l=1-w,e):1-l},randomSource:function(w){return arguments.length?(p=w,f.forEach(_),e):p},force:function(w,$){return arguments.length>1?($==null?f.delete(w):f.set(w,_($)),e):f.get(w)},find:function(w,$,S){var R=0,T=t.length,P,N,I,O,H;for(S==null?S=1/0:S*=S,R=0;R<T;++R)O=t[R],P=w-O.x,N=$-O.y,I=P*P+N*N,I<S&&(H=O,S=I);return H},on:function(w,$){return arguments.length>1?(h.on(w,$),e):h.on(w)}}}function manyBody(){var t,e,n,r,i=constant$4(-30),o,l=1,f=1/0,d=.81;function h(v){var _,w=t.length,$=quadtree(t,x$2,y$2).visitAfter(b);for(r=v,_=0;_<w;++_)e=t[_],$.visit(g)}function p(){if(!!t){var v,_=t.length,w;for(o=new Array(_),v=0;v<_;++v)w=t[v],o[w.index]=+i(w,v,t)}}function b(v){var _=0,w,$,S=0,R,T,P;if(v.length){for(R=T=P=0;P<4;++P)(w=v[P])&&($=Math.abs(w.value))&&(_+=w.value,S+=$,R+=$*w.x,T+=$*w.y);v.x=R/S,v.y=T/S}else{w=v,w.x=w.data.x,w.y=w.data.y;do _+=o[w.data.index];while(w=w.next)}v.value=_}function g(v,_,w,$){if(!v.value)return!0;var S=v.x-e.x,R=v.y-e.y,T=$-_,P=S*S+R*R;if(T*T/d<P)return P<f&&(S===0&&(S=jiggle(n),P+=S*S),R===0&&(R=jiggle(n),P+=R*R),P<l&&(P=Math.sqrt(l*P)),e.vx+=S*v.value*r/P,e.vy+=R*v.value*r/P),!0;if(v.length||P>=f)return;(v.data!==e||v.next)&&(S===0&&(S=jiggle(n),P+=S*S),R===0&&(R=jiggle(n),P+=R*R),P<l&&(P=Math.sqrt(l*P)));do v.data!==e&&(T=o[v.data.index]*r/P,e.vx+=S*T,e.vy+=R*T);while(v=v.next)}return h.initialize=function(v,_){t=v,n=_,p()},h.strength=function(v){return arguments.length?(i=typeof v=="function"?v:constant$4(+v),p(),h):i},h.distanceMin=function(v){return arguments.length?(l=v*v,h):Math.sqrt(l)},h.distanceMax=function(v){return arguments.length?(f=v*v,h):Math.sqrt(f)},h.theta=function(v){return arguments.length?(d=v*v,h):Math.sqrt(d)},h}function radial$1(t,e,n){var r,i=constant$4(.1),o,l;typeof t!="function"&&(t=constant$4(+t)),e==null&&(e=0),n==null&&(n=0);function f(h){for(var p=0,b=r.length;p<b;++p){var g=r[p],v=g.x-e||1e-6,_=g.y-n||1e-6,w=Math.sqrt(v*v+_*_),$=(l[p]-w)*o[p]*h/w;g.vx+=v*$,g.vy+=_*$}}function d(){if(!!r){var h,p=r.length;for(o=new Array(p),l=new Array(p),h=0;h<p;++h)l[h]=+t(r[h],h,r),o[h]=isNaN(l[h])?0:+i(r[h],h,r)}}return f.initialize=function(h){r=h,d()},f.strength=function(h){return arguments.length?(i=typeof h=="function"?h:constant$4(+h),d(),f):i},f.radius=function(h){return arguments.length?(t=typeof h=="function"?h:constant$4(+h),d(),f):t},f.x=function(h){return arguments.length?(e=+h,f):e},f.y=function(h){return arguments.length?(n=+h,f):n},f}function x$1(t){var e=constant$4(.1),n,r,i;typeof t!="function"&&(t=constant$4(t==null?0:+t));function o(f){for(var d=0,h=n.length,p;d<h;++d)p=n[d],p.vx+=(i[d]-p.x)*r[d]*f}function l(){if(!!n){var f,d=n.length;for(r=new Array(d),i=new Array(d),f=0;f<d;++f)r[f]=isNaN(i[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return o.initialize=function(f){n=f,l()},o.strength=function(f){return arguments.length?(e=typeof f=="function"?f:constant$4(+f),l(),o):e},o.x=function(f){return arguments.length?(t=typeof f=="function"?f:constant$4(+f),l(),o):t},o}function y$1(t){var e=constant$4(.1),n,r,i;typeof t!="function"&&(t=constant$4(t==null?0:+t));function o(f){for(var d=0,h=n.length,p;d<h;++d)p=n[d],p.vy+=(i[d]-p.y)*r[d]*f}function l(){if(!!n){var f,d=n.length;for(r=new Array(d),i=new Array(d),f=0;f<d;++f)r[f]=isNaN(i[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return o.initialize=function(f){n=f,l()},o.strength=function(f){return arguments.length?(e=typeof f=="function"?f:constant$4(+f),l(),o):e},o.y=function(f){return arguments.length?(t=typeof f=="function"?f:constant$4(+f),l(),o):t},o}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,r){for(var i=n.length,o=[],l=0,f=t[0],d=0;i>0&&f>0&&(d+f+1>r&&(f=Math.max(1,r-d)),o.push(n.substring(i-=f,i+f)),!((d+=f+1)>r));)f=t[l=(l+1)%t.length];return o.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+formatDecimalParts(t,Math.max(0,e+o-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$6(t){return t}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$6:formatGroup(map.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?identity$6:formatNumerals(map.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(b){b=formatSpecifier(b);var g=b.fill,v=b.align,_=b.sign,w=b.symbol,$=b.zero,S=b.width,R=b.comma,T=b.precision,P=b.trim,N=b.type;N==="n"?(R=!0,N="g"):formatTypes[N]||(T===void 0&&(T=12),P=!0,N="g"),($||g==="0"&&v==="=")&&($=!0,g="0",v="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",O=w==="$"?r:/[%p]/.test(N)?l:"",H=formatTypes[N],V=/[defgprs%]/.test(N);T=T===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function F(L){var j=I,G=O,q,z,U;if(N==="c")G=H(L)+G,L="";else{L=+L;var W=L<0||1/L<0;if(L=isNaN(L)?d:H(Math.abs(L),T),P&&(L=formatTrim(L)),W&&+L==0&&_!=="+"&&(W=!1),j=(W?_==="("?_:f:_==="-"||_==="("?"":_)+j,G=(N==="s"?prefixes[8+prefixExponent/3]:"")+G+(W&&_==="("?")":""),V){for(q=-1,z=L.length;++q<z;)if(U=L.charCodeAt(q),48>U||U>57){G=(U===46?i+L.slice(q+1):L.slice(q))+G,L=L.slice(0,q);break}}}R&&!$&&(L=e(L,1/0));var Z=j.length+L.length+G.length,Q=Z<S?new Array(S-Z+1).join(g):"";switch(R&&$&&(L=e(Q+L,Q.length?S-G.length:1/0),Q=""),v){case"<":L=j+L+G+Q;break;case"=":L=j+Q+L+G;break;case"^":L=Q.slice(0,Z=Q.length>>1)+j+L+G+Q.slice(Z);break;default:L=Q+j+L+G;break}return o(L)}return F.toString=function(){return b+""},F}function p(b,g){var v=h((b=formatSpecifier(b),b.type="f",b)),_=Math.max(-8,Math.min(8,Math.floor(exponent(g)/3)))*3,w=Math.pow(10,-_),$=prefixes[8+_/3];return function(S){return v(w*S)+$}}return{format:h,formatPrefix:p}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}var epsilon$1=1e-6,epsilon2=1e-12,pi$1=Math.PI,halfPi$1=pi$1/2,quarterPi=pi$1/4,tau$1=pi$1*2,degrees=180/pi$1,radians=pi$1/180,abs$1=Math.abs,atan=Math.atan,atan2$1=Math.atan2,cos$1=Math.cos,ceil=Math.ceil,exp=Math.exp,hypot=Math.hypot,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt$2=Math.sqrt,tan=Math.tan;function acos$1(t){return t>1?0:t<-1?pi$1:Math.acos(t)}function asin$1(t){return t>1?halfPi$1:t<-1?-halfPi$1:Math.asin(t)}function haversin(t){return(t=sin$1(t/2))*t}function noop$1(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)streamGeometry(n[r].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)streamLine(n[r],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)streamGeometry(n[r],e)}};function streamLine(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)streamLine(t[n],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}var areaRingSum$1=new Adder,areaSum$1=new Adder,lambda00$2,phi00$2,lambda0$2,cosPhi0$1,sinPhi0$1,areaStream$1={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaRingSum$1=new Adder,areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){var t=+areaRingSum$1;areaSum$1.add(t<0?tau$1+t:t),this.lineStart=this.lineEnd=this.point=noop$1},sphere:function(){areaSum$1.add(tau$1)}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaRingEnd$1(){areaPoint$1(lambda00$2,phi00$2)}function areaPointFirst$1(t,e){areaStream$1.point=areaPoint$1,lambda00$2=t,phi00$2=e,t*=radians,e*=radians,lambda0$2=t,cosPhi0$1=cos$1(e=e/2+quarterPi),sinPhi0$1=sin$1(e)}function areaPoint$1(t,e){t*=radians,e*=radians,e=e/2+quarterPi;var n=t-lambda0$2,r=n>=0?1:-1,i=r*n,o=cos$1(e),l=sin$1(e),f=sinPhi0$1*l,d=cosPhi0$1*o+f*cos$1(i),h=f*r*sin$1(i);areaRingSum$1.add(atan2$1(h,d)),lambda0$2=t,cosPhi0$1=o,sinPhi0$1=l}function area$2(t){return areaSum$1=new Adder,geoStream(t,areaStream$1),areaSum$1*2}function spherical(t){return[atan2$1(t[1],t[0]),asin$1(t[2])]}function cartesian(t){var e=t[0],n=t[1],r=cos$1(n);return[r*cos$1(e),r*sin$1(e),sin$1(n)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt$2(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum,ranges,range,boundsStream$2={point:boundsPoint$1,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream$2.point=boundsRingPoint,boundsStream$2.lineStart=boundsRingStart,boundsStream$2.lineEnd=boundsRingEnd,deltaSum=new Adder,areaStream$1.polygonStart()},polygonEnd:function(){areaStream$1.polygonEnd(),boundsStream$2.point=boundsPoint$1,boundsStream$2.lineStart=boundsLineStart,boundsStream$2.lineEnd=boundsLineEnd,areaRingSum$1<0?(lambda0$1=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$1?phi1=90:deltaSum<-epsilon$1&&(phi0=-90),range[0]=lambda0$1,range[1]=lambda1},sphere:function(){lambda0$1=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint$1(t,e){ranges.push(range=[lambda0$1=t,lambda1=t]),e<phi0&&(phi0=e),e>phi1&&(phi1=e)}function linePoint(t,e){var n=cartesian([t*radians,e*radians]);if(p0){var r=cartesianCross(p0,n),i=[r[1],-r[0],0],o=cartesianCross(i,r);cartesianNormalizeInPlace(o),o=spherical(o);var l=t-lambda2,f=l>0?1:-1,d=o[0]*degrees*f,h,p=abs$1(l)>180;p^(f*lambda2<d&&d<f*t)?(h=o[1]*degrees,h>phi1&&(phi1=h)):(d=(d+360)%360-180,p^(f*lambda2<d&&d<f*t)?(h=-o[1]*degrees,h<phi0&&(phi0=h)):(e<phi0&&(phi0=e),e>phi1&&(phi1=e))),p?t<lambda2?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t):lambda1>=lambda0$1?(t<lambda0$1&&(lambda0$1=t),t>lambda1&&(lambda1=t)):t>lambda2?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t)}else ranges.push(range=[lambda0$1=t,lambda1=t]);e<phi0&&(phi0=e),e>phi1&&(phi1=e),p0=n,lambda2=t}function boundsLineStart(){boundsStream$2.point=linePoint}function boundsLineEnd(){range[0]=lambda0$1,range[1]=lambda1,boundsStream$2.point=boundsPoint$1,p0=null}function boundsRingPoint(t,e){if(p0){var n=t-lambda2;deltaSum.add(abs$1(n)>180?n+(n>0?360:-360):n)}else lambda00$1=t,phi00$1=e;areaStream$1.point(t,e),linePoint(t,e)}function boundsRingStart(){areaStream$1.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream$1.lineEnd(),abs$1(deltaSum)>epsilon$1&&(lambda0$1=-(lambda1=180)),range[0]=lambda0$1,range[1]=lambda1,p0=null}function angle(t,e){return(e-=t)<0?e+360:e}function rangeCompare(t,e){return t[0]-e[0]}function rangeContains(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function bounds(t){var e,n,r,i,o,l,f;if(phi1=lambda1=-(lambda0$1=phi0=1/0),ranges=[],geoStream(t,boundsStream$2),n=ranges.length){for(ranges.sort(rangeCompare),e=1,r=ranges[0],o=[r];e<n;++e)i=ranges[e],rangeContains(r,i[0])||rangeContains(r,i[1])?(angle(r[0],i[1])>angle(r[0],r[1])&&(r[1]=i[1]),angle(i[0],r[1])>angle(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(l=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(f=angle(r[1],i[0]))>l&&(l=f,lambda0$1=i[0],lambda1=r[1])}return ranges=range=null,lambda0$1===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}var W0,W1,X0$1,Y0$1,Z0$1,X1$1,Y1$1,Z1$1,X2$1,Y2$1,Z2$1,lambda00,phi00,x0$4,y0$4,z0,centroidStream$1={sphere:noop$1,point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1}};function centroidPoint$1(t,e){t*=radians,e*=radians;var n=cos$1(e);centroidPointCartesian(n*cos$1(t),n*sin$1(t),sin$1(e))}function centroidPointCartesian(t,e,n){++W0,X0$1+=(t-X0$1)/W0,Y0$1+=(e-Y0$1)/W0,Z0$1+=(n-Z0$1)/W0}function centroidLineStart$1(){centroidStream$1.point=centroidLinePointFirst}function centroidLinePointFirst(t,e){t*=radians,e*=radians;var n=cos$1(e);x0$4=n*cos$1(t),y0$4=n*sin$1(t),z0=sin$1(e),centroidStream$1.point=centroidLinePoint,centroidPointCartesian(x0$4,y0$4,z0)}function centroidLinePoint(t,e){t*=radians,e*=radians;var n=cos$1(e),r=n*cos$1(t),i=n*sin$1(t),o=sin$1(e),l=atan2$1(sqrt$2((l=y0$4*o-z0*i)*l+(l=z0*r-x0$4*o)*l+(l=x0$4*i-y0$4*r)*l),x0$4*r+y0$4*i+z0*o);W1+=l,X1$1+=l*(x0$4+(x0$4=r)),Y1$1+=l*(y0$4+(y0$4=i)),Z1$1+=l*(z0+(z0=o)),centroidPointCartesian(x0$4,y0$4,z0)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidRingPointFirst}function centroidRingEnd$1(){centroidRingPoint(lambda00,phi00),centroidStream$1.point=centroidPoint$1}function centroidRingPointFirst(t,e){lambda00=t,phi00=e,t*=radians,e*=radians,centroidStream$1.point=centroidRingPoint;var n=cos$1(e);x0$4=n*cos$1(t),y0$4=n*sin$1(t),z0=sin$1(e),centroidPointCartesian(x0$4,y0$4,z0)}function centroidRingPoint(t,e){t*=radians,e*=radians;var n=cos$1(e),r=n*cos$1(t),i=n*sin$1(t),o=sin$1(e),l=y0$4*o-z0*i,f=z0*r-x0$4*o,d=x0$4*i-y0$4*r,h=hypot(l,f,d),p=asin$1(h),b=h&&-p/h;X2$1.add(b*l),Y2$1.add(b*f),Z2$1.add(b*d),W1+=p,X1$1+=p*(x0$4+(x0$4=r)),Y1$1+=p*(y0$4+(y0$4=i)),Z1$1+=p*(z0+(z0=o)),centroidPointCartesian(x0$4,y0$4,z0)}function centroid$1(t){W0=W1=X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=0,X2$1=new Adder,Y2$1=new Adder,Z2$1=new Adder,geoStream(t,centroidStream$1);var e=+X2$1,n=+Y2$1,r=+Z2$1,i=hypot(e,n,r);return i<epsilon2&&(e=X1$1,n=Y1$1,r=Z1$1,W1<epsilon$1&&(e=X0$1,n=Y0$1,r=Z0$1),i=hypot(e,n,r),i<epsilon2)?[NaN,NaN]:[atan2$1(n,e)*degrees,asin$1(r/i)*degrees]}function constant$3(t){return function(){return t}}function compose(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function rotationIdentity(t,e){return abs$1(t)>pi$1&&(t-=Math.round(t/tau$1)*tau$1),[t,e]}rotationIdentity.invert=rotationIdentity;function rotateRadians(t,e,n){return(t%=tau$1)?e||n?compose(rotationLambda(t),rotationPhiGamma(e,n)):rotationLambda(t):e||n?rotationPhiGamma(e,n):rotationIdentity}function forwardRotationLambda(t){return function(e,n){return e+=t,abs$1(e)>pi$1&&(e-=Math.round(e/tau$1)*tau$1),[e,n]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var n=cos$1(t),r=sin$1(t),i=cos$1(e),o=sin$1(e);function l(f,d){var h=cos$1(d),p=cos$1(f)*h,b=sin$1(f)*h,g=sin$1(d),v=g*n+p*r;return[atan2$1(b*i-v*o,p*n-g*r),asin$1(v*i+b*o)]}return l.invert=function(f,d){var h=cos$1(d),p=cos$1(f)*h,b=sin$1(f)*h,g=sin$1(d),v=g*i-b*o;return[atan2$1(b*i+g*o,p*n+v*r),asin$1(v*n-p*r)]},l}function rotation(t){t=rotateRadians(t[0]*radians,t[1]*radians,t.length>2?t[2]*radians:0);function e(n){return n=t(n[0]*radians,n[1]*radians),n[0]*=degrees,n[1]*=degrees,n}return e.invert=function(n){return n=t.invert(n[0]*radians,n[1]*radians),n[0]*=degrees,n[1]*=degrees,n},e}function circleStream(t,e,n,r,i,o){if(!!n){var l=cos$1(e),f=sin$1(e),d=r*n;i==null?(i=e+r*tau$1,o=e-d/2):(i=circleRadius(l,i),o=circleRadius(l,o),(r>0?i<o:i>o)&&(i+=r*tau$1));for(var h,p=i;r>0?p>o:p<o;p-=d)h=spherical([l,-f*cos$1(p),-f*sin$1(p)]),t.point(h[0],h[1])}}function circleRadius(t,e){e=cartesian(e),e[0]-=t,cartesianNormalizeInPlace(e);var n=acos$1(-e[1]);return((-e[2]<0?-n:n)+tau$1-epsilon$1)%tau$1}function circle$1(){var t=constant$3([0,0]),e=constant$3(90),n=constant$3(6),r,i,o={point:l};function l(d,h){r.push(d=i(d,h)),d[0]*=degrees,d[1]*=degrees}function f(){var d=t.apply(this,arguments),h=e.apply(this,arguments)*radians,p=n.apply(this,arguments)*radians;return r=[],i=rotateRadians(-d[0]*radians,-d[1]*radians,0).invert,circleStream(o,h,p,1),d={type:"Polygon",coordinates:[r]},r=i=null,d}return f.center=function(d){return arguments.length?(t=typeof d=="function"?d:constant$3([+d[0],+d[1]]),f):t},f.radius=function(d){return arguments.length?(e=typeof d=="function"?d:constant$3(+d),f):e},f.precision=function(d){return arguments.length?(n=typeof d=="function"?d:constant$3(+d),f):n},f}function clipBuffer(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:noop$1,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pointEqual(t,e){return abs$1(t[0]-e[0])<epsilon$1&&abs$1(t[1]-e[1])<epsilon$1}function Intersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,n,r,i){var o=[],l=[],f,d;if(t.forEach(function(_){if(!((w=_.length-1)<=0)){var w,$=_[0],S=_[w],R;if(pointEqual($,S)){if(!$[2]&&!S[2]){for(i.lineStart(),f=0;f<w;++f)i.point(($=_[f])[0],$[1]);i.lineEnd();return}S[0]+=2*epsilon$1}o.push(R=new Intersection($,_,null,!0)),l.push(R.o=new Intersection($,null,R,!1)),o.push(R=new Intersection(S,_,null,!1)),l.push(R.o=new Intersection(S,null,R,!0))}}),!!o.length){for(l.sort(e),link$1(o),link$1(l),f=0,d=l.length;f<d;++f)l[f].e=n=!n;for(var h=o[0],p,b;;){for(var g=h,v=!0;g.v;)if((g=g.n)===h)return;p=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(f=0,d=p.length;f<d;++f)i.point((b=p[f])[0],b[1]);else r(g.x,g.n.x,1,i);g=g.n}else{if(v)for(p=g.p.z,f=p.length-1;f>=0;--f)i.point((b=p[f])[0],b[1]);else r(g.x,g.p.x,-1,i);g=g.p}g=g.o,p=g.z,v=!v}while(!g.v);i.lineEnd()}}}function link$1(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function longitude(t){return abs$1(t[0])<=pi$1?t[0]:sign$1(t[0])*((abs$1(t[0])+pi$1)%tau$1-pi$1)}function polygonContains(t,e){var n=longitude(e),r=e[1],i=sin$1(r),o=[sin$1(n),-cos$1(n),0],l=0,f=0,d=new Adder;i===1?r=halfPi$1+epsilon$1:i===-1&&(r=-halfPi$1-epsilon$1);for(var h=0,p=t.length;h<p;++h)if(!!(g=(b=t[h]).length))for(var b,g,v=b[g-1],_=longitude(v),w=v[1]/2+quarterPi,$=sin$1(w),S=cos$1(w),R=0;R<g;++R,_=P,$=I,S=O,v=T){var T=b[R],P=longitude(T),N=T[1]/2+quarterPi,I=sin$1(N),O=cos$1(N),H=P-_,V=H>=0?1:-1,F=V*H,L=F>pi$1,j=$*I;if(d.add(atan2$1(j*V*sin$1(F),S*O+j*cos$1(F))),l+=L?H+V*tau$1:H,L^_>=n^P>=n){var G=cartesianCross(cartesian(v),cartesian(T));cartesianNormalizeInPlace(G);var q=cartesianCross(o,G);cartesianNormalizeInPlace(q);var z=(L^H>=0?-1:1)*asin$1(q[2]);(r>z||r===z&&(G[0]||G[1]))&&(f+=L^H>=0?1:-1)}}return(l<-epsilon$1||l<epsilon$1&&d<-epsilon2)^f&1}function clip(t,e,n,r){return function(i){var o=e(i),l=clipBuffer(),f=e(l),d=!1,h,p,b,g={point:v,lineStart:w,lineEnd:$,polygonStart:function(){g.point=S,g.lineStart=R,g.lineEnd=T,p=[],h=[]},polygonEnd:function(){g.point=v,g.lineStart=w,g.lineEnd=$,p=merge(p);var P=polygonContains(h,r);p.length?(d||(i.polygonStart(),d=!0),clipRejoin(p,compareIntersection,P,n,i)):P&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(P,N){t(P,N)&&i.point(P,N)}function _(P,N){o.point(P,N)}function w(){g.point=_,o.lineStart()}function $(){g.point=v,o.lineEnd()}function S(P,N){b.push([P,N]),f.point(P,N)}function R(){f.lineStart(),b=[]}function T(){S(b[0][0],b[0][1]),f.lineEnd();var P=f.clean(),N=l.result(),I,O=N.length,H,V,F;if(b.pop(),h.push(b),b=null,!!O){if(P&1){if(V=N[0],(H=V.length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),I=0;I<H;++I)i.point((F=V[I])[0],F[1]);i.lineEnd()}return}O>1&&P&2&&N.push(N.pop().concat(N.shift())),p.push(N.filter(validSegment))}}return g}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi$1-epsilon$1:halfPi$1-t[1])-((e=e.x)[0]<0?e[1]-halfPi$1-epsilon$1:halfPi$1-e[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$1,-halfPi$1]);function clipAntimeridianLine(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,l){var f=o>0?pi$1:-pi$1,d=abs$1(o-e);abs$1(d-pi$1)<epsilon$1?(t.point(e,n=(n+l)/2>0?halfPi$1:-halfPi$1),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&d>=pi$1&&(abs$1(e-r)<epsilon$1&&(e-=r*epsilon$1),abs$1(o-f)<epsilon$1&&(o-=f*epsilon$1),n=clipAntimeridianIntersect(e,n,o,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=l),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function clipAntimeridianIntersect(t,e,n,r){var i,o,l=sin$1(t-n);return abs$1(l)>epsilon$1?atan((sin$1(e)*(o=cos$1(r))*sin$1(n)-sin$1(r)*(i=cos$1(e))*sin$1(t))/(i*o*l)):(e+r)/2}function clipAntimeridianInterpolate(t,e,n,r){var i;if(t==null)i=n*halfPi$1,r.point(-pi$1,i),r.point(0,i),r.point(pi$1,i),r.point(pi$1,0),r.point(pi$1,-i),r.point(0,-i),r.point(-pi$1,-i),r.point(-pi$1,0),r.point(-pi$1,i);else if(abs$1(t[0]-e[0])>epsilon$1){var o=t[0]<e[0]?pi$1:-pi$1;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function clipCircle(t){var e=cos$1(t),n=6*radians,r=e>0,i=abs$1(e)>epsilon$1;function o(p,b,g,v){circleStream(v,t,n,g,p,b)}function l(p,b){return cos$1(p)*cos$1(b)>e}function f(p){var b,g,v,_,w;return{lineStart:function(){_=v=!1,w=1},point:function($,S){var R=[$,S],T,P=l($,S),N=r?P?0:h($,S):P?h($+($<0?pi$1:-pi$1),S):0;if(!b&&(_=v=P)&&p.lineStart(),P!==v&&(T=d(b,R),(!T||pointEqual(b,T)||pointEqual(R,T))&&(R[2]=1)),P!==v)w=0,P?(p.lineStart(),T=d(R,b),p.point(T[0],T[1])):(T=d(b,R),p.point(T[0],T[1],2),p.lineEnd()),b=T;else if(i&&b&&r^P){var I;!(N&g)&&(I=d(R,b,!0))&&(w=0,r?(p.lineStart(),p.point(I[0][0],I[0][1]),p.point(I[1][0],I[1][1]),p.lineEnd()):(p.point(I[1][0],I[1][1]),p.lineEnd(),p.lineStart(),p.point(I[0][0],I[0][1],3)))}P&&(!b||!pointEqual(b,R))&&p.point(R[0],R[1]),b=R,v=P,g=N},lineEnd:function(){v&&p.lineEnd(),b=null},clean:function(){return w|(_&&v)<<1}}}function d(p,b,g){var v=cartesian(p),_=cartesian(b),w=[1,0,0],$=cartesianCross(v,_),S=cartesianDot($,$),R=$[0],T=S-R*R;if(!T)return!g&&p;var P=e*S/T,N=-e*R/T,I=cartesianCross(w,$),O=cartesianScale(w,P),H=cartesianScale($,N);cartesianAddInPlace(O,H);var V=I,F=cartesianDot(O,V),L=cartesianDot(V,V),j=F*F-L*(cartesianDot(O,O)-1);if(!(j<0)){var G=sqrt$2(j),q=cartesianScale(V,(-F-G)/L);if(cartesianAddInPlace(q,O),q=spherical(q),!g)return q;var z=p[0],U=b[0],W=p[1],Z=b[1],Q;U<z&&(Q=z,z=U,U=Q);var tt=U-z,nt=abs$1(tt-pi$1)<epsilon$1,rt=nt||tt<epsilon$1;if(!nt&&Z<W&&(Q=W,W=Z,Z=Q),rt?nt?W+Z>0^q[1]<(abs$1(q[0]-z)<epsilon$1?W:Z):W<=q[1]&&q[1]<=Z:tt>pi$1^(z<=q[0]&&q[0]<=U)){var lt=cartesianScale(V,(-F+G)/L);return cartesianAddInPlace(lt,O),[q,spherical(lt)]}}}function h(p,b){var g=r?t:pi$1-t,v=0;return p<-g?v|=1:p>g&&(v|=2),b<-g?v|=4:b>g&&(v|=8),v}return clip(l,f,o,r?[0,-t]:[-pi$1,t-pi$1])}function clipLine(t,e,n,r,i,o){var l=t[0],f=t[1],d=e[0],h=e[1],p=0,b=1,g=d-l,v=h-f,_;if(_=n-l,!(!g&&_>0)){if(_/=g,g<0){if(_<p)return;_<b&&(b=_)}else if(g>0){if(_>b)return;_>p&&(p=_)}if(_=i-l,!(!g&&_<0)){if(_/=g,g<0){if(_>b)return;_>p&&(p=_)}else if(g>0){if(_<p)return;_<b&&(b=_)}if(_=r-f,!(!v&&_>0)){if(_/=v,v<0){if(_<p)return;_<b&&(b=_)}else if(v>0){if(_>b)return;_>p&&(p=_)}if(_=o-f,!(!v&&_<0)){if(_/=v,v<0){if(_>b)return;_>p&&(p=_)}else if(v>0){if(_<p)return;_<b&&(b=_)}return p>0&&(t[0]=l+p*g,t[1]=f+p*v),b<1&&(e[0]=l+b*g,e[1]=f+b*v),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(t,e,n,r){function i(h,p){return t<=h&&h<=n&&e<=p&&p<=r}function o(h,p,b,g){var v=0,_=0;if(h==null||(v=l(h,b))!==(_=l(p,b))||d(h,p)<0^b>0)do g.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+b+4)%4)!==_);else g.point(p[0],p[1])}function l(h,p){return abs$1(h[0]-t)<epsilon$1?p>0?0:3:abs$1(h[0]-n)<epsilon$1?p>0?2:1:abs$1(h[1]-e)<epsilon$1?p>0?1:0:p>0?3:2}function f(h,p){return d(h.x,p.x)}function d(h,p){var b=l(h,1),g=l(p,1);return b!==g?b-g:b===0?p[1]-h[1]:b===1?h[0]-p[0]:b===2?h[1]-p[1]:p[0]-h[0]}return function(h){var p=h,b=clipBuffer(),g,v,_,w,$,S,R,T,P,N,I,O={point:H,lineStart:j,lineEnd:G,polygonStart:F,polygonEnd:L};function H(z,U){i(z,U)&&p.point(z,U)}function V(){for(var z=0,U=0,W=v.length;U<W;++U)for(var Z=v[U],Q=1,tt=Z.length,nt=Z[0],rt,lt,ut=nt[0],st=nt[1];Q<tt;++Q)rt=ut,lt=st,nt=Z[Q],ut=nt[0],st=nt[1],lt<=r?st>r&&(ut-rt)*(r-lt)>(st-lt)*(t-rt)&&++z:st<=r&&(ut-rt)*(r-lt)<(st-lt)*(t-rt)&&--z;return z}function F(){p=b,g=[],v=[],I=!0}function L(){var z=V(),U=I&&z,W=(g=merge(g)).length;(U||W)&&(h.polygonStart(),U&&(h.lineStart(),o(null,null,1,h),h.lineEnd()),W&&clipRejoin(g,f,z,o,h),h.polygonEnd()),p=h,g=v=_=null}function j(){O.point=q,v&&v.push(_=[]),N=!0,P=!1,R=T=NaN}function G(){g&&(q(w,$),S&&P&&b.rejoin(),g.push(b.result())),O.point=H,P&&p.lineEnd()}function q(z,U){var W=i(z,U);if(v&&_.push([z,U]),N)w=z,$=U,S=W,N=!1,W&&(p.lineStart(),p.point(z,U));else if(W&&P)p.point(z,U);else{var Z=[R=Math.max(clipMin,Math.min(clipMax,R)),T=Math.max(clipMin,Math.min(clipMax,T))],Q=[z=Math.max(clipMin,Math.min(clipMax,z)),U=Math.max(clipMin,Math.min(clipMax,U))];clipLine(Z,Q,t,e,n,r)?(P||(p.lineStart(),p.point(Z[0],Z[1])),p.point(Q[0],Q[1]),W||p.lineEnd(),I=!1):W&&(p.lineStart(),p.point(z,U),I=!1)}R=z,T=U,P=W}return O}}function extent(){var t=0,e=0,n=960,r=500,i,o,l;return l={stream:function(f){return i&&o===f?i:i=clipRectangle(t,e,n,r)(o=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],i=o=null,l):[[t,e],[n,r]]}}}var lengthSum$1,lambda0,sinPhi0,cosPhi0,lengthStream$1={sphere:noop$1,point:noop$1,lineStart:lengthLineStart,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1};function lengthLineStart(){lengthStream$1.point=lengthPointFirst$1,lengthStream$1.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream$1.point=lengthStream$1.lineEnd=noop$1}function lengthPointFirst$1(t,e){t*=radians,e*=radians,lambda0=t,sinPhi0=sin$1(e),cosPhi0=cos$1(e),lengthStream$1.point=lengthPoint$1}function lengthPoint$1(t,e){t*=radians,e*=radians;var n=sin$1(e),r=cos$1(e),i=abs$1(t-lambda0),o=cos$1(i),l=sin$1(i),f=r*l,d=cosPhi0*n-sinPhi0*r*o,h=sinPhi0*n+cosPhi0*r*o;lengthSum$1.add(atan2$1(sqrt$2(f*f+d*d),h)),lambda0=t,sinPhi0=n,cosPhi0=r}function length$1(t){return lengthSum$1=new Adder,geoStream(t,lengthStream$1),+lengthSum$1}var coordinates=[null,null],object={type:"LineString",coordinates};function distance(t,e){return coordinates[0]=t,coordinates[1]=e,length$1(object)}var containsObjectType={Feature:function(t,e){return containsGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(containsGeometry(n[r].geometry,e))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(t,e){return containsPoint(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsPoint(n[r],e))return!0;return!1},LineString:function(t,e){return containsLine(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsLine(n[r],e))return!0;return!1},Polygon:function(t,e){return containsPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsPolygon(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(containsGeometry(n[r],e))return!0;return!1}};function containsGeometry(t,e){return t&&containsGeometryType.hasOwnProperty(t.type)?containsGeometryType[t.type](t,e):!1}function containsPoint(t,e){return distance(t,e)===0}function containsLine(t,e){for(var n,r,i,o=0,l=t.length;o<l;o++){if(r=distance(t[o],e),r===0||o>0&&(i=distance(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<epsilon2*i))return!0;n=r}return!1}function containsPolygon(t,e){return!!polygonContains(t.map(ringRadians),pointRadians(e))}function ringRadians(t){return t=t.map(pointRadians),t.pop(),t}function pointRadians(t){return[t[0]*radians,t[1]*radians]}function contains$1(t,e){return(t&&containsObjectType.hasOwnProperty(t.type)?containsObjectType[t.type]:containsGeometry)(t,e)}function graticuleX(t,e,n){var r=range$2(t,e-epsilon$1,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function graticuleY(t,e,n){var r=range$2(t,e-epsilon$1,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function graticule(){var t,e,n,r,i,o,l,f,d=10,h=d,p=90,b=360,g,v,_,w,$=2.5;function S(){return{type:"MultiLineString",coordinates:R()}}function R(){return range$2(ceil(r/p)*p,n,p).map(_).concat(range$2(ceil(f/b)*b,l,b).map(w)).concat(range$2(ceil(e/d)*d,t,d).filter(function(T){return abs$1(T%p)>epsilon$1}).map(g)).concat(range$2(ceil(o/h)*h,i,h).filter(function(T){return abs$1(T%b)>epsilon$1}).map(v))}return S.lines=function(){return R().map(function(T){return{type:"LineString",coordinates:T}})},S.outline=function(){return{type:"Polygon",coordinates:[_(r).concat(w(l).slice(1),_(n).reverse().slice(1),w(f).reverse().slice(1))]}},S.extent=function(T){return arguments.length?S.extentMajor(T).extentMinor(T):S.extentMinor()},S.extentMajor=function(T){return arguments.length?(r=+T[0][0],n=+T[1][0],f=+T[0][1],l=+T[1][1],r>n&&(T=r,r=n,n=T),f>l&&(T=f,f=l,l=T),S.precision($)):[[r,f],[n,l]]},S.extentMinor=function(T){return arguments.length?(e=+T[0][0],t=+T[1][0],o=+T[0][1],i=+T[1][1],e>t&&(T=e,e=t,t=T),o>i&&(T=o,o=i,i=T),S.precision($)):[[e,o],[t,i]]},S.step=function(T){return arguments.length?S.stepMajor(T).stepMinor(T):S.stepMinor()},S.stepMajor=function(T){return arguments.length?(p=+T[0],b=+T[1],S):[p,b]},S.stepMinor=function(T){return arguments.length?(d=+T[0],h=+T[1],S):[d,h]},S.precision=function(T){return arguments.length?($=+T,g=graticuleX(o,i,90),v=graticuleY(e,t,$),_=graticuleX(f,l,90),w=graticuleY(r,n,$),S):$},S.extentMajor([[-180,-90+epsilon$1],[180,90-epsilon$1]]).extentMinor([[-180,-80-epsilon$1],[180,80+epsilon$1]])}function graticule10(){return graticule()()}function interpolate(t,e){var n=t[0]*radians,r=t[1]*radians,i=e[0]*radians,o=e[1]*radians,l=cos$1(r),f=sin$1(r),d=cos$1(o),h=sin$1(o),p=l*cos$1(n),b=l*sin$1(n),g=d*cos$1(i),v=d*sin$1(i),_=2*asin$1(sqrt$2(haversin(o-r)+l*d*haversin(i-n))),w=sin$1(_),$=_?function(S){var R=sin$1(S*=_)/w,T=sin$1(_-S)/w,P=T*p+R*g,N=T*b+R*v,I=T*f+R*h;return[atan2$1(N,P)*degrees,atan2$1(I,sqrt$2(P*P+N*N))*degrees]}:function(){return[n*degrees,r*degrees]};return $.distance=_,$}var identity$5=t=>t,areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs$1(areaRingSum)),areaRingSum=new Adder},result:function(){var t=areaSum/2;return areaSum=new Adder,t}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(t,e){areaStream.point=areaPoint,x00$2=x0$3=t,y00$2=y0$3=e}function areaPoint(t,e){areaRingSum.add(y0$3*t-x0$3*e),x0$3=t,y0$3=e}function areaRingEnd(){areaPoint(x00$2,y00$2)}var pathArea=areaStream,x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var boundsStream$1=boundsStream,X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var t=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,t}};function centroidPoint(t,e){X0+=t,Y0+=e,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream.point=centroidPointLine,centroidPoint(x0$1=t,y0$1=e)}function centroidPointLine(t,e){var n=t-x0$1,r=e-y0$1,i=sqrt$2(n*n+r*r);X1+=i*(x0$1+t)/2,Y1+=i*(y0$1+e)/2,Z1+=i,centroidPoint(x0$1=t,y0$1=e)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=t,y00$1=y0$1=e)}function centroidPointRing(t,e){var n=t-x0$1,r=e-y0$1,i=sqrt$2(n*n+r*r);X1+=i*(x0$1+t)/2,Y1+=i*(y0$1+e)/2,Z1+=i,i=y0$1*t-x0$1*e,X2+=i*(x0$1+t),Y2+=i*(y0$1+e),Z2+=i*3,centroidPoint(x0$1=t,y0$1=e)}var pathCentroid=centroidStream;function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$1);break}}},result:noop$1};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum;return lengthSum=new Adder,t}};function lengthPointFirst(t,e){lengthStream.point=lengthPoint,x00=x0=t,y00=y0=e}function lengthPoint(t,e){x0-=t,y0-=e,lengthSum.add(sqrt$2(x0*x0+y0*y0)),x0=t,y0=e}var pathMeasure=lengthStream;let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(e){this._append=e==null?append:appendRound(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==cacheRadius||this._append!==cacheAppend){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,cacheRadius=r,cacheAppend=this._append,cacheCircle=this._,this._=i}this._+=cacheCircle;break}}}result(){const e=this._;return this._="",e.length?e:null}}function append(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return append;if(e!==cacheDigits){const n=10**e;cacheDigits=e,cacheAppend=function(i){let o=1;this._+=i[0];for(const l=i.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return cacheAppend}function index$2(t,e){let n=3,r=4.5,i,o;function l(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),geoStream(f,i(o))),o.result()}return l.area=function(f){return geoStream(f,i(pathArea)),pathArea.result()},l.measure=function(f){return geoStream(f,i(pathMeasure)),pathMeasure.result()},l.bounds=function(f){return geoStream(f,i(boundsStream$1)),boundsStream$1.result()},l.centroid=function(f){return geoStream(f,i(pathCentroid)),pathCentroid.result()},l.projection=function(f){return arguments.length?(i=f==null?(t=null,identity$5):(t=f).stream,l):t},l.context=function(f){return arguments.length?(o=f==null?(e=null,new PathString(n)):new PathContext(e=f),typeof r!="function"&&o.pointRadius(r),l):e},l.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),l):r},l.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const d=Math.floor(f);if(!(d>=0))throw new RangeError(`invalid digits: ${f}`);n=d}return e===null&&(o=new PathString(n)),l},l.projection(t).digits(n).context(e)}function transform$1(t){return{stream:transformer$3(t)}}function transformer$3(t){return function(e){var n=new TransformStream;for(var r in t)n[r]=t[r];return n.stream=e,n}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),geoStream(n,t.stream(boundsStream$1)),e(boundsStream$1.result()),r!=null&&t.clipExtent(r),t}function fitExtent(t,e,n){return fit(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],l=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-l*(r[1][0]+r[0][0]))/2,d=+e[0][1]+(o-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([f,d])},n)}function fitSize(t,e,n){return fitExtent(t,[[0,0],e],n)}function fitWidth(t,e,n){return fit(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),l=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([l,f])},n)}function fitHeight(t,e,n){return fit(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),l=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([l,f])},n)}var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer$3({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function n(r,i,o,l,f,d,h,p,b,g,v,_,w,$){var S=h-r,R=p-i,T=S*S+R*R;if(T>4*e&&w--){var P=l+g,N=f+v,I=d+_,O=sqrt$2(P*P+N*N+I*I),H=asin$1(I/=O),V=abs$1(abs$1(I)-1)<epsilon$1||abs$1(o-b)<epsilon$1?(o+b)/2:atan2$1(N,P),F=t(V,H),L=F[0],j=F[1],G=L-r,q=j-i,z=R*G-S*q;(z*z/T>e||abs$1((S*G+R*q)/T-.5)>.3||l*g+f*v+d*_<cosMinDistance)&&(n(r,i,o,l,f,d,L,j,V,P/=O,N/=O,I,w,$),$.point(L,j),n(L,j,V,P,N,I,h,p,b,g,v,_,w,$))}}return function(r){var i,o,l,f,d,h,p,b,g,v,_,w,$={point:S,lineStart:R,lineEnd:P,polygonStart:function(){r.polygonStart(),$.lineStart=N},polygonEnd:function(){r.polygonEnd(),$.lineStart=R}};function S(H,V){H=t(H,V),r.point(H[0],H[1])}function R(){b=NaN,$.point=T,r.lineStart()}function T(H,V){var F=cartesian([H,V]),L=t(H,V);n(b,g,p,v,_,w,b=L[0],g=L[1],p=H,v=F[0],_=F[1],w=F[2],maxDepth,r),r.point(b,g)}function P(){$.point=S,r.lineEnd()}function N(){R(),$.point=I,$.lineEnd=O}function I(H,V){T(i=H,V),o=b,l=g,f=v,d=_,h=w,$.point=T}function O(){n(b,g,p,v,_,w,o,l,i,f,d,h,maxDepth,r),$.lineEnd=P,P()}return $}}var transformRadians=transformer$3({point:function(t,e){this.stream.point(t*radians,e*radians)}});function transformRotate(t){return transformer$3({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function scaleTranslate(t,e,n,r,i){function o(l,f){return l*=r,f*=i,[e+t*l,n-t*f]}return o.invert=function(l,f){return[(l-e)/t*r,(n-f)/t*i]},o}function scaleTranslateRotate(t,e,n,r,i,o){if(!o)return scaleTranslate(t,e,n,r,i);var l=cos$1(o),f=sin$1(o),d=l*t,h=f*t,p=l/t,b=f/t,g=(f*n-l*e)/t,v=(f*e+l*n)/t;function _(w,$){return w*=r,$*=i,[d*w-h*$+e,n-h*w-d*$]}return _.invert=function(w,$){return[r*(p*w-b*$+g),i*(v-b*w-p*$)]},_}function projection(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var e,n=150,r=480,i=250,o=0,l=0,f=0,d=0,h=0,p,b=0,g=1,v=1,_=null,w=clipAntimeridian,$=null,S,R,T,P=identity$5,N=.5,I,O,H,V,F;function L(z){return H(z[0]*radians,z[1]*radians)}function j(z){return z=H.invert(z[0],z[1]),z&&[z[0]*degrees,z[1]*degrees]}L.stream=function(z){return V&&F===z?V:V=transformRadians(transformRotate(p)(w(I(P(F=z)))))},L.preclip=function(z){return arguments.length?(w=z,_=void 0,q()):w},L.postclip=function(z){return arguments.length?(P=z,$=S=R=T=null,q()):P},L.clipAngle=function(z){return arguments.length?(w=+z?clipCircle(_=z*radians):(_=null,clipAntimeridian),q()):_*degrees},L.clipExtent=function(z){return arguments.length?(P=z==null?($=S=R=T=null,identity$5):clipRectangle($=+z[0][0],S=+z[0][1],R=+z[1][0],T=+z[1][1]),q()):$==null?null:[[$,S],[R,T]]},L.scale=function(z){return arguments.length?(n=+z,G()):n},L.translate=function(z){return arguments.length?(r=+z[0],i=+z[1],G()):[r,i]},L.center=function(z){return arguments.length?(o=z[0]%360*radians,l=z[1]%360*radians,G()):[o*degrees,l*degrees]},L.rotate=function(z){return arguments.length?(f=z[0]%360*radians,d=z[1]%360*radians,h=z.length>2?z[2]%360*radians:0,G()):[f*degrees,d*degrees,h*degrees]},L.angle=function(z){return arguments.length?(b=z%360*radians,G()):b*degrees},L.reflectX=function(z){return arguments.length?(g=z?-1:1,G()):g<0},L.reflectY=function(z){return arguments.length?(v=z?-1:1,G()):v<0},L.precision=function(z){return arguments.length?(I=resample(O,N=z*z),q()):sqrt$2(N)},L.fitExtent=function(z,U){return fitExtent(L,z,U)},L.fitSize=function(z,U){return fitSize(L,z,U)},L.fitWidth=function(z,U){return fitWidth(L,z,U)},L.fitHeight=function(z,U){return fitHeight(L,z,U)};function G(){var z=scaleTranslateRotate(n,0,0,g,v,b).apply(null,e(o,l)),U=scaleTranslateRotate(n,r-z[0],i-z[1],g,v,b);return p=rotateRadians(f,d,h),O=compose(e,U),H=compose(p,O),I=resample(O,N),q()}function q(){return V=F=null,L}return function(){return e=t.apply(this,arguments),L.invert=e.invert&&j,G()}}function conicProjection(t){var e=0,n=pi$1/3,r=projectionMutator(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*radians,n=o[1]*radians):[e*degrees,n*degrees]},i}function cylindricalEqualAreaRaw(t){var e=cos$1(t);function n(r,i){return[r*e,sin$1(i)/e]}return n.invert=function(r,i){return[r/e,asin$1(i*e)]},n}function conicEqualAreaRaw(t,e){var n=sin$1(t),r=(n+sin$1(e))/2;if(abs$1(r)<epsilon$1)return cylindricalEqualAreaRaw(t);var i=1+n*(2*r-n),o=sqrt$2(i)/r;function l(f,d){var h=sqrt$2(i-2*r*sin$1(d))/r;return[h*sin$1(f*=r),o-h*cos$1(f)]}return l.invert=function(f,d){var h=o-d,p=atan2$1(f,abs$1(h))*sign$1(h);return h*r<0&&(p-=pi$1*sign$1(f)*sign$1(h)),[p/r,asin$1((i-(f*f+h*h)*r*r)/(2*r))]},l}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function albersUsa(){var t,e,n=albers(),r,i=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,d,h={point:function(g,v){d=[g,v]}};function p(g){var v=g[0],_=g[1];return d=null,r.point(v,_),d||(o.point(v,_),d)||(f.point(v,_),d)}p.invert=function(g){var v=n.scale(),_=n.translate(),w=(g[0]-_[0])/v,$=(g[1]-_[1])/v;return($>=.12&&$<.234&&w>=-.425&&w<-.214?i:$>=.166&&$<.234&&w>=-.214&&w<-.115?l:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=multiplex([n.stream(e=g),i.stream(g),l.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),i.precision(g),l.precision(g),b()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),i.scale(g*.35),l.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var v=n.scale(),_=+g[0],w=+g[1];return r=n.translate(g).clipExtent([[_-.455*v,w-.238*v],[_+.455*v,w+.238*v]]).stream(h),o=i.translate([_-.307*v,w+.201*v]).clipExtent([[_-.425*v+epsilon$1,w+.12*v+epsilon$1],[_-.214*v-epsilon$1,w+.234*v-epsilon$1]]).stream(h),f=l.translate([_-.205*v,w+.212*v]).clipExtent([[_-.214*v+epsilon$1,w+.166*v+epsilon$1],[_-.115*v-epsilon$1,w+.234*v-epsilon$1]]).stream(h),b()},p.fitExtent=function(g,v){return fitExtent(p,g,v)},p.fitSize=function(g,v){return fitSize(p,g,v)},p.fitWidth=function(g,v){return fitWidth(p,g,v)},p.fitHeight=function(g,v){return fitHeight(p,g,v)};function b(){return t=e=null,p}return p.scale(1070)}function azimuthalRaw(t){return function(e,n){var r=cos$1(e),i=cos$1(n),o=t(r*i);return o===1/0?[2,0]:[o*i*sin$1(e),o*sin$1(n)]}}function azimuthalInvert(t){return function(e,n){var r=sqrt$2(e*e+n*n),i=t(r),o=sin$1(i),l=cos$1(i);return[atan2$1(e*o,r*l),asin$1(r&&n*o/r)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt$2(2/(1+t))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin$1(t/2)});function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos$1(t))&&t/sin$1(t)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t});function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(t,e){return[t,log$1(tan((halfPi$1+e)/2))]}mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi$1]};function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau$1)}function mercatorProjection(t){var e=projection(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,l=null,f,d,h;e.scale=function(b){return arguments.length?(r(b),p()):r()},e.translate=function(b){return arguments.length?(i(b),p()):i()},e.center=function(b){return arguments.length?(n(b),p()):n()},e.clipExtent=function(b){return arguments.length?(b==null?l=f=d=h=null:(l=+b[0][0],f=+b[0][1],d=+b[1][0],h=+b[1][1]),p()):l==null?null:[[l,f],[d,h]]};function p(){var b=pi$1*r(),g=e(rotation(e.rotate()).invert([0,0]));return o(l==null?[[g[0]-b,g[1]-b],[g[0]+b,g[1]+b]]:t===mercatorRaw?[[Math.max(g[0]-b,l),f],[Math.min(g[0]+b,d),h]]:[[l,Math.max(g[1]-b,f)],[d,Math.min(g[1]+b,h)]])}return p()}function tany(t){return tan((halfPi$1+t)/2)}function conicConformalRaw(t,e){var n=cos$1(t),r=t===e?sin$1(t):log$1(n/cos$1(e))/log$1(tany(e)/tany(t)),i=n*pow$1(tany(t),r)/r;if(!r)return mercatorRaw;function o(l,f){i>0?f<-halfPi$1+epsilon$1&&(f=-halfPi$1+epsilon$1):f>halfPi$1-epsilon$1&&(f=halfPi$1-epsilon$1);var d=i/pow$1(tany(f),r);return[d*sin$1(r*l),i-d*cos$1(r*l)]}return o.invert=function(l,f){var d=i-f,h=sign$1(r)*sqrt$2(l*l+d*d),p=atan2$1(l,abs$1(d))*sign$1(d);return d*r<0&&(p-=pi$1*sign$1(l)*sign$1(d)),[p/r,2*atan(pow$1(i/h,1/r))-halfPi$1]},o}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}equirectangularRaw.invert=equirectangularRaw;function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var n=cos$1(t),r=t===e?sin$1(t):(n-cos$1(e))/(e-t),i=n/r+t;if(abs$1(r)<epsilon$1)return equirectangularRaw;function o(l,f){var d=i-f,h=r*l;return[d*sin$1(h),i-d*cos$1(h)]}return o.invert=function(l,f){var d=i-f,h=atan2$1(l,abs$1(d))*sign$1(d);return d*r<0&&(h-=pi$1*sign$1(l)*sign$1(d)),[h/r,i-sign$1(r)*sqrt$2(l*l+d*d)]},o}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$2(3)/2,iterations=12;function equalEarthRaw(t,e){var n=asin$1(M*sin$1(e)),r=n*n,i=r*r*r;return[t*cos$1(n)/(M*(A1+3*A2*r+i*(7*A3+9*A4*r))),n*(A1+A2*r+i*(A3+A4*r))]}equalEarthRaw.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,l,f,d;o<iterations&&(f=n*(A1+A2*r+i*(A3+A4*r))-e,d=A1+3*A2*r+i*(7*A3+9*A4*r),n-=l=f/d,r=n*n,i=r*r*r,!(abs$1(l)<epsilon2));++o);return[M*t*(A1+3*A2*r+i*(7*A3+9*A4*r))/cos$1(n),asin$1(sin$1(n)/M)]};function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var n=cos$1(e),r=cos$1(t)*n;return[n*sin$1(t)/r,sin$1(e)/r]}gnomonicRaw.invert=azimuthalInvert(atan);function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function identity$4(){var t=1,e=0,n=0,r=1,i=1,o=0,l,f,d=null,h,p,b,g=1,v=1,_=transformer$3({point:function(P,N){var I=T([P,N]);this.stream.point(I[0],I[1])}}),w=identity$5,$,S;function R(){return g=t*r,v=t*i,$=S=null,T}function T(P){var N=P[0]*g,I=P[1]*v;if(o){var O=I*l-N*f;N=N*l+I*f,I=O}return[N+e,I+n]}return T.invert=function(P){var N=P[0]-e,I=P[1]-n;if(o){var O=I*l+N*f;N=N*l-I*f,I=O}return[N/g,I/v]},T.stream=function(P){return $&&S===P?$:$=_(w(S=P))},T.postclip=function(P){return arguments.length?(w=P,d=h=p=b=null,R()):w},T.clipExtent=function(P){return arguments.length?(w=P==null?(d=h=p=b=null,identity$5):clipRectangle(d=+P[0][0],h=+P[0][1],p=+P[1][0],b=+P[1][1]),R()):d==null?null:[[d,h],[p,b]]},T.scale=function(P){return arguments.length?(t=+P,R()):t},T.translate=function(P){return arguments.length?(e=+P[0],n=+P[1],R()):[e,n]},T.angle=function(P){return arguments.length?(o=P%360*radians,f=sin$1(o),l=cos$1(o),R()):o*degrees},T.reflectX=function(P){return arguments.length?(r=P?-1:1,R()):r<0},T.reflectY=function(P){return arguments.length?(i=P?-1:1,R()):i<0},T.fitExtent=function(P,N){return fitExtent(T,P,N)},T.fitSize=function(P,N){return fitSize(T,P,N)},T.fitWidth=function(P,N){return fitWidth(T,P,N)},T.fitHeight=function(P,N){return fitHeight(T,P,N)},T}function naturalEarth1Raw(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}naturalEarth1Raw.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,l=o*o;n-=i=(n*(1.007226+o*(.015085+l*(-.044475+.028874*o-.005916*l)))-e)/(1.007226+o*(.015085*3+l*(-.044475*7+.028874*9*o-.005916*11*l)))}while(abs$1(i)>epsilon$1&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(t,e){return[cos$1(e)*sin$1(t),sin$1(e)]}orthographicRaw.invert=azimuthalInvert(asin$1);function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(t,e){var n=cos$1(e),r=1+cos$1(t)*n;return[n*sin$1(t)/r,sin$1(e)/r]}stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)});function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log$1(tan((halfPi$1+e)/2)),-t]}transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi$1]};function transverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function defaultSeparation$1(t,e){return t.parent===e.parent?1:2}function meanX(t){return t.reduce(meanXReduce,0)/t.length}function meanXReduce(t,e){return t+e.x}function maxY(t){return 1+t.reduce(maxYReduce,0)}function maxYReduce(t,e){return Math.max(t,e.y)}function leafLeft(t){for(var e;e=t.children;)t=e[0];return t}function leafRight(t){for(var e;e=t.children;)t=e[e.length-1];return t}function cluster(){var t=defaultSeparation$1,e=1,n=1,r=!1;function i(o){var l,f=0;o.eachAfter(function(g){var v=g.children;v?(g.x=meanX(v),g.y=maxY(v)):(g.x=l?f+=t(g,l):0,g.y=0,l=g)});var d=leafLeft(o),h=leafRight(o),p=d.x-t(d,h)/2,b=h.x+t(h,d)/2;return o.eachAfter(r?function(g){g.x=(g.x-o.x)*e,g.y=(o.y-g.y)*n}:function(g){g.x=(g.x-p)/(b-p)*e,g.y=(1-(o.y?g.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function count(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function node_count(){return this.eachAfter(count)}function node_each(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function node_eachBefore(t,e){for(var n=this,r=[n],i,o,l=-1;n=r.pop();)if(t.call(e,n,++l,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function node_eachAfter(t,e){for(var n=this,r=[n],i=[],o,l,f,d=-1;n=r.pop();)if(i.push(n),o=n.children)for(l=0,f=o.length;l<f;++l)r.push(o[l]);for(;n=i.pop();)t.call(e,n,++d,this);return this}function node_find(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function node_sum(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function node_sort(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function node_path(t){for(var e=this,n=leastCommonAncestor(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function leastCommonAncestor(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function node_ancestors(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function node_descendants(){return Array.from(this)}function node_leaves(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function node_links(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*node_iterator(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function hierarchy(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=mapChildren)):e===void 0&&(e=objectChildren);for(var n=new Node$1(t),r,i=[n],o,l,f,d;r=i.pop();)if((l=e(r.data))&&(d=(l=Array.from(l)).length))for(r.children=l,f=d-1;f>=0;--f)i.push(o=l[f]=new Node$1(l[f])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(t){return t.children}function mapChildren(t){return Array.isArray(t)?t[1]:null}function copyData(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function computeHeight(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Node$1(t){this.data=t,this.depth=this.height=0,this.parent=null}Node$1.prototype=hierarchy.prototype={constructor:Node$1,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,find:node_find,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy,[Symbol.iterator]:node_iterator};function optional(t){return t==null?null:required(t)}function required(t){if(typeof t!="function")throw new Error;return t}function constantZero(){return 0}function constant$2(t){return function(){return t}}const a$1=1664525,c$3=1013904223,m=4294967296;function lcg$1(){let t=1;return()=>(t=(a$1*t+c$3)%m)/m}function array$1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function shuffle(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function enclose(t){return packEncloseRandom(t,lcg$1())}function packEncloseRandom(t,e){for(var n=0,r=(t=shuffle(Array.from(t),e)).length,i=[],o,l;n<r;)o=t[n],l&&enclosesWeak(l,o)?++n:(l=encloseBasis(i=extendBasis(i,o)),n=0);return l}function extendBasis(t,e){var n,r;if(enclosesWeakAll(e,t))return[e];for(n=0;n<t.length;++n)if(enclosesNot(e,t[n])&&enclosesWeakAll(encloseBasis2(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(enclosesNot(encloseBasis2(t[n],t[r]),e)&&enclosesNot(encloseBasis2(t[n],e),t[r])&&enclosesNot(encloseBasis2(t[r],e),t[n])&&enclosesWeakAll(encloseBasis3(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function enclosesNot(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function enclosesWeak(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function enclosesWeakAll(t,e){for(var n=0;n<e.length;++n)if(!enclosesWeak(t,e[n]))return!1;return!0}function encloseBasis(t){switch(t.length){case 1:return encloseBasis1(t[0]);case 2:return encloseBasis2(t[0],t[1]);case 3:return encloseBasis3(t[0],t[1],t[2])}}function encloseBasis1(t){return{x:t.x,y:t.y,r:t.r}}function encloseBasis2(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,l=e.y,f=e.r,d=o-n,h=l-r,p=f-i,b=Math.sqrt(d*d+h*h);return{x:(n+o+d/b*p)/2,y:(r+l+h/b*p)/2,r:(b+i+f)/2}}function encloseBasis3(t,e,n){var r=t.x,i=t.y,o=t.r,l=e.x,f=e.y,d=e.r,h=n.x,p=n.y,b=n.r,g=r-l,v=r-h,_=i-f,w=i-p,$=d-o,S=b-o,R=r*r+i*i-o*o,T=R-l*l-f*f+d*d,P=R-h*h-p*p+b*b,N=v*_-g*w,I=(_*P-w*T)/(N*2)-r,O=(w*$-_*S)/N,H=(v*T-g*P)/(N*2)-i,V=(g*S-v*$)/N,F=O*O+V*V-1,L=2*(o+I*O+H*V),j=I*I+H*H-o*o,G=-(Math.abs(F)>1e-6?(L+Math.sqrt(L*L-4*F*j))/(2*F):j/L);return{x:r+I+O*G,y:i+H+V*G,r:G}}function place(t,e,n){var r=t.x-e.x,i,o,l=t.y-e.y,f,d,h=r*r+l*l;h?(o=e.r+n.r,o*=o,d=t.r+n.r,d*=d,o>d?(i=(h+d-o)/(2*h),f=Math.sqrt(Math.max(0,d/h-i*i)),n.x=t.x-i*r-f*l,n.y=t.y-i*l+f*r):(i=(h+o-d)/(2*h),f=Math.sqrt(Math.max(0,o/h-i*i)),n.x=e.x+i*r-f*l,n.y=e.y+i*l+f*r)):(n.x=e.x+n.r,n.y=e.y)}function intersects(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function score(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Node(t){this._=t,this.next=null,this.previous=null}function packSiblingsRandom(t,e){if(!(o=(t=array$1(t)).length))return 0;var n,r,i,o,l,f,d,h,p,b,g;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;place(r,n,i=t[2]),n=new Node(n),r=new Node(r),i=new Node(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(d=3;d<o;++d){place(n._,r._,i=t[d]),i=new Node(i),h=r.next,p=n.previous,b=r._.r,g=n._.r;do if(b<=g){if(intersects(h._,i._)){r=h,n.next=r,r.previous=n,--d;continue t}b+=h._.r,h=h.next}else{if(intersects(p._,i._)){n=p,n.next=r,r.previous=n,--d;continue t}g+=p._.r,p=p.previous}while(h!==p.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,l=score(n);(i=i.next)!==r;)(f=score(i))<l&&(n=i,l=f);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=packEncloseRandom(n,e),d=0;d<o;++d)n=t[d],n.x-=i.x,n.y-=i.y;return i.r}function siblings(t){return packSiblingsRandom(t,lcg$1()),t}function defaultRadius(t){return Math.sqrt(t.value)}function index$1(){var t=null,e=1,n=1,r=constantZero;function i(o){const l=lcg$1();return o.x=e/2,o.y=n/2,t?o.eachBefore(radiusLeaf(t)).eachAfter(packChildrenRandom(r,.5,l)).eachBefore(translateChild(1)):o.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildrenRandom(constantZero,1,l)).eachAfter(packChildrenRandom(r,o.r/Math.min(e,n),l)).eachBefore(translateChild(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=optional(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:constant$2(+o),i):r},i}function radiusLeaf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function packChildrenRandom(t,e,n){return function(r){if(i=r.children){var i,o,l=i.length,f=t(r)*e||0,d;if(f)for(o=0;o<l;++o)i[o].r+=f;if(d=packSiblingsRandom(i,n),f)for(o=0;o<l;++o)i[o].r-=f;r.r=d+f}}}function translateChild(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function roundNode(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function treemapDice(t,e,n,r,i){for(var o=t.children,l,f=-1,d=o.length,h=t.value&&(r-e)/t.value;++f<d;)l=o[f],l.y0=n,l.y1=i,l.x0=e,l.x1=e+=l.value*h}function partition(){var t=1,e=1,n=0,r=!1;function i(l){var f=l.height+1;return l.x0=l.y0=n,l.x1=t,l.y1=e/f,l.eachBefore(o(e,f)),r&&l.eachBefore(roundNode),l}function o(l,f){return function(d){d.children&&treemapDice(d,d.x0,l*(d.depth+1)/f,d.x1,l*(d.depth+2)/f);var h=d.x0,p=d.y0,b=d.x1-n,g=d.y1-n;b<h&&(h=b=(h+b)/2),g<p&&(p=g=(p+g)/2),d.x0=h,d.y0=p,d.x1=b,d.y1=g}}return i.round=function(l){return arguments.length?(r=!!l,i):r},i.size=function(l){return arguments.length?(t=+l[0],e=+l[1],i):[t,e]},i.padding=function(l){return arguments.length?(n=+l,i):n},i}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(t){return t.id}function defaultParentId(t){return t.parentId}function stratify(){var t=defaultId,e=defaultParentId,n;function r(i){var o=Array.from(i),l=t,f=e,d,h,p,b,g,v,_,w,$=new Map;if(n!=null){const S=o.map((P,N)=>normalize$1(n(P,N,i))),R=S.map(parentof),T=new Set(S).add("");for(const P of R)T.has(P)||(T.add(P),S.push(P),R.push(parentof(P)),o.push(imputed));l=(P,N)=>S[N],f=(P,N)=>R[N]}for(p=0,d=o.length;p<d;++p)h=o[p],v=o[p]=new Node$1(h),(_=l(h,p,i))!=null&&(_+="")&&(w=v.id=_,$.set(w,$.has(w)?ambiguous:v)),(_=f(h,p,i))!=null&&(_+="")&&(v.parent=_);for(p=0;p<d;++p)if(v=o[p],_=v.parent){if(g=$.get(_),!g)throw new Error("missing: "+_);if(g===ambiguous)throw new Error("ambiguous: "+_);g.children?g.children.push(v):g.children=[v],v.parent=g}else{if(b)throw new Error("multiple roots");b=v}if(!b)throw new Error("no root");if(n!=null){for(;b.data===imputed&&b.children.length===1;)b=b.children[0],--d;for(let S=o.length-1;S>=0&&(v=o[S],v.data===imputed);--S)v.data=null}if(b.parent=preroot,b.eachBefore(function(S){S.depth=S.parent.depth+1,--d}).eachBefore(computeHeight),b.parent=null,d>0)throw new Error("cycle");return b}return r.id=function(i){return arguments.length?(t=optional(i),r):t},r.parentId=function(i){return arguments.length?(e=optional(i),r):e},r.path=function(i){return arguments.length?(n=optional(i),r):n},r}function normalize$1(t){t=`${t}`;let e=t.length;return slash(t,e-1)&&!slash(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function parentof(t){let e=t.length;if(e<2)return"";for(;--e>1&&!slash(t,e););return t.slice(0,e)}function slash(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function defaultSeparation(t,e){return t.parent===e.parent?1:2}function nextLeft(t){var e=t.children;return e?e[0]:t.t}function nextRight(t){var e=t.children;return e?e[e.length-1]:t.t}function moveSubtree(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function executeShifts(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function nextAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function TreeNode(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}TreeNode.prototype=Object.create(Node$1.prototype);function treeRoot(t){for(var e=new TreeNode(t,0),n,r=[e],i,o,l,f;n=r.pop();)if(o=n._.children)for(n.children=new Array(f=o.length),l=f-1;l>=0;--l)r.push(i=n.children[l]=new TreeNode(o[l],l)),i.parent=n;return(e.parent=new TreeNode(null,0)).children=[e],e}function tree(){var t=defaultSeparation,e=1,n=1,r=null;function i(h){var p=treeRoot(h);if(p.eachAfter(o),p.parent.m=-p.z,p.eachBefore(l),r)h.eachBefore(d);else{var b=h,g=h,v=h;h.eachBefore(function(R){R.x<b.x&&(b=R),R.x>g.x&&(g=R),R.depth>v.depth&&(v=R)});var _=b===g?1:t(b,g)/2,w=_-b.x,$=e/(g.x+_+w),S=n/(v.depth||1);h.eachBefore(function(R){R.x=(R.x+w)*$,R.y=R.depth*S})}return h}function o(h){var p=h.children,b=h.parent.children,g=h.i?b[h.i-1]:null;if(p){executeShifts(h);var v=(p[0].z+p[p.length-1].z)/2;g?(h.z=g.z+t(h._,g._),h.m=h.z-v):h.z=v}else g&&(h.z=g.z+t(h._,g._));h.parent.A=f(h,g,h.parent.A||b[0])}function l(h){h._.x=h.z+h.parent.m,h.m+=h.parent.m}function f(h,p,b){if(p){for(var g=h,v=h,_=p,w=g.parent.children[0],$=g.m,S=v.m,R=_.m,T=w.m,P;_=nextRight(_),g=nextLeft(g),_&&g;)w=nextLeft(w),v=nextRight(v),v.a=h,P=_.z+R-g.z-$+t(_._,g._),P>0&&(moveSubtree(nextAncestor(_,h,b),h,P),$+=P,S+=P),R+=_.m,$+=g.m,T+=w.m,S+=v.m;_&&!nextRight(v)&&(v.t=_,v.m+=R-S),g&&!nextLeft(w)&&(w.t=g,w.m+=$-T,b=h)}return b}function d(h){h.x*=e,h.y=h.depth*n}return i.separation=function(h){return arguments.length?(t=h,i):t},i.size=function(h){return arguments.length?(r=!1,e=+h[0],n=+h[1],i):r?null:[e,n]},i.nodeSize=function(h){return arguments.length?(r=!0,e=+h[0],n=+h[1],i):r?[e,n]:null},i}function treemapSlice(t,e,n,r,i){for(var o=t.children,l,f=-1,d=o.length,h=t.value&&(i-n)/t.value;++f<d;)l=o[f],l.x0=e,l.x1=r,l.y0=n,l.y1=n+=l.value*h}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(t,e,n,r,i,o){for(var l=[],f=e.children,d,h,p=0,b=0,g=f.length,v,_,w=e.value,$,S,R,T,P,N,I;p<g;){v=i-n,_=o-r;do $=f[b++].value;while(!$&&b<g);for(S=R=$,N=Math.max(_/v,v/_)/(w*t),I=$*$*N,P=Math.max(R/I,I/S);b<g;++b){if($+=h=f[b].value,h<S&&(S=h),h>R&&(R=h),I=$*$*N,T=Math.max(R/I,I/S),T>P){$-=h;break}P=T}l.push(d={value:$,dice:v<_,children:f.slice(p,b)}),d.dice?treemapDice(d,n,r,i,w?r+=_*$/w:o):treemapSlice(d,n,r,w?n+=v*$/w:i,o),w-=$,p=b}return l}var squarify=function t(e){function n(r,i,o,l,f){squarifyRatio(e,r,i,o,l,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(phi);function index(){var t=squarify,e=!1,n=1,r=1,i=[0],o=constantZero,l=constantZero,f=constantZero,d=constantZero,h=constantZero;function p(g){return g.x0=g.y0=0,g.x1=n,g.y1=r,g.eachBefore(b),i=[0],e&&g.eachBefore(roundNode),g}function b(g){var v=i[g.depth],_=g.x0+v,w=g.y0+v,$=g.x1-v,S=g.y1-v;$<_&&(_=$=(_+$)/2),S<w&&(w=S=(w+S)/2),g.x0=_,g.y0=w,g.x1=$,g.y1=S,g.children&&(v=i[g.depth+1]=o(g)/2,_+=h(g)-v,w+=l(g)-v,$-=f(g)-v,S-=d(g)-v,$<_&&(_=$=(_+$)/2),S<w&&(w=S=(w+S)/2),t(g,_,w,$,S))}return p.round=function(g){return arguments.length?(e=!!g,p):e},p.size=function(g){return arguments.length?(n=+g[0],r=+g[1],p):[n,r]},p.tile=function(g){return arguments.length?(t=required(g),p):t},p.padding=function(g){return arguments.length?p.paddingInner(g).paddingOuter(g):p.paddingInner()},p.paddingInner=function(g){return arguments.length?(o=typeof g=="function"?g:constant$2(+g),p):o},p.paddingOuter=function(g){return arguments.length?p.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):p.paddingTop()},p.paddingTop=function(g){return arguments.length?(l=typeof g=="function"?g:constant$2(+g),p):l},p.paddingRight=function(g){return arguments.length?(f=typeof g=="function"?g:constant$2(+g),p):f},p.paddingBottom=function(g){return arguments.length?(d=typeof g=="function"?g:constant$2(+g),p):d},p.paddingLeft=function(g){return arguments.length?(h=typeof g=="function"?g:constant$2(+g),p):h},p}function binary(t,e,n,r,i){var o=t.children,l,f=o.length,d,h=new Array(f+1);for(h[0]=d=l=0;l<f;++l)h[l+1]=d+=o[l].value;p(0,f,t.value,e,n,r,i);function p(b,g,v,_,w,$,S){if(b>=g-1){var R=o[b];R.x0=_,R.y0=w,R.x1=$,R.y1=S;return}for(var T=h[b],P=v/2+T,N=b+1,I=g-1;N<I;){var O=N+I>>>1;h[O]<P?N=O+1:I=O}P-h[N-1]<h[N]-P&&b+1<N&&--N;var H=h[N]-T,V=v-H;if($-_>S-w){var F=v?(_*V+$*H)/v:$;p(b,N,H,_,w,F,S),p(N,g,V,F,w,$,S)}else{var L=v?(w*V+S*H)/v:S;p(b,N,H,_,w,$,L),p(N,g,V,_,L,$,S)}}}function sliceDice(t,e,n,r,i){(t.depth&1?treemapSlice:treemapDice)(t,e,n,r,i)}var resquarify=function t(e){function n(r,i,o,l,f){if((d=r._squarify)&&d.ratio===e)for(var d,h,p,b,g=-1,v,_=d.length,w=r.value;++g<_;){for(h=d[g],p=h.children,b=h.value=0,v=p.length;b<v;++b)h.value+=p[b].value;h.dice?treemapDice(h,i,o,l,w?o+=(f-o)*h.value/w:f):treemapSlice(h,i,o,w?i+=(l-i)*h.value/w:l,f),w-=h.value}else r._squarify=d=squarifyRatio(e,r,i,o,l,f),d.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(phi);function area$1(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function centroid(t){for(var e=-1,n=t.length,r=0,i=0,o,l=t[n-1],f,d=0;++e<n;)o=l,l=t[e],d+=f=o[0]*l[1]-l[0]*o[1],r+=(o[0]+l[0])*f,i+=(o[1]+l[1])*f;return d*=3,[r/d,i/d]}function cross$1(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function lexicographicOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function computeUpperHullIndexes(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&cross$1(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function hull(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(lexicographicOrder),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=computeUpperHullIndexes(r),l=computeUpperHullIndexes(i),f=l[0]===o[0],d=l[l.length-1]===o[o.length-1],h=[];for(e=o.length-1;e>=0;--e)h.push(t[r[o[e]][2]]);for(e=+f;e<l.length-d;++e)h.push(t[r[l[e]][2]]);return h}function contains(t,e){for(var n=t.length,r=t[n-1],i=e[0],o=e[1],l=r[0],f=r[1],d,h,p=!1,b=0;b<n;++b)r=t[b],d=r[0],h=r[1],h>o!=f>o&&i<(l-d)*(o-h)/(f-h)+d&&(p=!p),l=d,f=h;return p}function length(t){for(var e=-1,n=t.length,r=t[n-1],i,o,l=r[0],f=r[1],d=0;++e<n;)i=l,o=f,r=t[e],l=r[0],f=r[1],i-=l,o-=f,d+=Math.hypot(i,o);return d}var defaultSource=Math.random,uniform=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(defaultSource),int=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(defaultSource),normal=function t(e){function n(r,i){var o,l;return r=r==null?0:+r,i=i==null?1:+i,function(){var f;if(o!=null)f=o,o=null;else do o=e()*2-1,f=e()*2-1,l=o*o+f*f;while(!l||l>1);return r+i*f*Math.sqrt(-2*Math.log(l)/l)}}return n.source=t,n}(defaultSource),logNormal=function t(e){var n=normal.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(defaultSource),irwinHall=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=e();return i+o*e()}}return n.source=t,n}(defaultSource),bates=function t(e){var n=irwinHall.source(e);function r(i){if((i=+i)==0)return e;var o=n(i);return function(){return o()/i}}return r.source=t,r}(defaultSource),exponential=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(defaultSource),pareto=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(defaultSource),bernoulli=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(defaultSource),geometric=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(defaultSource),gamma=function t(e){var n=normal.source(e)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-e())*o;var l=(i<1?i+1:i)-1/3,f=1/(3*Math.sqrt(l)),d=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var h=n(),p=1+f*h;while(p<=0);p*=p*p;var b=1-e()}while(b>=1-.0331*h*h*h*h&&Math.log(b)>=.5*h*h+l*(1-p+Math.log(p)));return l*p*d()*o}}return r.source=t,r}(defaultSource),beta=function t(e){var n=gamma.source(e);function r(i,o){var l=n(i),f=n(o);return function(){var d=l();return d===0?0:d/(d+f())}}return r.source=t,r}(defaultSource),binomial=function t(e){var n=geometric.source(e),r=beta.source(e);function i(o,l){return o=+o,(l=+l)>=1?()=>o:l<=0?()=>0:function(){for(var f=0,d=o,h=l;d*h>16&&d*(1-h)>16;){var p=Math.floor((d+1)*h),b=r(p,d-p+1)();b<=h?(f+=p,d-=p,h=(h-b)/(1-b)):(d=p-1,h/=b)}for(var g=h<.5,v=g?h:1-h,_=n(v),w=_(),$=0;w<=d;++$)w+=_();return f+(g?$:d-$)}}return i.source=t,i}(defaultSource),weibull=function t(e){function n(r,i,o){var l;return(r=+r)==0?l=f=>-Math.log(f):(r=1/r,l=f=>Math.pow(f,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*l(-Math.log1p(-e()))}}return n.source=t,n}(defaultSource),cauchy=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(defaultSource),logistic=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=e();return r+i*Math.log(o/(1-o))}}return n.source=t,n}(defaultSource),poisson=function t(e){var n=gamma.source(e),r=binomial.source(e);function i(o){return function(){for(var l=0,f=o;f>16;){var d=Math.floor(.875*f),h=n(d)();if(h>f)return l+r(d-1,f/h)();l+=d,f-=h}for(var p=-Math.log1p(-e()),b=0;p<=f;++b)p-=Math.log1p(-e());return l+b}}return i.source=t,i}(defaultSource);const mul=1664525,inc=1013904223,eps=1/4294967296;function lcg(t=Math.random()){let e=(0<=t&&t<1?t/eps:Math.abs(t))|0;return()=>(e=mul*e+inc|0,eps*(e>>>0))}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],r=implicit;function i(o){let l=t.get(o);if(l===void 0){if(r!==implicit)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ordinal(e,n).unknown(r)},initRange.apply(i,arguments),i}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,f=!1,d=0,h=0,p=.5;delete t.unknown;function b(){var g=e().length,v=i<r,_=v?i:r,w=v?r:i;o=(w-_)/Math.max(1,g-d+h*2),f&&(o=Math.floor(o)),_+=(w-_-o*(g-d))*p,l=o*(1-d),f&&(_=Math.round(_),l=Math.round(l));var $=range$2(g).map(function(S){return _+o*S});return n(v?$.reverse():$)}return t.domain=function(g){return arguments.length?(e(g),b()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,b()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,f=!0,b()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(g){return arguments.length?(f=!!g,b()):f},t.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),b()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),b()):d},t.paddingOuter=function(g){return arguments.length?(h=+g,b()):h},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),b()):p},t.copy=function(){return band(e(),[r,i]).round(f).paddingInner(d).paddingOuter(h).align(p)},initRange.apply(b(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(t){return function(){return t}}function number$1(t){return+t}var unit=[0,1];function identity$3(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bimap(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=normalize(i,r),o=n(l,o)):(r=normalize(r,i),o=n(o,l)),function(f){return o(r(f))}}function polymap(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=normalize(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(f){var d=bisect(t,f,1,r)-1;return o[d](i[d](f))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit,e=unit,n=interpolate$2,r,i,o,l=identity$3,f,d,h;function p(){var g=Math.min(t.length,e.length);return l!==identity$3&&(l=clamper(t[0],t[g-1])),f=g>2?polymap:bimap,d=h=null,b}function b(g){return g==null||isNaN(g=+g)?o:(d||(d=f(t.map(r),e,n)))(r(l(g)))}return b.invert=function(g){return l(i((h||(h=f(e,t.map(r),interpolateNumber)))(g)))},b.domain=function(g){return arguments.length?(t=Array.from(g,number$1),p()):t.slice()},b.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},b.rangeRound=function(g){return e=Array.from(g),n=interpolateRound,p()},b.clamp=function(g){return arguments.length?(l=g?!0:identity$3,p()):l!==identity$3},b.interpolate=function(g){return arguments.length?(n=g,p()):n},b.unknown=function(g){return arguments.length?(o=g,b):o},function(g,v){return r=g,i=v,p()}}function continuous(){return transformer$2()(identity$3,identity$3)}function tickFormat(t,e,n,r){var i=tickStep(t,e,n),o;switch(r=formatSpecifier(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=precisionPrefix(i,l))&&(r.precision=o),formatPrefix(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=precisionRound(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=precisionFixed(i))&&(r.precision=o-(r.type==="%")*2);break}}return format(r)}function linearish(t){var e=t.domain;return t.ticks=function(n){var r=e();return ticks(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return tickFormat(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],f=r[o],d,h,p=10;for(f<l&&(h=l,l=f,f=h,h=i,i=o,o=h);p-- >0;){if(h=tickIncrement(l,f,n),h===d)return r[i]=l,r[o]=f,e(r);if(h>0)l=Math.floor(l/h)*h,f=Math.ceil(f/h)*h;else if(h<0)l=Math.ceil(l*h)/h,f=Math.floor(f*h)/h;else break;d=h}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,number$1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let r=10,i,o;function l(){return i=logp(r),o=powp(r),n()[0]<0?(i=reflect(i),o=reflect(o),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(f){return arguments.length?(r=+f,l()):r},e.domain=function(f){return arguments.length?(n(f),l()):n()},e.ticks=f=>{const d=n();let h=d[0],p=d[d.length-1];const b=p<h;b&&([h,p]=[p,h]);let g=i(h),v=i(p),_,w;const $=f==null?10:+f;let S=[];if(!(r%1)&&v-g<$){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(_=1;_<r;++_)if(w=g<0?_/o(-g):_*o(g),!(w<h)){if(w>p)break;S.push(w)}}else for(;g<=v;++g)for(_=r-1;_>=1;--_)if(w=g>0?_/o(-g):_*o(g),!(w<h)){if(w>p)break;S.push(w)}S.length*2<$&&(S=ticks(h,p,$))}else S=ticks(g,v,Math.min(v-g,$)).map(o);return b?S.reverse():S},e.tickFormat=(f,d)=>{if(f==null&&(f=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=formatSpecifier(d)).precision==null&&(d.trim=!0),d=format(d)),f===1/0)return d;const h=Math.max(1,r*f/e.ticks().length);return p=>{let b=p/o(Math.round(i(p)));return b*r<r-.5&&(b*=r),b<=h?d(p):""}},e.nice=()=>n(nice(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(r){return arguments.length?t(transformSymlog(e=+r),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$3,identity$3),n=1;function r(){return n===1?t(identity$3,identity$3):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt$1(){return pow.apply(null,arguments).exponent(.5)}function square$1(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,r;function i(o){var l=unsquare(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(square$1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,number$1)).map(square$1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},initRange.apply(i,arguments),linearish(i)}function quantile(){var t=[],e=[],n=[],r;function i(){var l=0,f=Math.max(1,e.length);for(n=new Array(f-1);++l<f;)n[l-1]=quantileSorted(t,l/f);return o}function o(l){return l==null||isNaN(l=+l)?r:e[bisect(n,l)]}return o.invertExtent=function(l){var f=e.indexOf(l);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let f of l)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ascending$3),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return quantile().domain(t).range(e).unknown(r)},initRange.apply(o,arguments)}function quantize(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[bisect(r,d,0,n)]:o}function f(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,f()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,f()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return quantize().domain([t,e]).range(i).unknown(o)},initRange.apply(linearish(l),arguments)}function threshold(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bisect(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(i,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),f=i.ceil(o);return o-l<f-o?l:f},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,f)=>{const d=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<l)||!(f>0))return d;let h;do d.push(h=new Date(+o)),e(o,f),t(o);while(h<o&&o<l);return d},i.filter=o=>timeInterval(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,f)=>{if(l>=l)if(f<0)for(;++f<=0;)for(;e(l,-1),!o(l););else for(;--f>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(t0.setTime(+o),t1.setTime(+l),t(t0),t(t1),Math.floor(n(t0,t1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);const milliseconds=millisecond.range,durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds()),seconds=second.range,timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes()),timeMinutes=timeMinute.range,utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes()),utcMinutes=utcMinute.range,timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours()),timeHours=timeHour.range,utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours()),utcHours=utcHour.range,timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1),timeDays=timeDay.range,utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1),utcDays=utcDay.range,unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay)),unixDays=unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6),timeSundays=timeSunday.range,timeMondays=timeMonday.range,timeTuesdays=timeTuesday.range,timeWednesdays=timeWednesday.range,timeThursdays=timeThursday.range,timeFridays=timeFriday.range,timeSaturdays=timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),timeMonths=timeMonth.range,utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),utcMonths=utcMonth.range,timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const timeYears=timeYear.range,utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const utcYears=utcYear.range;function ticker(t,e,n,r,i,o){const l=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[o,1,durationMinute],[o,5,5*durationMinute],[o,15,15*durationMinute],[o,30,30*durationMinute],[i,1,durationHour],[i,3,3*durationHour],[i,6,6*durationHour],[i,12,12*durationHour],[r,1,durationDay],[r,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function f(h,p,b){const g=p<h;g&&([h,p]=[p,h]);const v=b&&typeof b.range=="function"?b:d(h,p,b),_=v?v.range(h,+p+1):[];return g?_.reverse():_}function d(h,p,b){const g=Math.abs(p-h)/b,v=bisector(([,,$])=>$).right(l,g);if(v===l.length)return t.every(tickStep(h/durationYear,p/durationYear,b));if(v===0)return millisecond.every(Math.max(tickStep(h,p,b),1));const[_,w]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return _.every(w)}return[f,d]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,f=t.months,d=t.shortMonths,h=formatRe(i),p=formatLookup(i),b=formatRe(o),g=formatLookup(o),v=formatRe(l),_=formatLookup(l),w=formatRe(f),$=formatLookup(f),S=formatRe(d),R=formatLookup(d),T={a:W,A:Z,b:Q,B:tt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:nt,q:rt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},P={a:lt,A:ut,b:st,B:pt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ct,q:mt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},N={a:F,A:L,b:j,B:G,c:q,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:V,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:z,X:U,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};T.x=I(n,T),T.X=I(r,T),T.c=I(e,T),P.x=I(n,P),P.X=I(r,P),P.c=I(e,P);function I(et,at){return function(ot){var J=[],ht=-1,ft=0,gt=et.length,yt,it,dt;for(ot instanceof Date||(ot=new Date(+ot));++ht<gt;)et.charCodeAt(ht)===37&&(J.push(et.slice(ft,ht)),(it=pads[yt=et.charAt(++ht)])!=null?yt=et.charAt(++ht):it=yt==="e"?" ":"0",(dt=at[yt])&&(yt=dt(ot,it)),J.push(yt),ft=ht+1);return J.push(et.slice(ft,ht)),J.join("")}}function O(et,at){return function(ot){var J=newDate(1900,void 0,1),ht=H(J,et,ot+="",0),ft,gt;if(ht!=ot.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(at&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ft=utcDate(newDate(J.y,0,1)),gt=ft.getUTCDay(),ft=gt>4||gt===0?utcMonday.ceil(ft):utcMonday(ft),ft=utcDay.offset(ft,(J.V-1)*7),J.y=ft.getUTCFullYear(),J.m=ft.getUTCMonth(),J.d=ft.getUTCDate()+(J.w+6)%7):(ft=localDate(newDate(J.y,0,1)),gt=ft.getDay(),ft=gt>4||gt===0?timeMonday.ceil(ft):timeMonday(ft),ft=timeDay.offset(ft,(J.V-1)*7),J.y=ft.getFullYear(),J.m=ft.getMonth(),J.d=ft.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),gt="Z"in J?utcDate(newDate(J.y,0,1)).getUTCDay():localDate(newDate(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(gt+5)%7:J.w+J.U*7-(gt+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,utcDate(J)):localDate(J)}}function H(et,at,ot,J){for(var ht=0,ft=at.length,gt=ot.length,yt,it;ht<ft;){if(J>=gt)return-1;if(yt=at.charCodeAt(ht++),yt===37){if(yt=at.charAt(ht++),it=N[yt in pads?at.charAt(ht++):yt],!it||(J=it(et,ot,J))<0)return-1}else if(yt!=ot.charCodeAt(J++))return-1}return J}function V(et,at,ot){var J=h.exec(at.slice(ot));return J?(et.p=p.get(J[0].toLowerCase()),ot+J[0].length):-1}function F(et,at,ot){var J=v.exec(at.slice(ot));return J?(et.w=_.get(J[0].toLowerCase()),ot+J[0].length):-1}function L(et,at,ot){var J=b.exec(at.slice(ot));return J?(et.w=g.get(J[0].toLowerCase()),ot+J[0].length):-1}function j(et,at,ot){var J=S.exec(at.slice(ot));return J?(et.m=R.get(J[0].toLowerCase()),ot+J[0].length):-1}function G(et,at,ot){var J=w.exec(at.slice(ot));return J?(et.m=$.get(J[0].toLowerCase()),ot+J[0].length):-1}function q(et,at,ot){return H(et,e,at,ot)}function z(et,at,ot){return H(et,n,at,ot)}function U(et,at,ot){return H(et,r,at,ot)}function W(et){return l[et.getDay()]}function Z(et){return o[et.getDay()]}function Q(et){return d[et.getMonth()]}function tt(et){return f[et.getMonth()]}function nt(et){return i[+(et.getHours()>=12)]}function rt(et){return 1+~~(et.getMonth()/3)}function lt(et){return l[et.getUTCDay()]}function ut(et){return o[et.getUTCDay()]}function st(et){return d[et.getUTCMonth()]}function pt(et){return f[et.getUTCMonth()]}function ct(et){return i[+(et.getUTCHours()>=12)]}function mt(et){return 1+~~(et.getUTCMonth()/3)}return{format:function(et){var at=I(et+="",T);return at.toString=function(){return et},at},parse:function(et){var at=O(et+="",!1);return at.toString=function(){return et},at},utcFormat:function(et){var at=I(et+="",P);return at.toString=function(){return et},at},utcParse:function(et){var at=O(et+="",!0);return at.toString=function(){return et},at}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function parseFullYear(t,e,n){var r=numberRe.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function parseYear(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function parseMonthNumber(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function parseDayOfYear(t,e,n){var r=numberRe.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function parseHour24(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function parseMinutes(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function parseSeconds(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function parseMilliseconds(t,e,n){var r=numberRe.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function parseMicroseconds(t,e,n){var r=numberRe.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(t,e,n){var r=percentRe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(t,e,n){var r=numberRe.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var r=numberRe.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,timeParse,utcFormat,utcParse;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,timeParse=locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier),formatIso$1=formatIso;function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),parseIso$1=parseIso;function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,r,i,o,l,f,d,h){var p=continuous(),b=p.invert,g=p.domain,v=h(".%L"),_=h(":%S"),w=h("%I:%M"),$=h("%I %p"),S=h("%a %d"),R=h("%b %d"),T=h("%B"),P=h("%Y");function N(I){return(d(I)<I?v:f(I)<I?_:l(I)<I?w:o(I)<I?$:r(I)<I?i(I)<I?S:R:n(I)<I?T:P)(I)}return p.invert=function(I){return new Date(b(I))},p.domain=function(I){return arguments.length?g(Array.from(I,number)):g().map(date)},p.ticks=function(I){var O=g();return t(O[0],O[O.length-1],I==null?10:I)},p.tickFormat=function(I,O){return O==null?N:h(O)},p.nice=function(I){var O=g();return(!I||typeof I.range!="function")&&(I=e(O[0],O[O.length-1],I==null?10:I)),I?g(nice(O,I)):p},p.copy=function(){return copy$1(p,calendar(t,e,n,r,i,o,l,f,d,h))},p}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,r,i,o,l=identity$3,f=!1,d;function h(b){return b==null||isNaN(b=+b)?d:l(i===0?.5:(b=(o(b)-n)*i,f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e]=b,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(l=b,h):l};function p(b){return function(g){var v,_;return arguments.length?([v,_]=g,l=b(v,_),h):[l(0),l(1)]}}return h.range=p(interpolate$2),h.rangeRound=p(interpolateRound),h.unknown=function(b){return arguments.length?(d=b,h):d},function(b){return o=b,n=b(t),r=b(e),i=n===r?0:1/(r-n),h}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$3));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$3;function n(r){if(r!=null&&!isNaN(r=+r))return e((bisect(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ascending$3),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>quantile$1(t,o/r))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,r=1,i,o,l,f,d,h=identity$3,p,b=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+p(w))-o)*(r*w<r*o?f:d),h(b?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,n]=w,i=p(t=+t),o=p(e=+e),l=p(n=+n),f=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(w){return arguments.length?(b=!!w,v):b},v.interpolator=function(w){return arguments.length?(h=w,v):h};function _(w){return function($){var S,R,T;return arguments.length?([S,R,T]=$,h=piecewise(w,[S,R,T]),v):[h(0),h(.5),h(1)]}}return v.range=_(interpolate$2),v.rangeRound=_(interpolateRound),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return p=w,i=w(t),o=w(e),l=w(n),f=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,v}}function diverging$1(){var t=linearish(transformer()(identity$3));return t.copy=function(){return copy(t,diverging$1())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=t=>rgbBasis(t[t.length-1]),scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),BrBG=ramp$1(scheme$q),scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),PRGn=ramp$1(scheme$p),scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),PiYG=ramp$1(scheme$o),scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),PuOr=ramp$1(scheme$n),scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),RdBu=ramp$1(scheme$m),scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),RdGy=ramp$1(scheme$l),scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),RdYlBu=ramp$1(scheme$k),scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),RdYlGn=ramp$1(scheme$j),scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),Spectral=ramp$1(scheme$i),scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors),BuGn=ramp$1(scheme$h),scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors),BuPu=ramp$1(scheme$g),scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors),GnBu=ramp$1(scheme$f),scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors),OrRd=ramp$1(scheme$e),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors),PuBuGn=ramp$1(scheme$d),scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors),PuBu=ramp$1(scheme$c),scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors),PuRd=ramp$1(scheme$b),scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors),RdPu=ramp$1(scheme$a),scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors),YlGnBu=ramp$1(scheme$9),scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors),YlGn=ramp$1(scheme$8),scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors),YlOrBr=ramp$1(scheme$7),scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors),YlOrRd=ramp$1(scheme$6),scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),Blues=ramp$1(scheme$5),scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),Greens=ramp$1(scheme$4),scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),Greys=ramp$1(scheme$3),scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),Purples=ramp$1(scheme$2),scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),Reds=ramp$1(scheme$1),scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),Oranges=ramp$1(scheme);function cividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var cubehelix=cubehelixLong(cubehelix$3(300,.5,0),cubehelix$3(-240,.5,1)),warm=cubehelixLong(cubehelix$3(-100,.75,.35),cubehelix$3(80,1.5,.8)),cool=cubehelixLong(cubehelix$3(260,.75,.35),cubehelix$3(80,1.5,.8)),c$2=cubehelix$3();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c$2.h=360*t-100,c$2.s=1.5-1.5*e,c$2.l=.8-.9*e,c$2+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function sinebow(t){var e;return t=(.5-t)*Math.PI,c$1.r=255*(e=Math.sin(t))*e,c$1.g=255*(e=Math.sin(t+pi_1_3))*e,c$1.b=255*(e=Math.sin(t+pi_2_3))*e,c$1+""}function turbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function ramp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var viridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(t){return function(){return t}}const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(t){return t>1?0:t<-1?pi:Math.acos(t)}function asin(t){return t>=1?halfPi:t<=-1?-halfPi:Math.asin(t)}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Path$1(e)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,e,n,r,i,o,l,f){var d=n-t,h=r-e,p=l-i,b=f-o,g=b*d-p*h;if(!(g*g<epsilon))return g=(p*(e-o)-b*(t-i))/g,[t+g*d,e+g*h]}function cornerTangents(t,e,n,r,i,o,l){var f=t-n,d=e-r,h=(l?o:-o)/sqrt(f*f+d*d),p=h*d,b=-h*f,g=t+p,v=e+b,_=n+p,w=r+b,$=(g+_)/2,S=(v+w)/2,R=_-g,T=w-v,P=R*R+T*T,N=i-o,I=g*w-_*v,O=(T<0?-1:1)*sqrt(max(0,N*N*P-I*I)),H=(I*T-R*O)/P,V=(-I*R-T*O)/P,F=(I*T+R*O)/P,L=(-I*R+T*O)/P,j=H-$,G=V-S,q=F-$,z=L-S;return j*j+G*G>q*q+z*z&&(H=F,V=L),{cx:H,cy:V,x01:-p,y01:-b,x11:H*(i/N-1),y11:V*(i/N-1)}}function arc(){var t=arcInnerRadius,e=arcOuterRadius,n=constant$1(0),r=null,i=arcStartAngle,o=arcEndAngle,l=arcPadAngle,f=null,d=withPath(h);function h(){var p,b,g=+t.apply(this,arguments),v=+e.apply(this,arguments),_=i.apply(this,arguments)-halfPi,w=o.apply(this,arguments)-halfPi,$=abs(w-_),S=w>_;if(f||(f=p=d()),v<g&&(b=v,v=g,g=b),!(v>epsilon))f.moveTo(0,0);else if($>tau-epsilon)f.moveTo(v*cos(_),v*sin(_)),f.arc(0,0,v,_,w,!S),g>epsilon&&(f.moveTo(g*cos(w),g*sin(w)),f.arc(0,0,g,w,_,S));else{var R=_,T=w,P=_,N=w,I=$,O=$,H=l.apply(this,arguments)/2,V=H>epsilon&&(r?+r.apply(this,arguments):sqrt(g*g+v*v)),F=min(abs(v-g)/2,+n.apply(this,arguments)),L=F,j=F,G,q;if(V>epsilon){var z=asin(V/g*sin(H)),U=asin(V/v*sin(H));(I-=z*2)>epsilon?(z*=S?1:-1,P+=z,N-=z):(I=0,P=N=(_+w)/2),(O-=U*2)>epsilon?(U*=S?1:-1,R+=U,T-=U):(O=0,R=T=(_+w)/2)}var W=v*cos(R),Z=v*sin(R),Q=g*cos(N),tt=g*sin(N);if(F>epsilon){var nt=v*cos(T),rt=v*sin(T),lt=g*cos(P),ut=g*sin(P),st;if($<pi)if(st=intersect(W,Z,lt,ut,nt,rt,Q,tt)){var pt=W-st[0],ct=Z-st[1],mt=nt-st[0],et=rt-st[1],at=1/sin(acos((pt*mt+ct*et)/(sqrt(pt*pt+ct*ct)*sqrt(mt*mt+et*et)))/2),ot=sqrt(st[0]*st[0]+st[1]*st[1]);L=min(F,(g-ot)/(at-1)),j=min(F,(v-ot)/(at+1))}else L=j=0}O>epsilon?j>epsilon?(G=cornerTangents(lt,ut,W,Z,v,j,S),q=cornerTangents(nt,rt,Q,tt,v,j,S),f.moveTo(G.cx+G.x01,G.cy+G.y01),j<F?f.arc(G.cx,G.cy,j,atan2(G.y01,G.x01),atan2(q.y01,q.x01),!S):(f.arc(G.cx,G.cy,j,atan2(G.y01,G.x01),atan2(G.y11,G.x11),!S),f.arc(0,0,v,atan2(G.cy+G.y11,G.cx+G.x11),atan2(q.cy+q.y11,q.cx+q.x11),!S),f.arc(q.cx,q.cy,j,atan2(q.y11,q.x11),atan2(q.y01,q.x01),!S))):(f.moveTo(W,Z),f.arc(0,0,v,R,T,!S)):f.moveTo(W,Z),!(g>epsilon)||!(I>epsilon)?f.lineTo(Q,tt):L>epsilon?(G=cornerTangents(Q,tt,nt,rt,g,-L,S),q=cornerTangents(W,Z,lt,ut,g,-L,S),f.lineTo(G.cx+G.x01,G.cy+G.y01),L<F?f.arc(G.cx,G.cy,L,atan2(G.y01,G.x01),atan2(q.y01,q.x01),!S):(f.arc(G.cx,G.cy,L,atan2(G.y01,G.x01),atan2(G.y11,G.x11),!S),f.arc(0,0,g,atan2(G.cy+G.y11,G.cx+G.x11),atan2(q.cy+q.y11,q.cx+q.x11),S),f.arc(q.cx,q.cy,L,atan2(q.y11,q.x11),atan2(q.y01,q.x01),!S))):f.arc(0,0,g,N,P,S)}if(f.closePath(),p)return f=null,p+""||null}return h.centroid=function(){var p=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,b=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-pi/2;return[cos(b)*p,sin(b)*p]},h.innerRadius=function(p){return arguments.length?(t=typeof p=="function"?p:constant$1(+p),h):t},h.outerRadius=function(p){return arguments.length?(e=typeof p=="function"?p:constant$1(+p),h):e},h.cornerRadius=function(p){return arguments.length?(n=typeof p=="function"?p:constant$1(+p),h):n},h.padRadius=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:constant$1(+p),h):r},h.startAngle=function(p){return arguments.length?(i=typeof p=="function"?p:constant$1(+p),h):i},h.endAngle=function(p){return arguments.length?(o=typeof p=="function"?p:constant$1(+p),h):o},h.padAngle=function(p){return arguments.length?(l=typeof p=="function"?p:constant$1(+p),h):l},h.context=function(p){return arguments.length?(f=p==null?null:p,h):f},h}var slice=Array.prototype.slice;function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function line(t,e){var n=constant$1(!0),r=null,i=curveLinear,o=null,l=withPath(f);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function f(d){var h,p=(d=array(d)).length,b,g=!1,v;for(r==null&&(o=i(v=l())),h=0;h<=p;++h)!(h<p&&n(b=d[h],h,d))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(b,h,d),+e(b,h,d));if(v)return o=null,v+""||null}return f.x=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(+d),f):t},f.y=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),f):e},f.defined=function(d){return arguments.length?(n=typeof d=="function"?d:constant$1(!!d),f):n},f.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),f):i},f.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),f):r},f}function area(t,e,n){var r=null,i=constant$1(!0),o=null,l=curveLinear,f=null,d=withPath(h);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function h(b){var g,v,_,w=(b=array(b)).length,$,S=!1,R,T=new Array(w),P=new Array(w);for(o==null&&(f=l(R=d())),g=0;g<=w;++g){if(!(g<w&&i($=b[g],g,b))===S)if(S=!S)v=g,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),_=g-1;_>=v;--_)f.point(T[_],P[_]);f.lineEnd(),f.areaEnd()}S&&(T[g]=+t($,g,b),P[g]=+e($,g,b),f.point(r?+r($,g,b):T[g],n?+n($,g,b):P[g]))}if(R)return f=null,R+""||null}function p(){return line().defined(i).curve(l).context(o)}return h.x=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),r=null,h):t},h.x0=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),h):t},h.x1=function(b){return arguments.length?(r=b==null?null:typeof b=="function"?b:constant$1(+b),h):r},h.y=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),n=null,h):e},h.y0=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),h):e},h.y1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:constant$1(+b),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(b){return arguments.length?(i=typeof b=="function"?b:constant$1(!!b),h):i},h.curve=function(b){return arguments.length?(l=b,o!=null&&(f=l(o)),h):l},h.context=function(b){return arguments.length?(b==null?o=f=null:f=l(o=b),h):o},h}function descending$1(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function identity$1(t){return t}function pie(){var t=identity$1,e=descending$1,n=null,r=constant$1(0),i=constant$1(tau),o=constant$1(0);function l(f){var d,h=(f=array(f)).length,p,b,g=0,v=new Array(h),_=new Array(h),w=+r.apply(this,arguments),$=Math.min(tau,Math.max(-tau,i.apply(this,arguments)-w)),S,R=Math.min(Math.abs($)/h,o.apply(this,arguments)),T=R*($<0?-1:1),P;for(d=0;d<h;++d)(P=_[v[d]=d]=+t(f[d],d,f))>0&&(g+=P);for(e!=null?v.sort(function(N,I){return e(_[N],_[I])}):n!=null&&v.sort(function(N,I){return n(f[N],f[I])}),d=0,b=g?($-h*T)/g:0;d<h;++d,w=S)p=v[d],P=_[p],S=w+(P>0?P*b:0)+T,_[p]={data:f[p],index:d,value:P,startAngle:w,endAngle:S,padAngle:R};return _}return l.value=function(f){return arguments.length?(t=typeof f=="function"?f:constant$1(+f),l):t},l.sortValues=function(f){return arguments.length?(e=f,n=null,l):e},l.sort=function(f){return arguments.length?(n=f,e=null,l):n},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:constant$1(+f),l):r},l.endAngle=function(f){return arguments.length?(i=typeof f=="function"?f:constant$1(+f),l):i},l.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:constant$1(+f),l):o},l}var curveRadialLinear=curveRadial(curveLinear);function Radial(t){this._curve=t}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function curveRadial(t){function e(n){return new Radial(t(n))}return e._curve=t,e}function lineRadial(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(curveRadial(n)):e()._curve},t}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function areaRadial(){var t=area().curve(curveRadialLinear),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(n())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(r())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(i())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(o())},delete t.lineY1,t.curve=function(l){return arguments.length?e(curveRadial(l)):e()._curve},t}function pointRadial(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class BumpRadial{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=pointRadial(this._x0,this._y0),i=pointRadial(this._x0,this._y0=(this._y0+n)/2),o=pointRadial(e,this._y0),l=pointRadial(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...l)}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}function bumpRadial(t){return new BumpRadial(t)}function linkSource(t){return t.source}function linkTarget(t){return t.target}function link(t){let e=linkSource,n=linkTarget,r=x,i=y,o=null,l=null,f=withPath(d);function d(){let h;const p=slice.call(arguments),b=e.apply(this,p),g=n.apply(this,p);if(o==null&&(l=t(h=f())),l.lineStart(),p[0]=b,l.point(+r.apply(this,p),+i.apply(this,p)),p[0]=g,l.point(+r.apply(this,p),+i.apply(this,p)),l.lineEnd(),h)return l=null,h+""||null}return d.source=function(h){return arguments.length?(e=h,d):e},d.target=function(h){return arguments.length?(n=h,d):n},d.x=function(h){return arguments.length?(r=typeof h=="function"?h:constant$1(+h),d):r},d.y=function(h){return arguments.length?(i=typeof h=="function"?h:constant$1(+h),d):i},d.context=function(h){return arguments.length?(h==null?o=l=null:l=t(o=h),d):o},d}function linkHorizontal(){return link(bumpX)}function linkVertical(){return link(bumpY)}function linkRadial(){const t=link(bumpRadial);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const sqrt3$2=sqrt(3);var asterisk={draw(t,e){const n=sqrt(e+min(e/28,.75))*.59436,r=n/2,i=r*sqrt3$2;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},circle={draw(t,e){const n=sqrt(e/pi);t.moveTo(n,0),t.arc(0,0,n,0,tau)}},cross={draw(t,e){const n=sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};const tan30=sqrt(1/3),tan30_2=tan30*2;var diamond={draw(t,e){const n=sqrt(e/tan30_2),r=n*tan30;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},diamond2={draw(t,e){const n=sqrt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},plus={draw(t,e){const n=sqrt(e-min(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},square={draw(t,e){const n=sqrt(e),r=-n/2;t.rect(r,r,n,n)}},square2={draw(t,e){const n=sqrt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};const ka=.8908130915292852,kr=sin(pi/10)/sin(7*pi/10),kx=sin(tau/10)*kr,ky=-cos(tau/10)*kr;var star={draw(t,e){const n=sqrt(e*ka),r=kx*n,i=ky*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=tau*o/5,f=cos(l),d=sin(l);t.lineTo(d*n,-f*n),t.lineTo(f*r-d*i,d*r+f*i)}t.closePath()}};const sqrt3$1=sqrt(3);var triangle={draw(t,e){const n=-sqrt(e/(sqrt3$1*3));t.moveTo(0,n*2),t.lineTo(-sqrt3$1*n,-n),t.lineTo(sqrt3$1*n,-n),t.closePath()}};const sqrt3=sqrt(3);var triangle2={draw(t,e){const n=sqrt(e)*.6824,r=n/2,i=n*sqrt3/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const c=-.5,s=sqrt(3)/2,k=1/sqrt(12),a=(k/2+1)*3;var wye={draw(t,e){const n=sqrt(e/a),r=n/2,i=n*k,o=r,l=n*k+n,f=-o,d=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(f,d),t.lineTo(c*r-s*i,s*r+c*i),t.lineTo(c*o-s*l,s*o+c*l),t.lineTo(c*f-s*d,s*f+c*d),t.lineTo(c*r+s*i,c*i-s*r),t.lineTo(c*o+s*l,c*l-s*o),t.lineTo(c*f+s*d,c*d-s*f),t.closePath()}},times={draw(t,e){const n=sqrt(e-min(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};const symbolsFill=[circle,cross,diamond,square,star,triangle,wye],symbolsStroke=[circle,plus,times,triangle2,asterisk,square2,diamond2];function Symbol$1(t,e){let n=null,r=withPath(i);t=typeof t=="function"?t:constant$1(t||circle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:constant$1(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:constant$1(+o),i):e},i.context=function(o){return arguments.length?(n=o==null?null:o,i):n},i}function noop(){}function point$3(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function basis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function basisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:point$3(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function basisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,l=e[n]-i,f=-1,d;++f<=n;)d=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+d*o),this._beta*e[f]+(1-this._beta)*(i+d*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var bundle=function t(e){function n(r){return e===1?new Basis(r):new Bundle(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function point$2(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinal=function t(e){function n(r){return new Cardinal(r,e)}return n.tension=function(r){return t(+r)},n}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinalClosed=function t(e){function n(r){return new CardinalClosed(r,e)}return n.tension=function(r){return t(+r)},n}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cardinalOpen=function t(e){function n(r){return new CardinalOpen(r,e)}return n.tension=function(r){return t(+r)},n}(0);function point$1(t,e,n){var r=t._x1,i=t._y1,o=t._x2,l=t._y2;if(t._l01_a>epsilon){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>epsilon){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-e*t._l12_2a)/p,l=(l*h+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(r,i,o,l,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRom=function t(e){function n(r){return e?new CatmullRom(r,e):new Cardinal(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$1(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRomClosed=function t(e){function n(r){return e?new CatmullRomClosed(r,e):new CardinalClosed(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var catmullRomOpen=function t(e){function n(r){return e?new CatmullRomOpen(r,e):new CardinalOpen(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function linearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),f=(o*i+l*r)/(r+i);return(sign(o)+sign(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(f))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,l-f*n,o,l)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,n=slope3(this,t,e)),n);break;default:point(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=controlPoints(t),i=controlPoints(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function natural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function step(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function none$1(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,f=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<f;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function none(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function stack(){var t=constant$1([]),e=none,n=none$1,r=stackValue;function i(o){var l=Array.from(t.apply(this,arguments),stackSeries),f,d=l.length,h=-1,p;for(const b of o)for(f=0,++h;f<d;++f)(l[f][h]=[0,+r(b,l[f].key,h,o)]).data=b;for(f=0,p=array(e(l));f<d;++f)l[p[f]].index=f;return n(l,p),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:constant$1(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:constant$1(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?none:typeof o=="function"?o:constant$1(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o==null?none$1:o,i):n},i}function expand(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}none$1(t,e)}}function diverging(t,e){if((d=t.length)>0)for(var n,r=0,i,o,l,f,d,h=t[e[0]].length;r<h;++r)for(l=f=0,n=0;n<d;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=l,i[1]=l+=o):o<0?(i[1]=f,i[0]=f+=o):(i[0]=0,i[1]=o)}function silhouette(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,f=0;l<i;++l)f+=t[l][n][1]||0;r[n][1]+=r[n][0]=-f/2}none$1(t,e)}}function wiggle(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var f=0,d=0,h=0;f<l;++f){for(var p=t[e[f]],b=p[r][1]||0,g=p[r-1][1]||0,v=(b-g)/2,_=0;_<f;++_){var w=t[e[_]],$=w[r][1]||0,S=w[r-1][1]||0;v+=$-S}d+=b,h+=v*b}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,none$1(t,e)}}function appearance(t){var e=t.map(peak);return none(t).sort(function(n,r){return e[n]-e[r]})}function peak(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function ascending(t){var e=t.map(sum);return none(t).sort(function(n,r){return e[n]-e[r]})}function sum(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function descending(t){return ascending(t).reverse()}function insideOut(t){var e=t.length,n,r,i=t.map(sum),o=appearance(t),l=0,f=0,d=[],h=[];for(n=0;n<e;++n)r=o[n],l<f?(l+=i[r],d.push(r)):(f+=i[r],h.push(r));return h.reverse().concat(d)}function reverse(t){return none(t).reverse()}var constant=t=>()=>t;function ZoomEvent(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Transform(t,e,n){this.k=t,this.x=e,this.y=n}Transform.prototype={constructor:Transform,scale:function(t){return t===1?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity=new Transform(1,0,0);transform.prototype=Transform.prototype;function transform(t){for(;!t.__zoom;)if(!(t=t.parentNode))return identity;return t.__zoom}function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function defaultFilter(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function defaultExtent(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function defaultTransform(){return this.__zoom||identity}function defaultWheelDelta(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function zoom(){var t=defaultFilter,e=defaultExtent,n=defaultConstrain,r=defaultWheelDelta,i=defaultTouchable,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],f=250,d=interpolateZoom,h=dispatch("start","zoom","end"),p,b,g,v=500,_=150,w=0,$=10;function S(q){q.property("__zoom",defaultTransform).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",F).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(q,z,U,W){var Z=q.selection?q.selection():q;Z.property("__zoom",defaultTransform),q!==Z?N(q,z,U,W):Z.interrupt().each(function(){I(this,arguments).event(W).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},S.scaleBy=function(q,z,U,W){S.scaleTo(q,function(){var Z=this.__zoom.k,Q=typeof z=="function"?z.apply(this,arguments):z;return Z*Q},U,W)},S.scaleTo=function(q,z,U,W){S.transform(q,function(){var Z=e.apply(this,arguments),Q=this.__zoom,tt=U==null?P(Z):typeof U=="function"?U.apply(this,arguments):U,nt=Q.invert(tt),rt=typeof z=="function"?z.apply(this,arguments):z;return n(T(R(Q,rt),tt,nt),Z,l)},U,W)},S.translateBy=function(q,z,U,W){S.transform(q,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),l)},null,W)},S.translateTo=function(q,z,U,W,Z){S.transform(q,function(){var Q=e.apply(this,arguments),tt=this.__zoom,nt=W==null?P(Q):typeof W=="function"?W.apply(this,arguments):W;return n(identity.translate(nt[0],nt[1]).scale(tt.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof U=="function"?-U.apply(this,arguments):-U),Q,l)},W,Z)};function R(q,z){return z=Math.max(o[0],Math.min(o[1],z)),z===q.k?q:new Transform(z,q.x,q.y)}function T(q,z,U){var W=z[0]-U[0]*q.k,Z=z[1]-U[1]*q.k;return W===q.x&&Z===q.y?q:new Transform(q.k,W,Z)}function P(q){return[(+q[0][0]+ +q[1][0])/2,(+q[0][1]+ +q[1][1])/2]}function N(q,z,U,W){q.on("start.zoom",function(){I(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(W).end()}).tween("zoom",function(){var Z=this,Q=arguments,tt=I(Z,Q).event(W),nt=e.apply(Z,Q),rt=U==null?P(nt):typeof U=="function"?U.apply(Z,Q):U,lt=Math.max(nt[1][0]-nt[0][0],nt[1][1]-nt[0][1]),ut=Z.__zoom,st=typeof z=="function"?z.apply(Z,Q):z,pt=d(ut.invert(rt).concat(lt/ut.k),st.invert(rt).concat(lt/st.k));return function(ct){if(ct===1)ct=st;else{var mt=pt(ct),et=lt/mt[2];ct=new Transform(et,rt[0]-mt[0]*et,rt[1]-mt[1]*et)}tt.zoom(null,ct)}})}function I(q,z,U){return!U&&q.__zooming||new O(q,z)}function O(q,z){this.that=q,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(q,z),this.taps=0}O.prototype={event:function(q){return q&&(this.sourceEvent=q),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(q,z){return this.mouse&&q!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&q!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&q!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(q){var z=select(this.that).datum();h.call(q,this.that,new ZoomEvent(q,{sourceEvent:this.sourceEvent,target:S,type:q,transform:this.that.__zoom,dispatch:h}),z)}};function H(q,...z){if(!t.apply(this,arguments))return;var U=I(this,z).event(q),W=this.__zoom,Z=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),Q=pointer(q);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=W.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(W.k===Z)return;U.mouse=[Q,W.invert(Q)],interrupt(this),U.start()}noevent(q),U.wheel=setTimeout(tt,_),U.zoom("mouse",n(T(R(W,Z),U.mouse[0],U.mouse[1]),U.extent,l));function tt(){U.wheel=null,U.end()}}function V(q,...z){if(g||!t.apply(this,arguments))return;var U=q.currentTarget,W=I(this,z,!0).event(q),Z=select(q.view).on("mousemove.zoom",rt,!0).on("mouseup.zoom",lt,!0),Q=pointer(q,U),tt=q.clientX,nt=q.clientY;dragDisable(q.view),nopropagation(q),W.mouse=[Q,this.__zoom.invert(Q)],interrupt(this),W.start();function rt(ut){if(noevent(ut),!W.moved){var st=ut.clientX-tt,pt=ut.clientY-nt;W.moved=st*st+pt*pt>w}W.event(ut).zoom("mouse",n(T(W.that.__zoom,W.mouse[0]=pointer(ut,U),W.mouse[1]),W.extent,l))}function lt(ut){Z.on("mousemove.zoom mouseup.zoom",null),yesdrag(ut.view,W.moved),noevent(ut),W.event(ut).end()}}function F(q,...z){if(!!t.apply(this,arguments)){var U=this.__zoom,W=pointer(q.changedTouches?q.changedTouches[0]:q,this),Z=U.invert(W),Q=U.k*(q.shiftKey?.5:2),tt=n(T(R(U,Q),W,Z),e.apply(this,z),l);noevent(q),f>0?select(this).transition().duration(f).call(N,tt,W,q):select(this).call(S.transform,tt,W,q)}}function L(q,...z){if(!!t.apply(this,arguments)){var U=q.touches,W=U.length,Z=I(this,z,q.changedTouches.length===W).event(q),Q,tt,nt,rt;for(nopropagation(q),tt=0;tt<W;++tt)nt=U[tt],rt=pointer(nt,this),rt=[rt,this.__zoom.invert(rt),nt.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==rt[2]&&(Z.touch1=rt,Z.taps=0):(Z.touch0=rt,Q=!0,Z.taps=1+!!p);p&&(p=clearTimeout(p)),Q&&(Z.taps<2&&(b=rt[0],p=setTimeout(function(){p=null},v)),interrupt(this),Z.start())}}function j(q,...z){if(!!this.__zooming){var U=I(this,z).event(q),W=q.changedTouches,Z=W.length,Q,tt,nt,rt;for(noevent(q),Q=0;Q<Z;++Q)tt=W[Q],nt=pointer(tt,this),U.touch0&&U.touch0[2]===tt.identifier?U.touch0[0]=nt:U.touch1&&U.touch1[2]===tt.identifier&&(U.touch1[0]=nt);if(tt=U.that.__zoom,U.touch1){var lt=U.touch0[0],ut=U.touch0[1],st=U.touch1[0],pt=U.touch1[1],ct=(ct=st[0]-lt[0])*ct+(ct=st[1]-lt[1])*ct,mt=(mt=pt[0]-ut[0])*mt+(mt=pt[1]-ut[1])*mt;tt=R(tt,Math.sqrt(ct/mt)),nt=[(lt[0]+st[0])/2,(lt[1]+st[1])/2],rt=[(ut[0]+pt[0])/2,(ut[1]+pt[1])/2]}else if(U.touch0)nt=U.touch0[0],rt=U.touch0[1];else return;U.zoom("touch",n(T(tt,nt,rt),U.extent,l))}}function G(q,...z){if(!!this.__zooming){var U=I(this,z).event(q),W=q.changedTouches,Z=W.length,Q,tt;for(nopropagation(q),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),Q=0;Q<Z;++Q)tt=W[Q],U.touch0&&U.touch0[2]===tt.identifier?delete U.touch0:U.touch1&&U.touch1[2]===tt.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(tt=pointer(tt,this),Math.hypot(b[0]-tt[0],b[1]-tt[1])<$)){var nt=select(this).on("dblclick.zoom");nt&&nt.apply(this,arguments)}}}return S.wheelDelta=function(q){return arguments.length?(r=typeof q=="function"?q:constant(+q),S):r},S.filter=function(q){return arguments.length?(t=typeof q=="function"?q:constant(!!q),S):t},S.touchable=function(q){return arguments.length?(i=typeof q=="function"?q:constant(!!q),S):i},S.extent=function(q){return arguments.length?(e=typeof q=="function"?q:constant([[+q[0][0],+q[0][1]],[+q[1][0],+q[1][1]]]),S):e},S.scaleExtent=function(q){return arguments.length?(o[0]=+q[0],o[1]=+q[1],S):[o[0],o[1]]},S.translateExtent=function(q){return arguments.length?(l[0][0]=+q[0][0],l[1][0]=+q[1][0],l[0][1]=+q[0][1],l[1][1]=+q[1][1],S):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},S.constrain=function(q){return arguments.length?(n=q,S):n},S.duration=function(q){return arguments.length?(f=+q,S):f},S.interpolate=function(q){return arguments.length?(d=q,S):d},S.on=function(){var q=h.on.apply(h,arguments);return q===h?S:q},S.clickDistance=function(q){return arguments.length?(w=(q=+q)*q,S):Math.sqrt(w)},S.tapDistance=function(q){return arguments.length?($=+q,S):$},S}var d3=Object.freeze(Object.defineProperty({__proto__:null,bisect,bisectRight,bisectLeft,bisectCenter,ascending:ascending$3,bisector,blur,blur2,blurImage,count:count$1,cross:cross$2,cumsum,descending:descending$2,deviation,extent:extent$1,Adder,fsum,fcumsum,group,flatGroup,flatRollup,groups,index:index$4,indexes,rollup,rollups,groupSort,bin,histogram:bin,thresholdFreedmanDiaconis,thresholdScott,thresholdSturges,max:max$3,maxIndex,mean,median,medianIndex,merge,min:min$2,minIndex,mode,nice:nice$1,pairs,permute,quantile:quantile$1,quantileIndex,quantileSorted,quickselect,range:range$2,rank,least,leastIndex,greatest,greatestIndex,scan,shuffle:shuffle$1,shuffler,sum:sum$2,ticks,tickIncrement,tickStep,transpose,variance,zip,every,some,filter:filter$1,map:map$1,reduce,reverse:reverse$1,sort,difference,disjoint,intersection,subset,superset,union,InternMap,InternSet,axisTop,axisRight,axisBottom,axisLeft,brush,brushX,brushY,brushSelection,chord,chordTranspose,chordDirected,ribbon:ribbon$1,ribbonArrow,color,rgb,hsl:hsl$2,lab:lab$1,hcl:hcl$2,lch,gray,cubehelix:cubehelix$3,contours:Contours,contourDensity:density,Delaunay,Voronoi,dispatch,drag,dragDisable,dragEnable:yesdrag,dsvFormat,csvParse,csvParseRows,csvFormat,csvFormatBody,csvFormatRows,csvFormatRow,csvFormatValue,tsvParse,tsvParseRows,tsvFormat,tsvFormatBody,tsvFormatRows,tsvFormatRow,tsvFormatValue,autoType,easeLinear:linear$1,easeQuad:quadInOut,easeQuadIn:quadIn,easeQuadOut:quadOut,easeQuadInOut:quadInOut,easeCubic:cubicInOut,easeCubicIn:cubicIn,easeCubicOut:cubicOut,easeCubicInOut:cubicInOut,easePoly:polyInOut,easePolyIn:polyIn,easePolyOut:polyOut,easePolyInOut:polyInOut,easeSin:sinInOut,easeSinIn:sinIn,easeSinOut:sinOut,easeSinInOut:sinInOut,easeExp:expInOut,easeExpIn:expIn,easeExpOut:expOut,easeExpInOut:expInOut,easeCircle:circleInOut,easeCircleIn:circleIn,easeCircleOut:circleOut,easeCircleInOut:circleInOut,easeBounce:bounceOut,easeBounceIn:bounceIn,easeBounceOut:bounceOut,easeBounceInOut:bounceInOut,easeBack:backInOut,easeBackIn:backIn,easeBackOut:backOut,easeBackInOut:backInOut,easeElastic:elasticOut,easeElasticIn:elasticIn,easeElasticOut:elasticOut,easeElasticInOut:elasticInOut,blob,buffer,dsv,csv,tsv,image,json,text,xml,html,svg,forceCenter:center,forceCollide:collide,forceLink:link$2,forceManyBody:manyBody,forceRadial:radial$1,forceSimulation:simulation,forceX:x$1,forceY:y$1,formatDefaultLocale:defaultLocale$1,get format(){return format},get formatPrefix(){return formatPrefix},formatLocale:formatLocale$1,formatSpecifier,FormatSpecifier,precisionFixed,precisionPrefix,precisionRound,geoArea:area$2,geoBounds:bounds,geoCentroid:centroid$1,geoCircle:circle$1,geoClipAntimeridian:clipAntimeridian,geoClipCircle:clipCircle,geoClipExtent:extent,geoClipRectangle:clipRectangle,geoContains:contains$1,geoDistance:distance,geoGraticule:graticule,geoGraticule10:graticule10,geoInterpolate:interpolate,geoLength:length$1,geoPath:index$2,geoAlbers:albers,geoAlbersUsa:albersUsa,geoAzimuthalEqualArea:azimuthalEqualArea,geoAzimuthalEqualAreaRaw:azimuthalEqualAreaRaw,geoAzimuthalEquidistant:azimuthalEquidistant,geoAzimuthalEquidistantRaw:azimuthalEquidistantRaw,geoConicConformal:conicConformal,geoConicConformalRaw:conicConformalRaw,geoConicEqualArea:conicEqualArea,geoConicEqualAreaRaw:conicEqualAreaRaw,geoConicEquidistant:conicEquidistant,geoConicEquidistantRaw:conicEquidistantRaw,geoEqualEarth:equalEarth,geoEqualEarthRaw:equalEarthRaw,geoEquirectangular:equirectangular,geoEquirectangularRaw:equirectangularRaw,geoGnomonic:gnomonic,geoGnomonicRaw:gnomonicRaw,geoIdentity:identity$4,geoProjection:projection,geoProjectionMutator:projectionMutator,geoMercator:mercator,geoMercatorRaw:mercatorRaw,geoNaturalEarth1:naturalEarth1,geoNaturalEarth1Raw:naturalEarth1Raw,geoOrthographic:orthographic,geoOrthographicRaw:orthographicRaw,geoStereographic:stereographic,geoStereographicRaw:stereographicRaw,geoTransverseMercator:transverseMercator,geoTransverseMercatorRaw:transverseMercatorRaw,geoRotation:rotation,geoStream,geoTransform:transform$1,cluster,hierarchy,Node:Node$1,pack:index$1,packSiblings:siblings,packEnclose:enclose,partition,stratify,tree,treemap:index,treemapBinary:binary,treemapDice,treemapSlice,treemapSliceDice:sliceDice,treemapSquarify:squarify,treemapResquarify:resquarify,interpolate:interpolate$2,interpolateArray:array$3,interpolateBasis:basis$2,interpolateBasisClosed:basisClosed$1,interpolateDate:date$1,interpolateDiscrete:discrete,interpolateHue:hue,interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object$1,interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateLab:lab,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateCubehelix:cubehelix$2,interpolateCubehelixLong:cubehelixLong,piecewise,quantize:quantize$1,Path:Path$1,path,pathRound,polygonArea:area$1,polygonCentroid:centroid,polygonHull:hull,polygonContains:contains,polygonLength:length,quadtree,randomUniform:uniform,randomInt:int,randomNormal:normal,randomLogNormal:logNormal,randomBates:bates,randomIrwinHall:irwinHall,randomExponential:exponential,randomPareto:pareto,randomBernoulli:bernoulli,randomGeometric:geometric,randomBinomial:binomial,randomGamma:gamma,randomBeta:beta,randomWeibull:weibull,randomCauchy:cauchy,randomLogistic:logistic,randomPoisson:poisson,randomLcg:lcg,scaleBand:band,scalePoint:point$4,scaleIdentity:identity$2,scaleLinear:linear,scaleLog:log,scaleSymlog:symlog,scaleOrdinal:ordinal,scaleImplicit:implicit,scalePow:pow,scaleSqrt:sqrt$1,scaleRadial:radial,scaleQuantile:quantile,scaleQuantize:quantize,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSequentialQuantile:sequentialQuantile,scaleDiverging:diverging$1,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,tickFormat,schemeCategory10:category10,schemeAccent:Accent,schemeDark2:Dark2,schemePaired:Paired,schemePastel1:Pastel1,schemePastel2:Pastel2,schemeSet1:Set1,schemeSet2:Set2,schemeSet3:Set3,schemeTableau10:Tableau10,interpolateBrBG:BrBG,schemeBrBG:scheme$q,interpolatePRGn:PRGn,schemePRGn:scheme$p,interpolatePiYG:PiYG,schemePiYG:scheme$o,interpolatePuOr:PuOr,schemePuOr:scheme$n,interpolateRdBu:RdBu,schemeRdBu:scheme$m,interpolateRdGy:RdGy,schemeRdGy:scheme$l,interpolateRdYlBu:RdYlBu,schemeRdYlBu:scheme$k,interpolateRdYlGn:RdYlGn,schemeRdYlGn:scheme$j,interpolateSpectral:Spectral,schemeSpectral:scheme$i,interpolateBuGn:BuGn,schemeBuGn:scheme$h,interpolateBuPu:BuPu,schemeBuPu:scheme$g,interpolateGnBu:GnBu,schemeGnBu:scheme$f,interpolateOrRd:OrRd,schemeOrRd:scheme$e,interpolatePuBuGn:PuBuGn,schemePuBuGn:scheme$d,interpolatePuBu:PuBu,schemePuBu:scheme$c,interpolatePuRd:PuRd,schemePuRd:scheme$b,interpolateRdPu:RdPu,schemeRdPu:scheme$a,interpolateYlGnBu:YlGnBu,schemeYlGnBu:scheme$9,interpolateYlGn:YlGn,schemeYlGn:scheme$8,interpolateYlOrBr:YlOrBr,schemeYlOrBr:scheme$7,interpolateYlOrRd:YlOrRd,schemeYlOrRd:scheme$6,interpolateBlues:Blues,schemeBlues:scheme$5,interpolateGreens:Greens,schemeGreens:scheme$4,interpolateGreys:Greys,schemeGreys:scheme$3,interpolatePurples:Purples,schemePurples:scheme$2,interpolateReds:Reds,schemeReds:scheme$1,interpolateOranges:Oranges,schemeOranges:scheme,interpolateCividis:cividis,interpolateCubehelixDefault:cubehelix,interpolateRainbow:rainbow,interpolateWarm:warm,interpolateCool:cool,interpolateSinebow:sinebow,interpolateTurbo:turbo,interpolateViridis:viridis,interpolateMagma:magma,interpolateInferno:inferno,interpolatePlasma:plasma,create:create$1,creator,local:local$1,matcher,namespace,namespaces,pointer,pointers,select,selectAll,selection,selector,selectorAll,style:styleValue,window:defaultView,arc,area,line,pie,areaRadial,radialArea:areaRadial,lineRadial:lineRadial$1,radialLine:lineRadial$1,pointRadial,link,linkHorizontal,linkVertical,linkRadial,symbol:Symbol$1,symbolsStroke,symbolsFill,symbols:symbolsFill,symbolAsterisk:asterisk,symbolCircle:circle,symbolCross:cross,symbolDiamond:diamond,symbolDiamond2:diamond2,symbolPlus:plus,symbolSquare:square,symbolSquare2:square2,symbolStar:star,symbolTriangle:triangle,symbolTriangle2:triangle2,symbolWye:wye,symbolTimes:times,symbolX:times,curveBasisClosed:basisClosed,curveBasisOpen:basisOpen,curveBasis:basis,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle:bundle,curveCardinalClosed:cardinalClosed,curveCardinalOpen:cardinalOpen,curveCardinal:cardinal,curveCatmullRomClosed:catmullRomClosed,curveCatmullRomOpen:catmullRomOpen,curveCatmullRom:catmullRom,curveLinearClosed:linearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural:natural,curveStep:step,curveStepAfter:stepAfter,curveStepBefore:stepBefore,stack,stackOffsetExpand:expand,stackOffsetDiverging:diverging,stackOffsetNone:none$1,stackOffsetSilhouette:silhouette,stackOffsetWiggle:wiggle,stackOrderAppearance:appearance,stackOrderAscending:ascending,stackOrderDescending:descending,stackOrderInsideOut:insideOut,stackOrderNone:none,stackOrderReverse:reverse,timeInterval,utcMillisecond:millisecond,utcMilliseconds:milliseconds,timeMillisecond:millisecond,timeMilliseconds:milliseconds,utcSecond:second,utcSeconds:seconds,timeSecond:second,timeSeconds:seconds,timeMinute,timeMinutes,utcMinute,utcMinutes,timeHour,timeHours,utcHour,utcHours,timeDay,timeDays,utcDay,utcDays,unixDay,unixDays,timeWeek:timeSunday,timeWeeks:timeSundays,timeSunday,timeSundays,timeMonday,timeMondays,timeTuesday,timeTuesdays,timeWednesday,timeWednesdays,timeThursday,timeThursdays,timeFriday,timeFridays,timeSaturday,timeSaturdays,utcWeek:utcSunday,utcWeeks:utcSundays,utcSunday,utcSundays,utcMonday,utcMondays,utcTuesday,utcTuesdays,utcWednesday,utcWednesdays,utcThursday,utcThursdays,utcFriday,utcFridays,utcSaturday,utcSaturdays,timeMonth,timeMonths,utcMonth,utcMonths,timeYear,timeYears,utcYear,utcYears,utcTicks,utcTickInterval,timeTicks,timeTickInterval,timeFormatDefaultLocale:defaultLocale,get timeFormat(){return timeFormat},get timeParse(){return timeParse},get utcFormat(){return utcFormat},get utcParse(){return utcParse},timeFormatLocale:formatLocale,isoFormat:formatIso$1,isoParse:parseIso$1,now,timer,timerFlush,timeout,interval,transition,active,interrupt,zoom,zoomTransform:transform,zoomIdentity:identity,ZoomTransform:Transform},Symbol.toStringTag,{value:"Module"}));const useREStore=defineStore("reStore",{state:()=>({router:useRouter(),authenticated:ref(!1),wiki:ref(wiki),treeData:ref([{id:"course1",label:"course1",xxx:[{id:"a1",label:"a1",xxx:[{id:"a1-content",label:"a1-content",xxx:[{id:"123",label:"yeah sure"}]}]},{label:"a2"},{label:"a3"}]},{}])}),actions:{async checkUser(t){console.log(t,dbRT,auth,d3);const e=auth.currentUser.email.replace("@","_at_").replace(".","_dot_");console.log("emailKey: ",e);const n=ref$1(getDatabase()),r=`users/${e}`;await get$2(child(n,r)).then(i=>{i.exists()?(console.log("Found user",i.key),this.router.push("/student")):console.log("User not found")}).catch(i=>{console.log("Error at checkUsder: ",i)})},logout(){this.authenticated=!1,this.router.push("/")},async getPage(t,e){let n,r,i;if(t.length>0){const d=t.split(","),h=parseInt(Math.random()*d.length);console.log("searchTerm: ",d[h]);const p=await this.wiki.search(d[h],{suggestion:!1,limit:30}),b=parseInt(Math.random()*p.results.length);i=p.results[b].pageid,r=await this.wiki.page(i),n=await r.summary()}else e!==null?(r=await this.wiki.page(e),n=await r.summary()):(n=await this.wiki.random(),i=n.pageid,r=await this.wiki.page(i));const o=await r.images({limit:100});let l=[];for(const d in o)console.log(d),o[0].title.indexOf(".svg")>-1||o[0].title.indexOf(".tif")>-1||o[0].title.indexOf(".mid")>-1||o[0].title.indexOf(".ogg")>-1||o[0].title.indexOf(".ogv")>-1||o[0].title.indexOf("Red")===0||o[0].title.indexOf("Icon")>-1||o[0].title.indexOf("logo")>-1||o[0].title.indexOf("File:Kit")>-1||typeof o[0].url=="undefined"?o.shift():(l.push({url:o[0].url,cap:o[0].title}),o.push(o.shift()));console.log("imgs ",l);const f={isCustom:!1,pageid:i,guideWords:t,imgIdx:0,imgs:l,imgFit:"cover",pctReplace:15,pageText:n.extract};return console.log("returning page ",f),f}}});export{selectAll as a,select as s,useREStore as u};
