import{a as _,Q as m,i as x,h as k,C as f}from"./ClosePopup.f08e1a84.js";import{Q as A}from"./QInput.91655455.js";import{_ as K,r as C,o as r,c as y,w as s,a as e,aK as V,p as B,Q as p,e as o,af as d,au as c,av as S,aL as v,aJ as T,ag as h,x as g}from"./index.f35e6011.js";import{Q as w}from"./QTooltip.c9d6af0b.js";import{Q as b}from"./QPage.a1cf7f7d.js";import{u as q}from"./re-store.a5d13456.js";import{c as N}from"./copy-to-clipboard.75abab8e.js";import"./use-dark.2a7c74b8.js";import"./use-portal.19fd0095.js";import"./use-key-composition.e80cc957.js";import"./position-engine.f4fd536d.js";import"./selection.8a8dfc81.js";import"./firebase.ea708b63.js";const P=q(),$={components:{},setup(){return{reStore:P,courseKey:C(null),courseTitle:C(null),prompt:C(!1)}},methods:{copyCK(l){N(l).then(()=>{console.log("ck copied to clipboard",l)}).catch(t=>{console.log(t)})},newCourseCB(){console.log("courseCB"),this.reStore.newCourse()},newAssignmentCB(l){console.log("assignmentCB: ",l),this.reStore.newAssignment(l)},editAssignmentCB(l,t){console.log("editAssignmentCB: ",l,t),this.reStore.editAssignment(l,t)},changeTitleCB(){console.log("TeacherPage.titleCB",this.courseKey,this.courseTitle),this.reStore.setCourseTitle(this.courseKey,this.courseTitle)}}},D=o("div",{class:"text-h6"},"Change course title",-1),E={class:"flex-center q-mt-xl q-mb-xl row q-gutter-md"},H=o("div",{class:"text-h6"},"My Teacher Page",-1),I={key:0,class:"flex-center q-pa-md"},L=o("br",null,null,-1),U={width:"100%"},F=o("tr",null,[o("th"),o("th",{colSpan:"100"}," Assignments ")],-1),J={key:0},M=o("th",null,"Student",-1),O={class:"hidden"};function R(l,t,j,a,z,G){return r(),y(b,{class:"q-gutter-md"},{default:s(()=>[e(k,{modelValue:a.prompt,"onUpdate:modelValue":t[3]||(t[3]=n=>a.prompt=n),persistent:""},{default:s(()=>[e(_,{style:{"min-width":"350px"}},{default:s(()=>[e(m,null,{default:s(()=>[D]),_:1}),e(m,{class:"q-pt-none"},{default:s(()=>[e(A,{dense:"",modelValue:a.courseTitle,"onUpdate:modelValue":t[0]||(t[0]=n=>a.courseTitle=n),autofocus:"",onKeyup:t[1]||(t[1]=V(n=>{a.prompt=!1,this.changeTitleCB()},["enter"])),onHide:this.dck},null,8,["modelValue","onHide"])]),_:1}),e(x,{align:"right"},{default:s(()=>[B(e(p,{outline:"",label:"Cancel"},null,512),[[f]]),B(e(p,{outline:"",label:"Save",onClick:t[2]||(t[2]=n=>this.changeTitleCB())},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",E,[H,o("div",null,[e(p,{icon:"list_alt",onClick:t[4]||(t[4]=n=>this.newCourseCB())},{default:s(()=>[e(w,null,{default:s(()=>[d("Add a course")]),_:1})]),_:1})])]),this.reStore.userSnapshot.teaching?(r(),c("div",I,[(r(!0),c(S,null,v(this.reStore.userSnapshot.teaching,(n,i)=>(r(),y(_,{key:n.ck,class:"course-card q-mt-md q-mb-md"},{default:s(()=>[e(m,null,{default:s(()=>[d(" Title: "+h(i)+" \xA0",1),e(g,{class:"ptr",name:"edit",onClick:u=>{a.prompt=!0,this.courseTitle=this.reStore.courses[i].title,this.courseKey=i}},null,8,["onClick"]),L,d(" Key: "+h(i)+" ",1),e(g,{class:"ptr",name:"content_copy",onClick:u=>this.copyCK(i)},null,8,["onClick"]),o("div",null,[e(p,{icon:"assignment",onClick:u=>this.newAssignmentCB(n.ck)},{default:s(()=>[e(w,null,{default:s(()=>[d("New Assignment")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024),e(m,null,{default:s(()=>[o("table",U,[F,this.reStore.courses[i]?(r(),c("tr",J,[M,(r(!0),c(S,null,v(this.reStore.courses[i].assignments,(u,Q)=>(r(),c("th",{key:u},[d(h(u.title)+" ",1),e(g,{onClick:W=>this.editAssignmentCB(i,u.id),name:"edit"},null,8,["onClick"]),o("span",O,h(Q),1)]))),128))])):T("",!0)])]),_:2},1024)]),_:2},1024))),128))])):T("",!0)]),_:1})}var de=K($,[["render",R]]);export{de as default};
